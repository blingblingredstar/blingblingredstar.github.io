<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"yoursite.com","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.14.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"æœç´¢...","empty":"æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æœç´¢ç»“æœï¼š${query}","hits_time":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰","hits":"æ‰¾åˆ° ${hits} ä¸ªæœç´¢ç»“æœ"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Introductionslides  Overview  JavaScript principles Callbacks &amp; High Order functions Closure Classes&#x2F;Prototypes &amp; Asynchronicity   What to focus on in the workshop?  Analytical problem so">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript The Hard Parts, v2">
<meta property="og:url" content="http://yoursite.com/2020/04/06/JavaScript-The-Hard-Parts-v2/index.html">
<meta property="og:site_name" content="åˆ˜å‹‡çš„åšå®¢">
<meta property="og:description" content="Introductionslides  Overview  JavaScript principles Callbacks &amp; High Order functions Closure Classes&#x2F;Prototypes &amp; Asynchronicity   What to focus on in the workshop?  Analytical problem so">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-04-05T16:42:47.000Z">
<meta property="article:modified_time" content="2023-05-17T14:12:23.327Z">
<meta property="article:author" content="åˆ˜å‹‡">
<meta property="article:tag" content="FrontEndMasters">
<meta property="article:tag" content="JavaScript">
<meta property="article:tag" content="é—­åŒ…">
<meta property="article:tag" content="é«˜é˜¶å‡½æ•°">
<meta property="article:tag" content="é¢ç›¸å¯¹è±¡">
<meta property="article:tag" content="åŸå‹æœºåˆ¶">
<meta property="article:tag" content="Promise">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://yoursite.com/2020/04/06/JavaScript-The-Hard-Parts-v2/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://yoursite.com/2020/04/06/JavaScript-The-Hard-Parts-v2/","path":"2020/04/06/JavaScript-The-Hard-Parts-v2/","title":"JavaScript The Hard Parts, v2"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>JavaScript The Hard Parts, v2 | åˆ˜å‹‡çš„åšå®¢</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ " role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">åˆ˜å‹‡çš„åšå®¢</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="æœç´¢" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript-Principles"><span class="nav-number">2.</span> <span class="nav-text">JavaScript Principles</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Thread-of-Execution"><span class="nav-number">2.1.</span> <span class="nav-text">Thread of Execution</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Functions"><span class="nav-number">2.2.</span> <span class="nav-text">Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Call-Stack"><span class="nav-number">2.3.</span> <span class="nav-text">Call Stack</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Functions-amp-Callbacks"><span class="nav-number">3.</span> <span class="nav-text">Functions &amp; Callbacks</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Generalized-Functions"><span class="nav-number">3.1.</span> <span class="nav-text">Generalized Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Repeating-Functionality"><span class="nav-number">3.2.</span> <span class="nav-text">Repeating Functionality</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#High-Order-Functions"><span class="nav-number">3.3.</span> <span class="nav-text">High Order Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Higher-Order-Functions-Example"><span class="nav-number">3.4.</span> <span class="nav-text">Higher Order Functions Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Callbacks-amp-Higher-Order-Functions"><span class="nav-number">3.5.</span> <span class="nav-text">Callbacks &amp; Higher Order Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrow-Functions"><span class="nav-number">3.6.</span> <span class="nav-text">Arrow Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pair-Programming"><span class="nav-number">3.7.</span> <span class="nav-text">Pair Programming</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Closure"><span class="nav-number">4.</span> <span class="nav-text">Closure</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure-Introduction"><span class="nav-number">4.1.</span> <span class="nav-text">Closure Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Returning-Functions"><span class="nav-number">4.2.</span> <span class="nav-text">Returning Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Nested-Function-Scope"><span class="nav-number">4.3.</span> <span class="nav-text">Nested Function Scope</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Retaining-Function-Memory"><span class="nav-number">4.4.</span> <span class="nav-text">Retaining Function Memory</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Closure"><span class="nav-number">4.5.</span> <span class="nav-text">Function Closure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure-Technical-Definition-amp-Review"><span class="nav-number">4.6.</span> <span class="nav-text">Closure Technical Definition &amp; Review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multiple-Closure-Instance"><span class="nav-number">4.7.</span> <span class="nav-text">Multiple Closure Instance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Practical-Application"><span class="nav-number">4.8.</span> <span class="nav-text">Practical Application</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure-Exercise"><span class="nav-number">4.9.</span> <span class="nav-text">Closure Exercise</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Asynchronous-JavaScript"><span class="nav-number">5.</span> <span class="nav-text">Asynchronous JavaScript</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Single-Threaded-Execution-Review"><span class="nav-number">5.1.</span> <span class="nav-text">Single Threaded Execution Review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Asynchronicity-in-JavaScript"><span class="nav-number">5.2.</span> <span class="nav-text">Asynchronicity in JavaScript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Asynchronous-Browser-Features"><span class="nav-number">5.3.</span> <span class="nav-text">Asynchronous Browser Features</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-API-Rules"><span class="nav-number">5.4.</span> <span class="nav-text">Web API Rules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Callback-Queue-amp-Event-Loop"><span class="nav-number">5.5.</span> <span class="nav-text">Callback Queue &amp; Event Loop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Callback-Hell-amp-Async-Exercise"><span class="nav-number">5.6.</span> <span class="nav-text">Callback Hell &amp; Async Exercise</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Promises"><span class="nav-number">6.</span> <span class="nav-text">Promises</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Promises-Introduction"><span class="nav-number">6.1.</span> <span class="nav-text">Promises Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promises-Example-fetch"><span class="nav-number">6.2.</span> <span class="nav-text">Promises Example: fetch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promises-Example-then"><span class="nav-number">6.3.</span> <span class="nav-text">Promises Example: then</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-APIs-amp-Promises-Example-fetch"><span class="nav-number">6.4.</span> <span class="nav-text">Web APIs &amp; Promises Example: fetch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Web-APIs-amp-Promises-Example-Microtask-Queue"><span class="nav-number">6.5.</span> <span class="nav-text">Web APIs &amp; Promises Example: Microtask Queue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promises-Review"><span class="nav-number">6.6.</span> <span class="nav-text">Promises Review</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Classes-amp-Prototypes"><span class="nav-number">7.</span> <span class="nav-text">Classes &amp; Prototypes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Class-amp-OOP-Introduction"><span class="nav-number">7.1.</span> <span class="nav-text">Class &amp; OOP Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Object-Dot-Notation"><span class="nav-number">7.2.</span> <span class="nav-text">Object Dot Notation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Prototype-Chain"><span class="nav-number">7.3.</span> <span class="nav-text">Prototype Chain</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Prototype-Chain-Example-Implicit-Parameters"><span class="nav-number">7.4.</span> <span class="nav-text">Prototype Chain Example: Implicit Parameters</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hasOwnProperty-Method"><span class="nav-number">7.5.</span> <span class="nav-text">hasOwnProperty Method</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#this-Keyword"><span class="nav-number">7.6.</span> <span class="nav-text">this Keyword</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrow-Function-Scope-amp-this"><span class="nav-number">7.7.</span> <span class="nav-text">Arrow Function Scope &amp; this</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Prototype-Chain-Review"><span class="nav-number">7.8.</span> <span class="nav-text">Prototype Chain Review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#new-Keyword"><span class="nav-number">7.9.</span> <span class="nav-text">new Keyword</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#new-Keyword-Example"><span class="nav-number">7.10.</span> <span class="nav-text">new Keyword Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class-keyword"><span class="nav-number">7.11.</span> <span class="nav-text">class keyword</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="åˆ˜å‹‡"
      src="https://avatars.githubusercontent.com/u/43870278?s=400&u=7e0e1bf1f3550a08fa79cb6368718793280eb5eb&v=4">
  <p class="site-author-name" itemprop="name">åˆ˜å‹‡</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">100</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">151</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/blingblingredstar" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;blingblingredstar" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:564447023@qq.com" title="E-Mail â†’ mailto:564447023@qq.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/06/JavaScript-The-Hard-Parts-v2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/43870278?s=400&u=7e0e1bf1f3550a08fa79cb6368718793280eb5eb&v=4">
      <meta itemprop="name" content="åˆ˜å‹‡">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="åˆ˜å‹‡çš„åšå®¢">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="JavaScript The Hard Parts, v2 | åˆ˜å‹‡çš„åšå®¢">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JavaScript The Hard Parts, v2
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">å‘è¡¨äº</span>

      <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-06 00:42:47" itemprop="dateCreated datePublished" datetime="2020-04-06T00:42:47+08:00">2020-04-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">æ›´æ–°äº</span>
      <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-05-17 22:12:23" itemprop="dateModified" datetime="2023-05-17T22:12:23+08:00">2023-05-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">åˆ†ç±»äº</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">å­¦ä¹ ç¬”è®°</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><a target="_blank" rel="noopener" href="https://static.frontendmasters.com/resources/2019-09-18-javascript-hard-parts-v2/javascript-hard-parts-v2.pdf">slides</a></p>
<ul>
<li><p>Overview</p>
<ul>
<li>JavaScript principles</li>
<li>Callbacks &amp; High Order functions</li>
<li>Closure</li>
<li>Classes&#x2F;Prototypes &amp; Asynchronicity</li>
</ul>
</li>
<li><p>What to focus on in the workshop?</p>
<ul>
<li>Analytical problem solving</li>
<li>Engineering approach</li>
<li>Technical communication</li>
<li>Non-technical communication</li>
<li>JavaScript and programming experience<span id="more"></span></li>
</ul>
</li>
<li><p>Junior engineer takes any feature theyâ€™re given to build. And if theyâ€™ve seen technology or maybe the solution before, they can solve it.</p>
</li>
<li><p>Mid-level engineer takes any feature theyâ€™re given to build. And even if theyâ€™ve not seen the technology or solution before, they can figure it out because theyâ€™ve learned how to learn, theyâ€™re problem solving strong.</p>
</li>
<li><p>Senior engineer is somebody who can take any given feature, and not only just figure for themselves, but enable the rest of their team to figure it out. Because they have technical communication, the ability to explain what their code is doing to somebody else in their team, in a clear and cordial manner.</p>
</li>
</ul>
<h2 id="JavaScript-Principles"><a href="#JavaScript-Principles" class="headerlink" title="JavaScript Principles"></a>JavaScript Principles</h2><h3 id="Thread-of-Execution"><a href="#Thread-of-Execution" class="headerlink" title="Thread of Execution"></a>Thread of Execution</h3><ul>
<li>When JavaScript code runs, it:<ul>
<li>Goes through the code line-by-line and runs&#x2F;â€˜executesâ€™ each line - known as <strong>thread of execution</strong></li>
<li>Saves â€˜dataâ€™ like strings and arrays so we can use that data later - in its <strong>memory</strong><ul>
<li>We can even save code(â€˜functionsâ€™)</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiplyBy2</span> (inputNumber) &#123;</span><br><span class="line">  <span class="keyword">const</span> result = inputNumber * <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = <span class="title function_">multiplyBy2</span>(num)</span><br><span class="line"><span class="keyword">const</span> newOutput = <span class="title function_">multiplyBy2</span>(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h3><ul>
<li><p>Code we save (â€˜defineâ€™) functions &amp; can use (call&#x2F;invoke&#x2F;execute&#x2F;run) later with the functionâ€™s name &amp; ()</p>
</li>
<li><p>Execution context</p>
<ul>
<li>Created to run the code of a function - has 2 parts(weâ€™ve already seen them)<ul>
<li>Thread of execution</li>
<li>Memory</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Call-Stack"><a href="#Call-Stack" class="headerlink" title="Call Stack"></a>Call Stack</h3><ul>
<li>JavaScript keeps track of what function is currently running(whereâ€™s the thread of execution)</li>
<li>Run a function - add to call stack</li>
<li>Finish running the function - JS removes it from call stack</li>
<li>Whatever is top of the call stack - thatâ€™s the function weâ€™re currently running</li>
</ul>
<h2 id="Functions-amp-Callbacks"><a href="#Functions-amp-Callbacks" class="headerlink" title="Functions &amp; Callbacks"></a>Functions &amp; Callbacks</h2><h3 id="Generalized-Functions"><a href="#Generalized-Functions" class="headerlink" title="Generalized Functions"></a>Generalized Functions</h3><ul>
<li>Why do we even have functions?<ul>
<li>Letâ€™s see whyâ€¦</li>
<li>Create a function 10 squared<ul>
<li>Takes no input</li>
<li>Returns 10 * 10</li>
</ul>
</li>
<li>What is the syntax(the exact code we type)?</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">tenSquared</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">10</span> * <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">tenSquared</span>() <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>What about a 9 squared function?</p>
</li>
<li><p>What about a 8 squared function? 125 squared function?</p>
</li>
<li><p>What principle are we breaking?</p>
</li>
<li><p>DRY</p>
</li>
<li><p>We can generalize the function to make it reuseable</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">squareNum</span>(<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num * num</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">squareNum</span>(<span class="number">10</span>) <span class="comment">// 100</span></span><br><span class="line"><span class="title function_">squareNum</span>(<span class="number">9</span>) <span class="comment">// 81</span></span><br><span class="line"><span class="title function_">squareNum</span>(<span class="number">8</span>) <span class="comment">// 64</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Generalizing functions<ul>
<li>â€˜Parametersâ€™(placeholders) mean we donâ€™t need to decide what data to run our functionality on until we run the function<ul>
<li>Then provide an actual value(â€˜argumentâ€™) when we run the function</li>
</ul>
</li>
<li>High order functions follow this same principle<ul>
<li>We may not want to decide exactly what some of our functionality is until we run our function</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Repeating-Functionality"><a href="#Repeating-Functionality" class="headerlink" title="Repeating Functionality"></a>Repeating Functionality</h3><ul>
<li>Now suppose we have a function <code>copyArrayAndMultiplyBy2</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">copyArrayAndMultiplyBy2</span>(<span class="params">array</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    output.<span class="title function_">push</span>(array[i] * <span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">copyArrayAndMultiplyBy2</span>(myArray)</span><br></pre></td></tr></table></figure>

<ul>
<li>What if we want to copy array and divide by 2?</li>
<li>Or add 3?</li>
</ul>
<h3 id="High-Order-Functions"><a href="#High-Order-Functions" class="headerlink" title="High Order Functions"></a>High Order Functions</h3><ul>
<li>We could generalize our function - So we pass in our specific instruction only when we run copyArrayAndManipulate!</li>
</ul>
<h3 id="Higher-Order-Functions-Example"><a href="#Higher-Order-Functions-Example" class="headerlink" title="Higher Order Functions Example"></a>Higher Order Functions Example</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">copyArrayAndManipulate</span>(<span class="params">array, instructions</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    output.<span class="title function_">push</span>(<span class="title function_">instructions</span>(array[i]))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiplyBy2</span>(<span class="params">input</span>) &#123; <span class="keyword">return</span> input * <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">copyArrayAndManipulate</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], multiplyBy2)</span><br></pre></td></tr></table></figure>

<h3 id="Callbacks-amp-Higher-Order-Functions"><a href="#Callbacks-amp-Higher-Order-Functions" class="headerlink" title="Callbacks &amp; Higher Order Functions"></a>Callbacks &amp; Higher Order Functions</h3><ul>
<li><p>How was this possible?</p>
<ul>
<li>Functions in JavaScript &#x3D; first class objects</li>
<li>They can co-exist with and can be treated like any other JavaScript object<ol>
<li>Assigned to variables and properties of other objects</li>
<li>Passed as arguments into functions</li>
<li>Returned as values from functions</li>
</ol>
</li>
</ul>
</li>
<li><p>Which is our Higher Order Function?</p>
<ul>
<li>The outer function that takes in a function is our higher-order function</li>
</ul>
</li>
<li><p>Which is our Callback Function?</p>
<ul>
<li>The function we insert is our callback function</li>
</ul>
</li>
<li><p>Higher-order functions</p>
<ul>
<li>Takes in a function or passes out a function</li>
<li>Just a term to describe these functions - any function that does it we call that - but thereâ€™s nothing different about them inherently</li>
</ul>
</li>
<li><p>Callbacks and Higher Order Functions simplify our code and keep it DRY</p>
<ul>
<li><strong>Declarative readable code:</strong> Map, filter, reduce - the most readable way to write code to work with data</li>
<li><strong>Codesmith &amp; pro interview prep:</strong> One of the most popular topics to test in interview both for Codesmith and mid&#x2F;senior level job interviews</li>
<li><strong>Asynchronous JavaScript:</strong> Callbacks are a core aspect of async JavaScript, and are under-the-hood of promises, async&#x2F;await</li>
</ul>
</li>
</ul>
<h3 id="Arrow-Functions"><a href="#Arrow-Functions" class="headerlink" title="Arrow Functions"></a>Arrow Functions</h3><ul>
<li>Introducing arrow functions - a shorthand way to save functions</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">multiplyBy2</span>(<span class="params">input</span>) &#123; <span class="keyword">return</span> input * <span class="number">2</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">multiplyBy2</span> = (<span class="params">input</span>) =&gt; &#123; <span class="keyword">return</span> input * <span class="number">2</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">multiplyBy2</span> = (<span class="params">input</span>) =&gt; input * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">multiplyBy2</span> = input =&gt; input * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = <span class="title function_">multiplyBy2</span>(<span class="number">3</span>) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<ul>
<li>Updating our callback function as an arrow function</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">copyArrayAndManipulate</span>(<span class="params">array, instructions</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    output.<span class="title function_">push</span>(<span class="title function_">instructions</span>(array[i]))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">multiplyBy2</span> = input =&gt; input * <span class="number">2</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">copyArrayAndManipulate</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], multiplyBy2)</span><br></pre></td></tr></table></figure>

<ul>
<li>We can even pass in multiplyBy2 directly without a name<ul>
<li>But itâ€™s still just the code of a function being passed into copyAndManipulate</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">copyArrayAndManipulate</span>(<span class="params">array, instructions</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    output.<span class="title function_">push</span>(<span class="title function_">instructions</span>(array[i]))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">copyArrayAndManipulate</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="function"><span class="params">input</span> =&gt;</span> input * <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>Anonymous and arrow functions<ul>
<li>Improve immediate legibility of the code</li>
<li>But at least for our purposes here they are â€˜syntactic sugarâ€™ - weâ€™ll see their full effects later</li>
<li>Understanding how theyâ€™re working under-the-hood is vital to avoid confusion</li>
</ul>
</li>
</ul>
<h3 id="Pair-Programming"><a href="#Pair-Programming" class="headerlink" title="Pair Programming"></a>Pair Programming</h3><ul>
<li><p>Pair Programming</p>
<ul>
<li>The most effective way to grow as a software engineer</li>
</ul>
</li>
<li><p>Researcher</p>
<ul>
<li>Avoids blocks by reading everything they can find on their block&#x2F;bug</li>
</ul>
</li>
<li><p>Stackoverflower</p>
<ul>
<li>Uses code snippets to fix bug without knowing how they work</li>
</ul>
</li>
<li><p>Pair programming</p>
<ul>
<li>Tackle blocks with a partner</li>
<li>Stay focused on the problem</li>
<li>Refine technical communication</li>
<li>Collaborate to solve problem</li>
</ul>
</li>
<li><p>For each topic you know give yourself a point to get a total out of</p>
<ul>
<li>I know what a variable is</li>
<li>Iâ€™ve created a function before</li>
<li>Iâ€™ve added a CSS style before</li>
<li>I have implemented a sort algorithm(bubble, merge, etc)</li>
<li>I can add a method to an objectâ€™s prototype</li>
<li>I understand the event loop in JavaScript</li>
<li>I understand â€˜callback functionsâ€™</li>
<li>I can implement filter</li>
<li>I can handle collisions in a hash table</li>
</ul>
</li>
</ul>
<h2 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h2><h3 id="Closure-Introduction"><a href="#Closure-Introduction" class="headerlink" title="Closure Introduction"></a>Closure Introduction</h3><ul>
<li><p>Closure</p>
<ul>
<li>Closure is the most esoteric of JavaScript concepts</li>
<li>Enables powerful pro-level functions like â€˜onceâ€™ and â€˜memoizeâ€™</li>
<li>Many JavaScript design patterns including the module pattern use closure</li>
<li>Built iterators, handle partial application and maintain state in an asynchronous world</li>
</ul>
</li>
<li><p>Functions get a new memory every run&#x2F;invocation</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">multiplyBy2</span> (inputNumber) &#123;</span><br><span class="line">  <span class="keyword">const</span> result = inputNumber * <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = <span class="title function_">multiplyBy2</span>(<span class="number">7</span>)</span><br><span class="line"><span class="keyword">const</span> newOutput = <span class="title function_">multiplyBy2</span>(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>Function with memories<ul>
<li>When our functions get called, we created a live store of data(local memory&#x2F;variable environment&#x2F;state) for that functionâ€™s execution context.</li>
<li>When the function finishes executing, its local memory is deleted(except the returned value)</li>
<li>But what if our function could hold on to live data between executions?</li>
<li>This would let our function definitions have an associated cache&#x2F;persistent memory</li>
<li>But it all starts with us <strong>returning a function from another function</strong></li>
</ul>
</li>
</ul>
<h3 id="Returning-Functions"><a href="#Returning-Functions" class="headerlink" title="Returning Functions"></a>Returning Functions</h3><ul>
<li>Functions can be returned from other functions in JavaScript</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">multiplyBy2</span> (num) &#123;</span><br><span class="line">    <span class="keyword">return</span> num * <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> multiplyBy2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> generatedFunc = <span class="title function_">createFunction</span>()</span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">generatedFunc</span>(<span class="number">3</span>) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<h3 id="Nested-Function-Scope"><a href="#Nested-Function-Scope" class="headerlink" title="Nested Function Scope"></a>Nested Function Scope</h3><ul>
<li>Calling a function in the same function call as it was defined</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span> () &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">incrementCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">    counter++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">incrementCounter</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">outer</span>()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Where you define your functions determines what data it has access to when you call it</p>
</blockquote>
<h3 id="Retaining-Function-Memory"><a href="#Retaining-Function-Memory" class="headerlink" title="Retaining Function Memory"></a>Retaining Function Memory</h3><ul>
<li>Calling a function outside of the function call in which it was defined</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span> () &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">incrementCounter</span>(<span class="params"></span>) &#123; counter++ &#125;</span><br><span class="line">  <span class="keyword">return</span> incrementCounter</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myNewFunction = <span class="title function_">outer</span>()</span><br><span class="line"><span class="title function_">myNewFunction</span>()</span><br><span class="line"><span class="title function_">myNewFunction</span>()</span><br></pre></td></tr></table></figure>

<h3 id="Function-Closure"><a href="#Function-Closure" class="headerlink" title="Function Closure"></a>Function Closure</h3><ul>
<li>å‡½æ•°å£°æ˜æ—¶ä¼šè·å¾—ä¸€ä¸ªç§æœ‰å±æ€§ï¼Œä¸€èˆ¬ä¸º<code>[[scope]]</code>ï¼Œé‡Œé¢ä¿å­˜äº†å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡æ‰€æ¶‰åŠåˆ°çš„å˜é‡ç¯å¢ƒï¼ˆä¹Ÿå°±æ˜¯å‡½æ•°çš„èƒŒåŒ…æˆ–è€…é—­åŒ…çš„å®é™…å®ç°çš„æ–¹å¼ï¼‰<ul>
<li>å½“å‡½æ•°ä½¿ç”¨ä¸Šä¸Šçº§æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯çš„å˜é‡ï¼Œä¹Ÿä¼šä¿å­˜ä¸Šä¸Šçº§æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡ç¯å¢ƒï¼ˆä½œç”¨åŸŸé“¾ï¼‰</li>
</ul>
</li>
</ul>
<h3 id="Closure-Technical-Definition-amp-Review"><a href="#Closure-Technical-Definition-amp-Review" class="headerlink" title="Closure Technical Definition &amp; Review"></a>Closure Technical Definition &amp; Review</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://medium.com/dailyjs/i-never-understood-javascript-closures-9663703368e8">I never understood JavaScript closures</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://nostarch.com/hemingway?__cf_chl_captcha_tk__=b759174fad03f3f24dda56cb6c2ae2ee4239838b-1585970682-0-AXERc6qisOqUz7bjRmojbQHq_2MXylDLXb-hhNpEAPb_chqu_pJe2ST1k0khNVvd8_BJYrNehqv6J2Q39kIRdJIqDlt833grZTP8ur6ai2ULzcGLCKSR3WDNT2ZguBb76UktrHMs5KGdQVneazRWP6YGuIiUjPFenso4mcBs4XBaAfyqBMtUH7-sqAEnJrHxK-yLeHJ-EXTphTuPWJMEyOUPAtBLgUR4--QMXplbRxAoChLY64ajVgPNY6wX3BePYMypHaLQTWjWoiK9xyG-j9Zufm94rlM0SUkQLCchLAlqlPP0IK-pQBHVTa9kcLIrOA">If Hemingway Wrote JavaScript</a></p>
<ul>
<li>åœ¨è¿™æœ¬ä¹¦ä¸­ï¼Œä½œè€…å°†closure(é—­åŒ…)ç§°ä¸ºClosed Over Variable Environment</li>
<li>é—­åŒ…é‡Œä¿å­˜çš„å˜é‡ç§°ä¸ºPersistent Lexically(or Static) Scope Reference Data</li>
<li>æˆ–è€…å¯ä»¥ç®€å•çš„ç§°é—­åŒ…ä¸ºèƒŒåŒ…(Backpack)ğŸ˜‚</li>
</ul>
</li>
<li><p>æ¯ç§è¯­è¨€éƒ½å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚åˆ¶å®šè‡ªå·±çš„ä½œç”¨åŸŸè§„åˆ™ï¼Œåœ¨JavaScriptä¸­ï¼Œä½¿ç”¨è¯æ³•ä½œç”¨åŸŸ(lexical Scope)æˆ–ç§°é™æ€ä½œç”¨åŸŸ(Static Scope)çš„è§„åˆ™ï¼Œæ—¢å½“å‡½æ•°å®šä¹‰æ—¶ï¼Œå°±ç¡®å®šçš„å‡½æ•°æ‰€å¯ä»¥è®¿é—®çš„å˜é‡èŒƒå›´ã€‚</p>
<ul>
<li>åŒæ ·ï¼Œå¦‚æœå‡½æ•°æ‰§è¡Œæ—¶æ‰èƒ½ç¡®å®šè®¿é—®çš„å˜é‡ï¼Œç§°ä½œåŠ¨æ€ä½œç”¨åŸŸï¼Œå…·ä½“åŒºåˆ«å¯è§<a target="_blank" rel="noopener" href="https://blingblingredstar.github.io/2019/04/29/Deep-JavaScript-Foundations/#Scope-%E4%BD%9C%E7%94%A8%E5%9F%9F">è¿™ç¯‡åšå®¢</a></li>
</ul>
</li>
<li><p>What can we call this â€˜backpackâ€™</p>
<ul>
<li>Closed over â€˜Variable Environmentâ€™(C.O.V.E.)</li>
<li>Persistent Lexical Scope Referenced Data(P.L.S.R.D.)</li>
<li>â€˜backpackâ€™</li>
<li>â€˜Closureâ€™</li>
</ul>
</li>
<li><p>The â€˜backpackâ€™(or â€˜closureâ€™) of live data is attached incrementCounter (then to myNewFunction) through a hidden property know as <code>[[scope]]</code> which persists when the inner function is returned out</p>
</li>
</ul>
<h3 id="Multiple-Closure-Instance"><a href="#Multiple-Closure-Instance" class="headerlink" title="Multiple Closure Instance"></a>Multiple Closure Instance</h3><ul>
<li>Letâ€™s run outer again</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">outer</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">incrementCounter</span>(<span class="params"></span>) &#123;</span><br><span class="line">    counter++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> incrementCounter</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myNewFunction = <span class="title function_">outer</span>()</span><br><span class="line"><span class="title function_">myNewFunction</span>() <span class="comment">// 1</span></span><br><span class="line"><span class="title function_">myNewFunction</span>() <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> anotherFunction = <span class="title function_">outer</span>()</span><br><span class="line"><span class="title function_">anotherFunction</span>() <span class="comment">// 1</span></span><br><span class="line"><span class="title function_">anotherFunction</span>() <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h3 id="Practical-Application"><a href="#Practical-Application" class="headerlink" title="Practical Application"></a>Practical Application</h3><ul>
<li>Closure gives out functions persistent memories and entirely new toolkit for writing professional code<ul>
<li><strong>Helper functions:</strong> Everyday professional helper functions like â€˜onceâ€™ and â€˜memorizeâ€™</li>
<li><strong>Iterators and generators:</strong> Which use lexical scoping and closure to achieve the most contemporary patterns for handling data in JavaScript</li>
<li><strong>Module pattern:</strong> Preserve state for the life of an application without polluting the global namespace</li>
<li><strong>Asynchronous JavaScript:</strong> Callbacks and promises rely on closure to persist state in an asynchronous environment</li>
</ul>
</li>
</ul>
<h3 id="Closure-Exercise"><a href="#Closure-Exercise" class="headerlink" title="Closure Exercise"></a>Closure Exercise</h3><ul>
<li><a target="_blank" rel="noopener" href="http://csbin.io/closures">exercise link</a></li>
</ul>
<h2 id="Asynchronous-JavaScript"><a href="#Asynchronous-JavaScript" class="headerlink" title="Asynchronous JavaScript"></a>Asynchronous JavaScript</h2><h3 id="Single-Threaded-Execution-Review"><a href="#Single-Threaded-Execution-Review" class="headerlink" title="Single Threaded Execution Review"></a>Single Threaded Execution Review</h3><ul>
<li><p>Promises, Async &amp; Event Loop</p>
<ul>
<li>Promises - the most significant ES6 feature</li>
<li>Asynchronicity - the feature that makes dynamic web applications possible</li>
<li>The event loop - JavaScript triage</li>
<li>Microtask queue, callback queue and Web Browser features(APIs)</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/">Tasks, microtasks, queues and schedules</a></p>
</li>
<li><p>A reminder of how JavaScript executes code</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">3</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiplyBy2</span> (inputNumber) &#123;</span><br><span class="line">  <span class="keyword">const</span> result = inputNumber * <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = <span class="title function_">multiplyBy2</span>(num)</span><br><span class="line"><span class="keyword">const</span> newOutput = <span class="title function_">multiplyBy2</span>(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Asynchronicity-in-JavaScript"><a href="#Asynchronicity-in-JavaScript" class="headerlink" title="Asynchronicity in JavaScript"></a>Asynchronicity in JavaScript</h3><ul>
<li><p>Asynchronicity is the backbone of modern web development in JavaScript yetâ€¦</p>
<ul>
<li>JavaScript is:<ul>
<li>Single thread (one commend runs at a time)</li>
<li>Synchronously executed (each line is run in order the code appears)</li>
</ul>
</li>
<li>So what if we have a task:<ul>
<li>Accessing Twitterâ€™s server to get new tweets that takes a long time</li>
<li>Code we want to run using those tweets</li>
</ul>
</li>
<li><strong>Challenge</strong>: We want to wait for the tweets to be stored in tweets so that theyâ€™re there to run displayTweets on - but no code can run in the meantime</li>
</ul>
</li>
<li><p>Slow function blocks further code running</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tweets = <span class="title function_">getTweets</span>(<span class="string">&#x27;http://twitter.com/will/1&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// â›”ï¸ 350ms wait while a request is sent to Twitter&#x27;s server</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">displayTweets</span>(tweets)</span><br><span class="line"></span><br><span class="line"><span class="comment">// more code to run</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;I want to running!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>What if we try to delay a function directly using setTimeout?<ul>
<li>setTimeout is a built in function - its first arguments is to function to delay followed by ms to delay by</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printHello</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(printHello, <span class="number">1000</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Me first&#x27;</span>)</span><br><span class="line"><span class="comment">// In what order will our console.log appear?</span></span><br></pre></td></tr></table></figure>

<ul>
<li>So what about a delay of 0ms<ul>
<li>Now, in what order will our console.log occur?</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printHello</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(printHello, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Me first!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>JavaScript is not enough - We need new pieces(some of which arenâ€™t JavaScript at all)<ul>
<li>Our core JavaScript engine has 3 main parts:<ol>
<li>Thread of execution</li>
<li>Memory&#x2F;variable environment</li>
<li>Call stack</li>
</ol>
</li>
<li>We need to add some new components:<ul>
<li>Web Browser APIs&#x2F;Node background APIs</li>
<li>Promises</li>
<li>Event loop, Callback&#x2F;Task queue and micro task queue</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Asynchronous-Browser-Features"><a href="#Asynchronous-Browser-Features" class="headerlink" title="Asynchronous Browser Features"></a>Asynchronous Browser Features</h3><ul>
<li>ES5 solution: Introducing â€˜callback functionsâ€™, and Web Browser APIs</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printHello</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello&#x27;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(printHello, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Me first!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Web-API-Rules"><a href="#Web-API-Rules" class="headerlink" title="Web API Rules"></a>Web API Rules</h3><ul>
<li>Weâ€™re interacting with a world outside of JavaScript now - so we need rule</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printHello</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>) &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">blockFor1Sec</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// blocks in the JavaScript thread for 1 sec</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">setTimeout</span>(printHello, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="title function_">blockFor1Sec</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Me first!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Callback-Queue-amp-Event-Loop"><a href="#Callback-Queue-amp-Event-Loop" class="headerlink" title="Callback Queue &amp; Event Loop"></a>Callback Queue &amp; Event Loop</h3><ul>
<li>ä½¿ç”¨setTimeoutæˆ–è€…setTimeoutæ—¶ï¼Œä¼ å…¥çš„å›è°ƒå‡½æ•°åœ¨å…¶ä»–çº¿ç¨‹ä¸­å¼€å§‹è®¡æ—¶ï¼Œè®¡æ—¶ç»“æŸæ—¶æ¨å…¥callback queue, æ­¤æ—¶ä»£ç ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œè€Œæ˜¯ä¼šç»§ç»­æ‰§è¡Œï¼Œåªæœ‰å½“å‰ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œevent loopæ‰ä¼šå¼€å§‹è½®è¯¢callback queueå†…æ˜¯å¦æœ‰éœ€è¦æ‰§è¡Œçš„å›è°ƒå‡½æ•°</li>
</ul>
<h3 id="Callback-Hell-amp-Async-Exercise"><a href="#Callback-Hell-amp-Async-Exercise" class="headerlink" title="Callback Hell &amp; Async Exercise"></a>Callback Hell &amp; Async Exercise</h3><ul>
<li><p>ES5 Web Browser APIs with callback functions</p>
<ul>
<li>Problems<ul>
<li>Our response data is only available in the callback function - Callback Hell</li>
<li>Maybe it feels a little odd to think of passing a function into another function only for it to run much later</li>
</ul>
</li>
<li>Benefits<ul>
<li>Super explicit once you understand how it works under-the-hood</li>
</ul>
</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="http://csbin.io/async">Exercise Link</a></p>
</li>
</ul>
<h2 id="Promises"><a href="#Promises" class="headerlink" title="Promises"></a>Promises</h2><h3 id="Promises-Introduction"><a href="#Promises-Introduction" class="headerlink" title="Promises Introduction"></a>Promises Introduction</h3><ul>
<li>ES6+ Solution(Promises)<ul>
<li>Using two-pronged â€˜facadeâ€™ functions that both:<ul>
<li>Initiate background web browser work and</li>
<li>Return a placeholder object(promise) immediately in JavaScript</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Promises-Example-fetch"><a href="#Promises-Example-fetch" class="headerlink" title="Promises Example: fetch"></a>Promises Example: fetch</h3><ul>
<li>ES6+ Promises</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">display</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> futureData = <span class="title function_">fetch</span>(<span class="string">&#x27;http://twitter.com/will/tweets/1&#x27;</span>)</span><br><span class="line">futureData.<span class="title function_">then</span>(display)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Me first&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="Promises-Example-then"><a href="#Promises-Example-then" class="headerlink" title="Promises Example: then"></a>Promises Example: then</h3><ul>
<li>å½“æˆ‘ä»¬ä½¿ç”¨Promiseæ—¶ï¼Œä¼šä¼šè¿”å›ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œå…¶ä¸­å¯¹è±¡ä¼šæœ‰ä¸€ä¸ªéšè—çš„valueå±æ€§ä»£è¡¨æ–°å»ºpromiseæ—¶ä¼ å…¥çš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ï¼Œè¿˜æœ‰ä¸€ä¸ªonFulfilledå±æ€§æ•°ç»„ã€‚å½“æˆ‘ä»¬ä½¿ç”¨thenæ–¹æ³•æ˜¯ï¼Œå°±ä¼šå°†ä¼ å…¥thenæ–¹æ³•çš„å›è°ƒå‡½æ•°æ¨å…¥è¿™ä¸ªæ•°ç»„ï¼Œåœ¨promiseçš„çŠ¶æ€å˜ä¸ºresolvedæ—¶ï¼Œä¼šå°†valueä½œä¸ºå‚æ•°ä¼ å…¥onFulfilledæ•°ç»„ä¸­çš„å‡½æ•°ä¾æ¬¡æ‰§è¡Œã€‚</li>
</ul>
<h3 id="Web-APIs-amp-Promises-Example-fetch"><a href="#Web-APIs-amp-Promises-Example-fetch" class="headerlink" title="Web APIs &amp; Promises Example: fetch"></a>Web APIs &amp; Promises Example: fetch</h3><ul>
<li>But we need to know how our promise-deferred functionality gets back into JavaScript to be run</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">display</span>(<span class="params">data</span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(data) &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">printHello</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>) &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">blockFor300ms</span>(<span class="params"></span>) &#123;<span class="comment">/* blocks js thread for 300ms */</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(printHello, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> futureData = <span class="title function_">fetch</span>(<span class="string">&#x27;http://twitter.com/will/tweets/1&#x27;</span>)</span><br><span class="line">futureData.<span class="title function_">then</span>(display)</span><br><span class="line"></span><br><span class="line"><span class="title function_">blockFor300ms</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">loo</span>(<span class="string">&#x27;me first&#x27;</span>)</span><br><span class="line"><span class="comment">// me first</span></span><br><span class="line"><span class="comment">// display</span></span><br><span class="line"><span class="comment">// hello</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>then</code> method and functionality to call on completion<ul>
<li>Any code we want to run on the returned data must also be saved on the promise object</li>
<li>Added using <code>.then</code> method to the hidden property <code>onFulfillment</code></li>
<li>Promise objects will automatically trigger the attached function to run(with its input being returned data)</li>
</ul>
</li>
</ul>
<h3 id="Web-APIs-amp-Promises-Example-Microtask-Queue"><a href="#Web-APIs-amp-Promises-Example-Microtask-Queue" class="headerlink" title="Web APIs &amp; Promises Example: Microtask Queue"></a>Web APIs &amp; Promises Example: Microtask Queue</h3><ul>
<li><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåœ¨æ§åˆ¶å°æ‰“å°â€™me firstâ€™ä¹‹åä¼šæ‰§è¡Œdisplayè€Œä¸æ˜¯printHelloï¼Œè¿™æ˜¯ç”±äºpromiseä½¿ç”¨äº†microtask queueï¼Œè€ŒsetTimeoutä½¿ç”¨callback queue(è§„èŒƒä¸­ç§°ä¸ºtask queue)</p>
</li>
<li><p>microtask queueçš„ä¼˜å…ˆçº§æ˜¯é«˜äºcallback queueçš„ï¼Œevent loopä¼šåœ¨å½“å‰æ‰§è¡Œçº¿ç¨‹å®Œæ¯•åé¦–å…ˆæ£€æŸ¥microtask queueä¸­æ˜¯å¦æœ‰å›è°ƒå‡½æ•°å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯å°†å›è°ƒæ¨å…¥call stackï¼Œåœ¨microtask queueå…¨éƒ¨æ‰§è¡Œå®Œåæ‰ä¼šæ£€æŸ¥callback queueï¼Œæ‰€ä»¥åœ¨microtask queueä¸­è¿”å›promiseæœ‰å¯èƒ½é€ æˆæ­»å¾ªç¯ã€‚è€Œ</p>
</li>
<li><p>callback queueæ‰§è¡Œå®Œä¸€ä¸ªå›è°ƒä¹‹åå¹¶ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œå¦‚æœæœ‰æœªæ‰§è¡Œå®Œæ¯•çš„ä¼šæ¨è¿Ÿåˆ°ä¸‹ä¸€ä¸ªæ‰§è¡Œå‘¨æœŸå»æ‰§è¡Œã€</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/API">Web APIs</a></p>
</li>
</ul>
<h3 id="Promises-Review"><a href="#Promises-Review" class="headerlink" title="Promises Review"></a>Promises Review</h3><ul>
<li><p>Problems</p>
<ul>
<li>99% of developers have no idea how theyâ€™re working under the hood</li>
<li>Debugging becomes super-hard as a result</li>
<li>Developers fail technical interviews</li>
</ul>
</li>
<li><p>Benefits</p>
<ul>
<li>Cleaner readable style with pseudo-synchronous style code</li>
<li>Nice error handling process</li>
</ul>
</li>
<li><p>è¿™é‡Œä½œè€…åæ§½äº†thenæ–¹æ³•çš„å‘½åæœ‰å¯èƒ½é€ æˆè¯¯è§£ï¼Œåº”è¯¥å‘½åä¸ºstoreFunctionToRunLaterğŸ˜‚,Promiseåº”è¯¥å‘½åä¸ºFutureData</p>
</li>
<li><p>å¦‚ä¸Šæ‰€è¿°ï¼ŒPromiseçš„ä¼˜ç‚¹è¿˜æœ‰å¯¹é”™è¯¯å¤„ç†çš„è‰¯å¥½é£æ ¼ã€‚</p>
<ul>
<li>Promiseé™¤äº†valueã€onFulfilledæ•°ç»„ï¼Œè¿˜æœ‰ä¸€ä¸ªonRejectionæ•°ç»„ï¼Œç”¨æ¥æ”¾ç½®é”™è¯¯å¤„ç†çš„å›è°ƒå‡½æ•°ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>.catch</code>æ–¹æ³•æˆ–è€…åœ¨<code>.then</code>æ–¹æ³•ä¸­ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°æ¥å°†å›è°ƒæ·»åŠ åˆ°onRejectionæ•°ç»„ä¸­ã€‚</li>
</ul>
</li>
<li><p>We have rules for the execution of our asynchronously delayed code</p>
<ul>
<li>Hold promise-deferred functions in a microtask queue and callback function in a task queue(Callback queue) when Web Browser Feature(API) finishes</li>
<li>Add the function to the Call stack(i.e. run the function) when:<ul>
<li>Call stack is empty &amp; all global code run (have the event loop check this condition)</li>
</ul>
</li>
<li>Prioritize functions in the microtask queue over the Callback queue</li>
</ul>
</li>
<li><p>Promises, Web APIs, the Callback &amp; Microtask Queues and Event loop enable:</p>
<ul>
<li><strong>Non-blocking applications:</strong> This means we donâ€™t have to wait in the single thread and donâ€™t block further code from running</li>
<li><strong>However long it takes:</strong> We cannot predict when our Browser featureâ€™s work will finish so we let JS handle automatically running the function on its completion</li>
<li><strong>Web applications:</strong> Asynchronous JavaScript is the backbone of the modern web - letting us build fast â€˜non-blockingâ€™ applications</li>
</ul>
</li>
</ul>
<h2 id="Classes-amp-Prototypes"><a href="#Classes-amp-Prototypes" class="headerlink" title="Classes &amp; Prototypes"></a>Classes &amp; Prototypes</h2><h3 id="Class-amp-OOP-Introduction"><a href="#Class-amp-OOP-Introduction" class="headerlink" title="Class &amp; OOP Introduction"></a>Class &amp; OOP Introduction</h3><ul>
<li><p>Classes, Prototypes - Object Oriented JavaScript</p>
<ul>
<li>An environment popular paradigm for structuring our complex code</li>
<li>Prototype chain - the feature behind-the-scenes that enables emulation of OOP but is a compelling tool in itself</li>
<li>Understanding the difference between <code>__proto__</code> and prototype</li>
<li>The new and class keywords as tools to automate our object &amp; method creation</li>
</ul>
</li>
<li><p>Core of development(and running code)</p>
<ol>
<li>Save data(e.g. in a quiz game the scores of user1 and user2)</li>
<li>Run code(functions) using that data(e.g. increase user 2â€™s score)</li>
</ol>
<ul>
<li>Easy! So why is development hard?</li>
<li>In a quiz game I need to save lots of users, but also admins, quiz questions, quiz outcomes, league tables - all have data and associated functionality</li>
<li>In 1000,000 lines of code<ul>
<li>Where is the functionality when I need it?</li>
<li>How do I make sure the functionality is only used on the right data!</li>
</ul>
</li>
</ul>
</li>
<li><p>That is, I want my code to be:</p>
<ol>
<li>Easy to reason about, but also</li>
<li>Easy to add feature to(new functionality)</li>
<li>Nevertheless efficient and performance</li>
</ol>
</li>
<li><p>The Object-oriented paradigm aims to let us achieve these three goals</p>
</li>
</ul>
<h3 id="Object-Dot-Notation"><a href="#Object-Dot-Notation" class="headerlink" title="Object Dot Notation"></a>Object Dot Notation</h3><ul>
<li>So if Iâ€™m storing each user in my app with their respective data(letâ€™s simplify)</li>
</ul>
<table>
<thead>
<tr>
<th>â€“</th>
<th>User 1</th>
<th>User 2</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>Tim</td>
<td>Stephanie</td>
</tr>
<tr>
<td>score</td>
<td>3</td>
<td>5</td>
</tr>
</tbody></table>
<ul>
<li><p>And the functionality I need to have for each user(again simplifying!)</p>
<ul>
<li>Increment functionality(thereâ€™d be a ton of functions in practice)</li>
</ul>
</li>
<li><p>How could I store my data and functionality together in one piece?</p>
</li>
<li><p>Objects - store functions with their associated data!</p>
<ul>
<li>This is the principle of encapsulation - and itâ€™s going to transform how we can â€˜reason aboutâ€™ our code</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Will&#x27;</span>,</span><br><span class="line">  <span class="attr">score</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    user1.<span class="property">score</span>++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">user1.<span class="title function_">increment</span>() <span class="comment">// user1.score -&gt; 4</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>Letâ€™s keep creating our objects. What alternative techniques do we have for creating objects?</p>
</li>
<li><p>Creating user2 use dot natation</p>
<ul>
<li>Declare an empty object and add properties with dot natation</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user2 = &#123;&#125; <span class="comment">// create an empty object</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// assign properties to that object</span></span><br><span class="line">user2.<span class="property">name</span> = <span class="string">&#x27;Tim&#x27;</span></span><br><span class="line">user2.<span class="property">score</span> = <span class="number">6</span></span><br><span class="line">user2.<span class="property">increment</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  user2.<span class="property">score</span>++</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Creating user3 using <code>Object.create</code><ul>
<li>Object.create is going to give us fine-grained control over our object later on</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user3 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">user3.<span class="property">name</span> = <span class="string">&#x27;Eva&#x27;</span></span><br><span class="line">user3.<span class="property">score</span> = <span class="number">9</span></span><br><span class="line">user3.<span class="property">increment</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  user3.<span class="property">score</span>++</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Our code is getting repetitive, weâ€™re breaking our DRY principle. And suppose we have millions of users! What could we do?</p>
</li>
<li><p>Solution 1</p>
<ul>
<li>Generate objects using a function</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newUser = &#123;&#125;</span><br><span class="line">  newUser.<span class="property">name</span> = name</span><br><span class="line">  newUser.<span class="property">score</span> = score</span><br><span class="line">  newUser.<span class="property">increment</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    newUser.<span class="property">score</span>++ <span class="comment">// æ³¨æ„è¿™é‡Œä½¿ç”¨äº†é—­åŒ…</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newUser</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Will&#x27;</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">const</span> user2 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Tim&#x27;</span>, <span class="number">5</span>)</span><br><span class="line">user1.<span class="title function_">increment</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>Solution 1. Generate Objects using a function<ul>
<li><strong>Problems:</strong> Each time we create a new user we make space in our computerâ€™s memory for all our data and functions. But our functions are just copies</li>
<li>Is there a better way?</li>
<li><strong>Benefits:</strong> Itâ€™s simple and easy to reason about!</li>
</ul>
</li>
</ul>
<h3 id="Prototype-Chain"><a href="#Prototype-Chain" class="headerlink" title="Prototype Chain"></a>Prototype Chain</h3><ul>
<li><p>Solution 2: Using the prototype chain</p>
<ul>
<li>Store the increment function in just one object and have the interpreter, if it doesnâ€™t find the function on user1, look up to that object to check if itâ€™s there</li>
<li>Link user1 and functionScore so the interpreter, on not finding <code>.increment</code>. makes sure to check up in functionStore where it would find it</li>
<li>Make the link with <code>Object.create()</code> technique</li>
</ul>
</li>
<li><p>Solution 2: Using the prototype chain</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newUser = <span class="title class_">Object</span>.<span class="title function_">create</span>(userFunctionStore) <span class="comment">// æ­¤æ—¶newUser.__proto__æŒ‡å‘userFunctionStore</span></span><br><span class="line">  newUser.<span class="property">name</span> = name</span><br><span class="line">  newUser.<span class="property">score</span> = score</span><br><span class="line">  <span class="keyword">return</span> newUser</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userFunctionStore = &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">score</span>++ &#125;,</span><br><span class="line">  <span class="title function_">login</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Logged in&#x27;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Will&#x27;</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">const</span> user2 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Tim&#x27;</span>, <span class="number">5</span>)</span><br><span class="line">user1.<span class="title function_">increment</span>()</span><br><span class="line"><span class="comment">// å½“jså¼•æ“åœ¨user1ä¸Šæ²¡æœ‰æ‰¾åˆ°incrementæ–¹æ³•æ—¶ï¼Œå°±ä¼šå»user1çš„__proto__å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡ä¸Šå»å¯»æ‰¾ï¼ˆåŸå‹ï¼‰</span></span><br><span class="line"><span class="comment">// å¦‚æœè¿™ä¸ªå¯¹è±¡ä¸Šä¹Ÿæ²¡æœ‰ï¼Œå°±å»è¿™ä¸ªå¯¹è±¡çš„__proto__å±æ€§æ‰€æŒ‡å‘çš„å¯¹è±¡ä¸Šå¯»æ‰¾ï¼ˆåŸå‹é“¾)</span></span><br></pre></td></tr></table></figure>

<h3 id="Prototype-Chain-Example-Implicit-Parameters"><a href="#Prototype-Chain-Example-Implicit-Parameters" class="headerlink" title="Prototype Chain Example: Implicit Parameters"></a>Prototype Chain Example: Implicit Parameters</h3><ul>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf">MDN <code>Object.getPrototypeOf()</code></a></p>
</li>
<li><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åœ¨å£°æ˜incrementæ–¹æ³•æ—¶å¹¶ä¸æ¸…æ¥šä¼šæ˜¯user1è¿˜æ˜¯user2è°ƒç”¨æ­¤æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ç¡®å®šæˆ‘ä»¬éœ€è¦å¢åŠ åˆ†æ•°çš„å¯¹è±¡å‘¢ï¼Ÿ</p>
</li>
<li><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¹Ÿæ­£æ˜¯<code>this</code>å…³é”®å­—çš„ä½œç”¨</p>
</li>
<li><p>å¯ä»¥è®¤ä¸º<code>this</code>æŒ‡å‘æ–¹æ³•è°ƒç”¨æ—¶<code>.</code>å…³é”®å­—å‰é¢çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡ä½¿ç”¨<code>.</code>è¯­æ³•è°ƒç”¨æ–¹æ³•ï¼Œå¯ä»¥è®¤ä¸º<code>this</code>æŒ‡å‘å…¨å±€å¯¹è±¡</p>
</li>
</ul>
<h3 id="hasOwnProperty-Method"><a href="#hasOwnProperty-Method" class="headerlink" title="hasOwnProperty Method"></a>hasOwnProperty Method</h3><ul>
<li>What if we want to confirm our user! has property score</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newUser = <span class="title class_">Object</span>.<span class="title function_">create</span>(userFunctionStore)</span><br><span class="line">  newUser.<span class="property">name</span> = name</span><br><span class="line">  newUser.<span class="property">score</span> = score</span><br><span class="line">  <span class="keyword">return</span> newUser</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userFunctionStore = &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">score</span>++ &#125;,</span><br><span class="line">  <span class="title function_">login</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Login in&#x27;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Will&#x27;</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">const</span> user2 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Tim&#x27;</span>, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">user1.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;score&#x27;</span>)</span><br><span class="line"><span class="comment">// user1.__proto__.__proto__.hasOwnProperty</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>We can use the <code>hasOwnProperty</code> method - but where is it?</p>
<ul>
<li>Object.prototype.hasOwnProperty</li>
</ul>
</li>
<li><p>What if we want to confirm our user1 has the property score?</p>
<ul>
<li>We can use the hasOwnProperty method - but where is it? Is it on user1?</li>
<li>All objects have a <code>__proto__</code> property by default which defaults to linking to a big object - Object.prototype full of (somewhat) useful functions</li>
<li>We get access to it via userFunctionStoreâ€™s <code>__proto__</code> property - the chain</li>
</ul>
</li>
</ul>
<h3 id="this-Keyword"><a href="#this-Keyword" class="headerlink" title="this Keyword"></a>this Keyword</h3><ul>
<li>Declaring &amp; calling a new function <em>inside</em> our â€˜methodâ€™ increment</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newUser = <span class="title class_">Object</span>.<span class="title function_">create</span>(userFunctionStore) <span class="comment">// æ­¤æ—¶newUser.__proto__æŒ‡å‘userFunctionStore</span></span><br><span class="line">  newUser.<span class="property">name</span> = name</span><br><span class="line">  newUser.<span class="property">score</span> = score</span><br><span class="line">  <span class="keyword">return</span> newUser</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userFunctionStore = &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">score</span>++ &#125;,</span><br><span class="line">  <span class="title function_">login</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Logged in&#x27;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Will&#x27;</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">const</span> user2 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Tim&#x27;</span>, <span class="number">5</span>)</span><br><span class="line">user1.<span class="title function_">increment</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li><p>Letâ€™s start by simplifying(just increment method - written over 3 lines now)</p>
</li>
<li><p>Create and invoke a new function (add1) inside increment</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newUser = <span class="title class_">Object</span>.<span class="title function_">create</span>(userFunctionStore)</span><br><span class="line">  newUser.<span class="property">name</span> = name</span><br><span class="line">  newUser.<span class="property">score</span> = score</span><br><span class="line">  <span class="keyword">return</span> newUser</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userFunctionStore = &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">add1</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">score</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">add1</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Will&#x27;</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">const</span> user2 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Tim&#x27;</span>, <span class="number">4</span>)</span><br><span class="line">user1.<span class="title function_">increment</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>What does <code>this</code> get auto-assigned to?<ul>
<li>window&#x2F;global</li>
</ul>
</li>
</ul>
<h3 id="Arrow-Function-Scope-amp-this"><a href="#Arrow-Function-Scope-amp-this" class="headerlink" title="Arrow Function Scope &amp; this"></a>Arrow Function Scope &amp; this</h3><ul>
<li>Arrow functions override the normal <code>this</code> rules</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newUser = <span class="title class_">Object</span>.<span class="title function_">create</span>(userFunctionStore)</span><br><span class="line">  newUser.<span class="property">name</span> = name</span><br><span class="line">  newUser.<span class="property">score</span> = score</span><br><span class="line">  <span class="keyword">return</span> newUser</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userFunctionStore = &#123;</span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">add1</span> = (<span class="params"></span>) =&gt; &#123; <span class="variable language_">this</span>.<span class="property">score</span>++ &#125;</span><br><span class="line">    <span class="title function_">add1</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Will&#x27;</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">const</span> user2 = <span class="title function_">userCreator</span>(<span class="string">&#x27;Tim&#x27;</span>, <span class="number">5</span>)</span><br><span class="line">user1.<span class="title function_">increment</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>Now our inner function gets its <code>this</code> set by where it was saved - itâ€™s a <code>lexical scoped this</code></li>
</ul>
<h3 id="Prototype-Chain-Review"><a href="#Prototype-Chain-Review" class="headerlink" title="Prototype Chain Review"></a>Prototype Chain Review</h3><ul>
<li>Solution 2: Using the prototype chain<ul>
<li><p>Problems: No problems! Itâ€™s beautiful. Maybe a little long-winded</p>
</li>
<li><p>Write this every single time - but itâ€™s 6 words!</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newUser = <span class="title class_">Object</span>.<span class="title function_">create</span>(userFunctionStore)</span><br><span class="line"><span class="comment">/** ... **/</span></span><br><span class="line"><span class="keyword">return</span> newUser</span><br></pre></td></tr></table></figure>
</li>
<li><p>Benefit: Super sophisticated but not standard</p>
</li>
</ul>
</li>
</ul>
<h3 id="new-Keyword"><a href="#new-Keyword" class="headerlink" title="new Keyword"></a>new Keyword</h3><ul>
<li><p>Solution 3 - Introducing the keyword that automates the hard work: new</p>
<ul>
<li>When we call the function that returns an object with <code>new</code> in front we automate 2 things<ol>
<li>Create a new user object</li>
<li>Return the new user object</li>
</ol>
</li>
<li>But now we need to adjust how we write the body of userCreator - how can we:<ul>
<li>Refer to the auto-created object?<ul>
<li><code>this</code></li>
</ul>
</li>
<li>Know where to put our single copies of functions?<ul>
<li>prototype</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>The <code>new</code> keyword automates a lot of our manual work</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">score</span> = score</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">userCreator.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">increment</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">score</span>++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="keyword">new</span> <span class="title function_">userCreator</span>(<span class="string">&#x27;Will&#x27;</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>Interlude - functions are both objects and functions</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">multiplyBy2</span>(<span class="params">num</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num * <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">multiplyBy2.<span class="property">stored</span> = <span class="number">5</span></span><br><span class="line"><span class="title function_">multiplyBy2</span>(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">multiplyBy2.<span class="property">stored</span> <span class="comment">// 5</span></span><br><span class="line">multiplyBy2.<span class="property"><span class="keyword">prototype</span></span> <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>We could use the fact that all functions have a default property â€˜prototypeâ€™ on their object version.(itself an object) - to replace our â€˜functionStoreâ€™ object</li>
</ul>
<h3 id="new-Keyword-Example"><a href="#new-Keyword-Example" class="headerlink" title="new Keyword Example"></a>new Keyword Example</h3><ul>
<li>The new keyword automates a lot of our manual work</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">userCreator</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">score</span> = score</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">userCreator.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">increment</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">score</span>++ &#125;</span><br><span class="line">userCreator.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">login</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Logged in&#x27;</span>) &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="keyword">new</span> <span class="title function_">userCreator</span>(<span class="string">&#x27;Eva&#x27;</span>, <span class="number">9</span>)</span><br><span class="line"></span><br><span class="line">user1.<span class="title function_">increment</span>()</span><br></pre></td></tr></table></figure>

<h3 id="class-keyword"><a href="#class-keyword" class="headerlink" title="class keyword"></a>class keyword</h3><ul>
<li><p>Solution 3 - Introducing the keyword that automates the hard work: new</p>
<ul>
<li><strong>Benefits:</strong><ul>
<li>Faster to write. Often used in practice in professional code</li>
</ul>
</li>
<li><strong>Problem:</strong><ul>
<li>95% of developers have no idea how it works and therefore fail interviews</li>
<li>We have to upper case first letter of the function so we know it requires <code>new</code> to work!</li>
</ul>
</li>
</ul>
</li>
<li><p>Solution 4: The class â€˜syntactic sugarâ€™</p>
<ul>
<li>Weâ€™re writing our shared methods separately from our object â€˜constructorâ€™ itself(off in the <code>userCreator.prototype</code> object)</li>
<li>Other languages let us do this all in one place. ES2015 lets us do so too</li>
</ul>
</li>
<li><p>Solution 4: The class â€˜syntactic sugarâ€™</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UserCreator</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, score</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">score</span> = score</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">increment</span>(<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">score</span>++ &#125;</span><br><span class="line">  <span class="title function_">login</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;login&#x27;</span>) &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user1 = <span class="keyword">new</span> <span class="title class_">UserCreator</span>(<span class="string">&#x27;Eva&#x27;</span>, <span class="number">4</span>)</span><br><span class="line">user1.<span class="title function_">increment</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>Solution 4: The class â€˜syntactic sugarâ€™<ul>
<li><strong>Benefit:</strong><ul>
<li>Emerging as a new standard</li>
<li>Feels more like style of other languages(e.g. Python)</li>
</ul>
</li>
<li><strong>Problems:</strong><ul>
<li>99% of developers have no idea how it works and therefore fail interviews</li>
<li>But you will not be one of them</li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/FrontEndMasters/" rel="tag"># FrontEndMasters</a>
              <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
              <a href="/tags/%E9%97%AD%E5%8C%85/" rel="tag"># é—­åŒ…</a>
              <a href="/tags/%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0/" rel="tag"># é«˜é˜¶å‡½æ•°</a>
              <a href="/tags/%E9%9D%A2%E7%9B%B8%E5%AF%B9%E8%B1%A1/" rel="tag"># é¢ç›¸å¯¹è±¡</a>
              <a href="/tags/%E5%8E%9F%E5%9E%8B%E6%9C%BA%E5%88%B6/" rel="tag"># åŸå‹æœºåˆ¶</a>
              <a href="/tags/Promise/" rel="tag"># Promise</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/03/29/Interviewing-For-Front-End-Engineers/" rel="prev" title="Interviewing For Front-End Engineers">
                  <i class="fa fa-chevron-left"></i> Interviewing For Front-End Engineers
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/04/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F/" rel="next" title="è®¾è®¡æ¨¡å¼-è£…é¥°è€…æ¨¡å¼">
                  è®¾è®¡æ¨¡å¼-è£…é¥°è€…æ¨¡å¼ <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">åˆ˜å‹‡</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="è¿”å›é¡¶éƒ¨">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
