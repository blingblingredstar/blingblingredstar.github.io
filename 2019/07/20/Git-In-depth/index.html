<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Git In-DepthIntroductionBy coding along with us in this workshop you’ll: 通过与我们一起编写代码，您将:  Learn how git represents commits and branches internally to gain deep insights into how git works under the ho">
<meta name="keywords" content="FrontEndMasters,GitHub,Git">
<meta property="og:type" content="article">
<meta property="og:title" content="Git In-depth">
<meta property="og:url" content="http://yoursite.com/2019/07/20/Git-In-depth/index.html">
<meta property="og:site_name" content="刘勇的博客">
<meta property="og:description" content="Git In-DepthIntroductionBy coding along with us in this workshop you’ll: 通过与我们一起编写代码，您将:  Learn how git represents commits and branches internally to gain deep insights into how git works under the ho">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://www.explainxkcd.com/wiki/images/4/4d/git.png">
<meta property="og:image" content="http://yoursite.com/static/images/WX20190716-143824.png">
<meta property="og:image" content="http://yoursite.com/static/images/WX20190716-145819.png">
<meta property="og:image" content="http://yoursite.com/static/images/WX20190717-110640.png">
<meta property="og:image" content="https://imgs.xkcd.com/comics/git_commit.png">
<meta property="og:image" content="http://yoursite.com/static/images/WX20190720-100204.png">
<meta property="og:updated_time" content="2019-08-27T01:43:32.739Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Git In-depth">
<meta name="twitter:description" content="Git In-DepthIntroductionBy coding along with us in this workshop you’ll: 通过与我们一起编写代码，您将:  Learn how git represents commits and branches internally to gain deep insights into how git works under the ho">
<meta name="twitter:image" content="https://www.explainxkcd.com/wiki/images/4/4d/git.png">






  <link rel="canonical" href="http://yoursite.com/2019/07/20/Git-In-depth/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Git In-depth | 刘勇的博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">刘勇的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/07/20/Git-In-depth/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘勇">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://img.zcool.cn/community/04c6fd55fa1a4a000001b19c79e625.jpg@160w_160h_1c_1e_1o_100sh.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="刘勇的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Git In-depth

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-07-20 11:16:30" itemprop="dateCreated datePublished" datetime="2019-07-20T11:16:30+08:00">2019-07-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2019-08-27 09:43:32" itemprop="dateModified" datetime="2019-08-27T09:43:32+08:00">2019-08-27</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/学习笔记/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Git-In-Depth"><a href="#Git-In-Depth" class="headerlink" title="Git In-Depth"></a>Git In-Depth</h2><h3 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h3><p>By coding along with us in this workshop you’ll:</p>
<p>通过与我们一起编写代码，您将:</p>
<ul>
<li>Learn how git represents commits and branches internally to gain deep insights into how git works under the hood…</li>
<li>了解git如何在内部表示提交和分支，从而深入了解git的底层工作原理……</li>
<li>Discover the power of rebasing in git, along with how to avoid common pitfalls. Learn to tell when it’s appropriate to re-write history…</li>
<li>了解在git中重新建立基础的强大功能，以及如何避免常见的陷阱。学会分辨什么时候改写历史是合适的……</li>
<li>Discover how git hooks can make your life easier by running analysis on your code before you commit in order to prevent common errors from making their way into your codebase…</li>
<li>了解git钩子是如何让您的工作变得更简单的，在您提交代码之前运行对代码的分析，以防止常见错误进入您的代码库……</li>
<li>Discover lesser-known features of git that will save you hours of time when resolving merge conflicts and track down bugs…</li>
<li>发现git不太为人所知的特性，这将为您节省几个小时的时间来解决合并冲突和跟踪bug…</li>
<li>Learn how to harness the power of the GitHub API to fetch information about your repositories.</li>
<li><p>学习如何利用GitHub API的强大功能来获取关于存储库的信息。</p>
<a id="more"></a>
<h4 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h4></li>
<li><p>command line that supports unix style commands</p>
</li>
<li>git version &gt; 2.0(check with <code>git --version</code>)</li>
<li>github.com account</li>
<li>clone <a href="https://github.com/nnja/advanced-git" target="_blank" rel="noopener">git.io/advanced-git</a> for slides and exercises</li>
<li>(oxs only) install homebrew - <a href="https://brew.sh/" target="_blank" rel="noopener">https://brew.sh/</a></li>
</ul>
<h3 id="Course-Agenda"><a href="#Course-Agenda" class="headerlink" title="Course Agenda"></a>Course Agenda</h3><p><img src="https://www.explainxkcd.com/wiki/images/4/4d/git.png" alt="xkcd: git"></p>
<p>Class Overview</p>
<ul>
<li>What is Git?</li>
<li>Working Area, Staging Area, Repository</li>
<li>Staging Area Deep Dive</li>
<li>References, Commits, Branches</li>
<li>Stashing</li>
<li>Merging + Rebasing</li>
<li>History + Diffs</li>
<li>Fixing Mistakes</li>
<li>Rebase</li>
<li>Forks, Remote Reponsitories</li>
<li>The Danger Zone</li>
<li>Advanced Tools</li>
<li>Customization - Config, Ignore, Hooks, Templates</li>
<li>Social Git: Integrating GitHub with CI Tools</li>
<li>Advanced GitHub: Working with the GitHub API</li>
</ul>
<h2 id="Git-Foundations"><a href="#Git-Foundations" class="headerlink" title="Git Foundations"></a>Git Foundations</h2><h3 id="Data-Storage"><a href="#Data-Storage" class="headerlink" title="Data Storage"></a>Data Storage</h3><h4 id="WHAT-IS-GIT"><a href="#WHAT-IS-GIT" class="headerlink" title="WHAT IS GIT"></a>WHAT IS GIT</h4><p>Distributed Version Control System</p>
<h4 id="HOW-DOES-GIT-STORE-INFORMATION"><a href="#HOW-DOES-GIT-STORE-INFORMATION" class="headerlink" title="HOW DOES GIT STORE INFORMATION"></a>HOW DOES GIT STORE INFORMATION</h4><ul>
<li>At its core, git is like a key value store.</li>
<li>The Value = Data</li>
<li>The Key = Hash of the Data</li>
<li>You can use the key to retrieve the content.</li>
</ul>
<h4 id="The-Key-SHA1"><a href="#The-Key-SHA1" class="headerlink" title="The Key - SHA1"></a>The Key - SHA1</h4><ul>
<li>Is a cryptographic hash function.</li>
<li>是一个加密哈希函数。</li>
<li>Given a piece of data, it produces a 40-digit hexadecimal number.</li>
<li>给定一段数据，它产生一个40位的十六进制数。</li>
<li>This value should always be the same if the given input is the same.</li>
<li>如果给定的输入是相同的，那么这个值应该总是相同的。</li>
</ul>
<h3 id="Git-Blobs-amp-Trees"><a href="#Git-Blobs-amp-Trees" class="headerlink" title="Git Blobs &amp; Trees"></a>Git Blobs &amp; Trees</h3><h4 id="The-Value-Blob"><a href="#The-Value-Blob" class="headerlink" title="The Value - Blob"></a>The Value - Blob</h4><ul>
<li>git stores the compressed data in a blob, along with metadata in a header:<ul>
<li>the identifier blob</li>
<li>the size of the content \0 delimiter</li>
<li>content</li>
</ul>
</li>
</ul>
<h4 id="UNDER-THE-HOOD-GIT-HASH-OBJECT"><a href="#UNDER-THE-HOOD-GIT-HASH-OBJECT" class="headerlink" title="UNDER THE HOOD - GIT HASH-OBJECT"></a>UNDER THE HOOD - GIT HASH-OBJECT</h4><p>Asking Git for the SHA1 of contents:<br><code>echo &#39;Hello, World!&#39; | git hash-object --stdin</code><br><code>8ab686eafeb1f44702738c8b0f24f2567c36da6d</code></p>
<p>Generating the SHA1 of the contents, with metadata:<br><code>echo &#39;blob 14\0Hello, World!&#39; | openssl sha1</code><br><code>8ab686eafeb1f44702738c8b0f24f2567c36da6d</code></p>
<p>It’s a Match!</p>
<p>8ab68…</p>
<table>
<thead>
<tr>
<th>blob</th>
<th>14</th>
</tr>
</thead>
<tbody>
<tr>
<td>\0</td>
</tr>
<tr>
<td>Hello, World!</td>
</tr>
</tbody>
</table>
<h4 id="WHERE-DOES-GIT-STORE-ITS-DATA"><a href="#WHERE-DOES-GIT-STORE-ITS-DATA" class="headerlink" title="WHERE DOES GIT STORE ITS DATA"></a>WHERE DOES GIT STORE ITS DATA</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">~/projects/sample</span><br><span class="line">git init</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> /Users/nina/projects/sample/.git/</span><br></pre></td></tr></table></figure>
<p>.git directory contains data about our repository</p>
<h4 id="WHERE-ARE-BLOBS-STORED"><a href="#WHERE-ARE-BLOBS-STORED" class="headerlink" title="WHERE ARE BLOBS STORED"></a>WHERE ARE BLOBS STORED</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">❯ <span class="built_in">echo</span> <span class="string">'Hello, World!'</span> | git <span class="built_in">hash</span>-object -w --stdin</span><br><span class="line">8ab686eafeb1f44702738c8b0f24f2567c36da6d</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">❯ rm -rf .git/hooks</span><br><span class="line"></span><br><span class="line">❯ tree .git .git</span><br><span class="line">├── HEAD</span><br><span class="line">├── config</span><br><span class="line">├── description ├── info</span><br><span class="line">│ └── exclude</span><br><span class="line">├── objects                 <span class="comment"># our blob is stored in objects</span></span><br><span class="line">│ ├──8a                     <span class="comment"># the directory starts with the first 2 chars of the hash.</span></span><br><span class="line">│ │ └── b686eafeb1f44702738c8b0f24f2567c36da6d</span><br><span class="line">│ ├── info</span><br><span class="line">│ └── pack └── refs</span><br><span class="line">├── heads └── tags</span><br></pre></td></tr></table></figure>
<h4 id="WE-NEED-SOMETHING-ELSE"><a href="#WE-NEED-SOMETHING-ELSE" class="headerlink" title="WE NEED SOMETHING ELSE"></a>WE NEED SOMETHING ELSE</h4><p>The blob is missing information!</p>
<ul>
<li>filenames</li>
<li>directory structures</li>
</ul>
<p>Git stores this information in a tree.</p>
<h4 id="TREE"><a href="#TREE" class="headerlink" title="TREE"></a>TREE</h4><p>a <strong>tree</strong> contains pointers (using SHA1):</p>
<ul>
<li>to blobs</li>
<li>to other trees</li>
</ul>
<p>and metadata:</p>
<ul>
<li><strong>type</strong> of pointer (<strong>blob</strong> or <strong>tree</strong>)</li>
<li><strong>filename</strong> or directory name</li>
<li><strong>mode</strong> (executable file, symbolic link, …)</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── copies</span><br><span class="line">│ └── hello-copy.txt</span><br><span class="line">└── hello.txt</span><br><span class="line">1 directory, 2 files</span><br></pre></td></tr></table></figure>
<p>4ad20…</p>
<table>
<thead>
<tr>
<th>tree</th>
<th><code>&lt;size&gt;</code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>\0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>blob</td>
<td>8ab68</td>
<td>hello.txt</td>
</tr>
<tr>
<td>tree</td>
<td>a14ca</td>
<td>copies</td>
</tr>
</tbody>
</table>
<p><img src="/static/images/WX20190716-143824.png" alt="TREES POINT TO BLOBS &amp; TREES"></p>
<h4 id="IDENTICAL-CONTENT-IS-ONLY-STORED-ONCE"><a href="#IDENTICAL-CONTENT-IS-ONLY-STORED-ONCE" class="headerlink" title="IDENTICAL CONTENT IS ONLY STORED ONCE"></a>IDENTICAL CONTENT IS ONLY STORED ONCE</h4><p>在git的存储文件中，tree可以包含了当前文件夹下的blob及相关联的tree，当两个tree指向的blob内容相同时，根据前面提到的，生成的sha1也相同，那么两个不同tree的blob将指向同一个blob。</p>
<h4 id="OTHER-OPTIMIZATIONS-PACKFILES-DELTAS"><a href="#OTHER-OPTIMIZATIONS-PACKFILES-DELTAS" class="headerlink" title="OTHER OPTIMIZATIONS - PACKFILES, DELTAS"></a>OTHER OPTIMIZATIONS - PACKFILES, DELTAS</h4><ul>
<li>Git objects are compressed</li>
<li>As files change, their contents remain mostly similar.</li>
<li>Git optimizes for this by compressing these files together, into a Packfile</li>
<li>The Packfile stores the object, and “deltas”, or the differences between one version of the file and the next.</li>
<li>Packfiles are generated when:<ul>
<li>you have too many objects, during gc(garbage collection), or during a push to a remote</li>
</ul>
</li>
</ul>
<h3 id="Git-Commits"><a href="#Git-Commits" class="headerlink" title="Git Commits"></a>Git Commits</h3><h4 id="COMMIT-OBJECT"><a href="#COMMIT-OBJECT" class="headerlink" title="COMMIT OBJECT"></a>COMMIT OBJECT</h4><p>a commit points to:</p>
<ul>
<li>a tree</li>
</ul>
<p>and contains metadata:</p>
<ul>
<li>author and committer</li>
<li>date</li>
<li>message</li>
<li>parent commit (one or more)</li>
</ul>
<p>the SHA1 of the commit is the hash of all this information</p>
<p>fae12…<br>| commit  | size             |<br>| ——- | —————- |<br>| tree    | 8ab68            |<br>| parent  | a14ca            |<br>| author  | Nina             |<br>| message | “Initial Commit” |</p>
<p><img src="/static/images/WX20190716-145819.png" alt="COMMITS POINT TO PARENT COMMITS AND TREES"></p>
<h4 id="A-COMMIT-IS-A-CODE-SNAPSHOT"><a href="#A-COMMIT-IS-A-CODE-SNAPSHOT" class="headerlink" title="A COMMIT IS A CODE SNAPSHOT"></a>A COMMIT IS A CODE SNAPSHOT</h4><h4 id="COMMITS-UNDER-THE-HOOD-MAKE-A-COMMIT"><a href="#COMMITS-UNDER-THE-HOOD-MAKE-A-COMMIT" class="headerlink" title="COMMITS UNDER THE HOOD - MAKE A COMMIT"></a>COMMITS UNDER THE HOOD - MAKE A COMMIT</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'Hello World!'</span> &gt; hello.txt</span><br><span class="line">git add hello.txt</span><br><span class="line">git commit -m <span class="string">"Initial commit"</span></span><br><span class="line"></span><br><span class="line">[master (root-commit) adf0e13] Initial commit</span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line">create mode 100644 hello.txt</span><br></pre></td></tr></table></figure>
<h4 id="COMMITS-UNDER-THE-HOOD-LOOK-IN-GIT-OBJECTS"><a href="#COMMITS-UNDER-THE-HOOD-LOOK-IN-GIT-OBJECTS" class="headerlink" title="COMMITS UNDER THE HOOD - LOOK IN .GIT/OBJECTS"></a>COMMITS UNDER THE HOOD - LOOK IN .GIT/OBJECTS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tree .git/objects</span><br><span class="line"></span><br><span class="line">.git/objects</span><br><span class="line">├── 58</span><br><span class="line">│ └── 1caa0fe56cf01dc028cc0b089d364993e046b6</span><br><span class="line">├── 98</span><br><span class="line">│ └── 0a0d5f19a64b4b30a87d4206aade58726b60e3</span><br><span class="line">├── ad <span class="comment"># commit tree</span></span><br><span class="line">│ └── f0e13658d9b4424efe03c3ac3281facf288c13</span><br><span class="line">├── info</span><br><span class="line">└── pack</span><br></pre></td></tr></table></figure>
<h4 id="COMMITS-UNDER-THE-HOOD-LOOKING-AT-OBJECTS"><a href="#COMMITS-UNDER-THE-HOOD-LOOKING-AT-OBJECTS" class="headerlink" title="COMMITS UNDER THE HOOD - LOOKING AT OBJECTS"></a>COMMITS UNDER THE HOOD - LOOKING AT OBJECTS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">❯ cat .git/objects/98/0a0d5f19a64b4b30a87d4206aade58726b60e3</span><br><span class="line">xKOR04fH/IQHak%</span><br></pre></td></tr></table></figure>
<p>oops!<br>remember, git objects are compressed.</p>
<h4 id="GIT-CAT-FILE-T-TYPE-AND-P-PRINT-THE-CONTENTS"><a href="#GIT-CAT-FILE-T-TYPE-AND-P-PRINT-THE-CONTENTS" class="headerlink" title="GIT CAT-FILE -T (TYPE) AND -P (PRINT THE CONTENTS)"></a>GIT CAT-FILE -T (TYPE) AND -P (PRINT THE CONTENTS)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">❯ git cat-file -t 980a0 <span class="comment"># -t print the type</span></span><br><span class="line">blob</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cat-file -p 980a0 <span class="comment">#  -p print the contents</span></span><br><span class="line">Hello World!</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">❯ git cat-file -t 581caa</span><br><span class="line">tree</span><br><span class="line"></span><br><span class="line">❯ git cat-file -p 581caa</span><br><span class="line">100644 blob 980a0d5f19a64b4b30a87d4206aade58726b60e3</span><br><span class="line">hello.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">❯ git cat-file -t adf0e1</span><br><span class="line">commit</span><br><span class="line"></span><br><span class="line">❯ git cat-file -p adf0e1</span><br><span class="line">tree 581caa0fe56cf01dc028cc0b089d364993e046b6</span><br><span class="line">author Nina &lt;nina@nnja.io&gt; 1506214053 -0700</span><br><span class="line">committer Nina &lt;nina@nnja.io&gt; 1506214053 -0700</span><br><span class="line"></span><br><span class="line">Initial commit</span><br></pre></td></tr></table></figure>
<h4 id="WHY-CAN’T-WE-“CHANGE”-COMMITS"><a href="#WHY-CAN’T-WE-“CHANGE”-COMMITS" class="headerlink" title="WHY CAN’T WE “CHANGE” COMMITS"></a>WHY CAN’T WE “CHANGE” COMMITS</h4><ul>
<li>If you change any data about the commit, the commit will have a new SHA1 hash.</li>
<li>Even if the files don’t change, the created date will.</li>
</ul>
<h4 id="REFERENCES-POINTERS-TO-COMMITS"><a href="#REFERENCES-POINTERS-TO-COMMITS" class="headerlink" title="REFERENCES - POINTERS TO COMMITS"></a>REFERENCES - POINTERS TO COMMITS</h4><ul>
<li>Tags</li>
<li>Branches</li>
<li>HEAD - a pointer to the current commit</li>
</ul>
<h4 id="REFERENCES-UNDER-THE-HOOD"><a href="#REFERENCES-UNDER-THE-HOOD" class="headerlink" title="REFERENCES - UNDER THE HOOD"></a>REFERENCES - UNDER THE HOOD</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">❯ tree .git .git</span><br><span class="line">├── HEAD</span><br><span class="line">└── refs</span><br><span class="line">  ├── heads        <span class="comment"># refs/heads is where branches live</span></span><br><span class="line">  │   └── master</span><br><span class="line">  └── tags</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">adf0e13 (HEAD -&gt; master) Initial commit</span><br><span class="line"></span><br><span class="line">❯ cat .git/refs/heads/master <span class="comment"># /refs/heads/master contains which commit the branch points to</span></span><br><span class="line">adf0e13658d9b4424efe03c3ac3281facf288c13</span><br><span class="line"></span><br><span class="line">cat .git/HEAD</span><br><span class="line">ref: refs/heads/master <span class="comment"># HEAD is usually a pointer to the current branch</span></span><br></pre></td></tr></table></figure>
<h3 id="Exercise-Simple-Git-Commit"><a href="#Exercise-Simple-Git-Commit" class="headerlink" title="Exercise: Simple Git Commit"></a>Exercise: Simple Git Commit</h3><ol>
<li>Configure your editor<ul>
<li><a href="git.io/config-editor">git.io/config-editor</a></li>
</ul>
</li>
<li>Complete exercise<ul>
<li><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise1-SimpleCommit.md" target="_blank" rel="noopener">https://github.com/nnja/advanced-git/blob/master/exercises/Exercise1-SimpleCommit.md</a></li>
</ul>
</li>
<li>Check out cheat sheet for using less<ul>
<li>git.io/use-less</li>
</ul>
</li>
</ol>
<p>Exercise:</p>
<ul>
<li>Create a new folder and initialize it as a git repo</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir ./sample</span><br><span class="line"><span class="built_in">cd</span> ./sample</span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line">fatal: not a git repository (or any of the parent directories): .git</span><br><span class="line"></span><br><span class="line">git init</span><br><span class="line">Initialized empty Git repository <span class="keyword">in</span> /Users/liuyong/Documents/前端练习/front-end-masters/18-Git-In-depth/sample/.git/</span><br></pre></td></tr></table></figure>
<ul>
<li>Create a file, stage it, and commit it to your new repo</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'Hello World!'</span> &gt; hello.txt</span><br><span class="line"></span><br><span class="line">git add hello.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Initial commit"</span></span><br><span class="line">[master (root-commit) 662b7ce] Initial commit</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 hello.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>Look at your .git folder, using tree if you have it</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">tree .git</span><br><span class="line">.git</span><br><span class="line">├── COMMIT_EDITMSG</span><br><span class="line">├── FETCH_HEAD</span><br><span class="line">├── HEAD</span><br><span class="line">├── branches</span><br><span class="line">├── config</span><br><span class="line">├── description</span><br><span class="line">├── hooks</span><br><span class="line">│   ├── applypatch-msg.sample</span><br><span class="line">│   ├── commit-msg.sample</span><br><span class="line">│   ├── fsmonitor-watchman.sample</span><br><span class="line">│   ├── post-update.sample</span><br><span class="line">│   ├── pre-applypatch.sample</span><br><span class="line">│   ├── pre-commit.sample</span><br><span class="line">│   ├── pre-push.sample</span><br><span class="line">│   ├── pre-rebase.sample</span><br><span class="line">│   ├── pre-receive.sample</span><br><span class="line">│   ├── prepare-commit-msg.sample</span><br><span class="line">│   └── update.sample</span><br><span class="line">├── index</span><br><span class="line">├── info</span><br><span class="line">│   └── exclude</span><br><span class="line">├── logs</span><br><span class="line">│   ├── HEAD</span><br><span class="line">│   └── refs</span><br><span class="line">│       └── heads</span><br><span class="line">│           └── master</span><br><span class="line">├── objects</span><br><span class="line">│   ├── 58</span><br><span class="line">│   │   └── 1caa0fe56cf01dc028cc0b089d364993e046b6</span><br><span class="line">│   ├── 66</span><br><span class="line">│   │   └── 2b7ce25ded7cfc94d4cefdcaf114bc61a2e476</span><br><span class="line">│   ├── 98</span><br><span class="line">│   │   └── 0a0d5f19a64b4b30a87d4206aade58726b60e3</span><br><span class="line">│   ├── info</span><br><span class="line">│   └── pack</span><br><span class="line">└── refs</span><br><span class="line">    ├── heads</span><br><span class="line">    │   └── master</span><br><span class="line">    └── tags</span><br><span class="line"></span><br><span class="line">15 directories, 24 files</span><br></pre></td></tr></table></figure>
<ul>
<li>Inspect the objects in your .git/objects folder using git cat-file. See if you can find the tree, blob, and commit objects for your recent commit.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">git cat-file -t 581caa</span><br><span class="line">tree</span><br><span class="line"></span><br><span class="line">git cat-file -p 581caa</span><br><span class="line">100644 blob 980a0d5f19a64b4b30a87d4206aade58726b60e3    hello.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git cat-file -t 662b7</span><br><span class="line">commit</span><br><span class="line"></span><br><span class="line">git cat-file -p 662b7</span><br><span class="line">tree 581caa0fe56cf01dc028cc0b089d364993e046b6</span><br><span class="line">author liuyong &lt;564447023@qq.com&gt; 1563329855 +0800</span><br><span class="line">committer liuyong &lt;564447023@qq.com&gt; 1563329855 +0800</span><br><span class="line"></span><br><span class="line">Initial commit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git cat-file -t 980a0</span><br><span class="line">blob</span><br><span class="line"></span><br><span class="line">git cat-file -p 980a0</span><br><span class="line">Hello World!</span><br></pre></td></tr></table></figure>
<ul>
<li>Look at your .git/HEAD and .git/refs/heads/master files and see if you can figure out where these references are pointing to.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">cat .git/HEAD</span><br><span class="line">ref: refs/heads/master</span><br><span class="line"></span><br><span class="line">cat .git/refs/heads/master</span><br><span class="line">662b7ce25ded7cfc94d4cefdcaf114bc61a2e476</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line">662b7ce (HEAD -&gt; master) Initial commit</span><br><span class="line"></span><br><span class="line">git branch new_branch</span><br><span class="line"></span><br><span class="line">tree .git/refs</span><br><span class="line">.git/refs</span><br><span class="line">├── heads</span><br><span class="line">│   ├── master</span><br><span class="line">│   └── new_branch</span><br><span class="line">└── tags</span><br><span class="line"></span><br><span class="line">2 directories, 2 files</span><br></pre></td></tr></table></figure>
<h2 id="Git-Areas-amp-Stashing"><a href="#Git-Areas-amp-Stashing" class="headerlink" title="Git Areas &amp; Stashing"></a>Git Areas &amp; Stashing</h2><h3 id="Working-Area-Staging-Area-Repository"><a href="#Working-Area-Staging-Area-Repository" class="headerlink" title="Working Area, Staging Area, Repository"></a>Working Area, Staging Area, Repository</h3><h4 id="THREE-AREAS-WHERE-CODE-LIVES"><a href="#THREE-AREAS-WHERE-CODE-LIVES" class="headerlink" title="THREE AREAS WHERE CODE LIVES"></a>THREE AREAS WHERE CODE LIVES</h4><ol>
<li>Working Area</li>
<li>Staging Area</li>
<li>Repository</li>
</ol>
<h4 id="THE-WORKING-AREA-A-K-A-WORKING-TREE"><a href="#THE-WORKING-AREA-A-K-A-WORKING-TREE" class="headerlink" title="THE WORKING AREA(A.K.A WORKING TREE)"></a>THE WORKING AREA(A.K.A WORKING TREE)</h4><ul>
<li>The files in your working area that are also not in the staging are are not handled by git.</li>
<li>Also called <strong>untracked files</strong></li>
</ul>
<h4 id="THE-STAGING-AREA-A-K-A-INDEX-CACHE"><a href="#THE-STAGING-AREA-A-K-A-INDEX-CACHE" class="headerlink" title="THE STAGING AREA (A.K.A INDEX, CACHE)"></a>THE STAGING AREA (A.K.A INDEX, CACHE)</h4><ul>
<li>What files are going to be part of the next commit</li>
<li>The staging area is how git knows what will change between the current commit and the next commit.</li>
</ul>
<h4 id="THE-REPOSITORY"><a href="#THE-REPOSITORY" class="headerlink" title="THE REPOSITORY"></a>THE REPOSITORY</h4><ul>
<li>The files git knows about!</li>
<li>Contains all of your commits</li>
</ul>
<h4 id="CLOSER-LOOK-THE-STAGING-AREA"><a href="#CLOSER-LOOK-THE-STAGING-AREA" class="headerlink" title="CLOSER LOOK: THE STAGING AREA"></a>CLOSER LOOK: THE STAGING AREA</h4><h5 id="THE-STAGING-AREA"><a href="#THE-STAGING-AREA" class="headerlink" title="THE STAGING AREA"></a>THE STAGING AREA</h5><ul>
<li>The staging area is how git knows what will change between the current commit and the next commit.</li>
<li>Tip: a “clean” staging area isn’t empty!</li>
<li>Consider the baseline staging area as being an exact copy of the latest commit.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">❯ git ls-files -s <span class="comment"># The plumbing command ls-files -s will show you what’s in the staging area.</span></span><br><span class="line">100644 b8b2583b242add97d513d8d8b85a46b9b5fb29cb 0 index.txt</span><br><span class="line">100644 ed52afd72f64b1f8575e81bb4cb02ef1215739f6 0 posts/</span><br><span class="line">welcome.txt</span><br></pre></td></tr></table></figure>
<h5 id="MOVING-FILES-IN-amp-OUT-OF-THE-STAGING-AREA"><a href="#MOVING-FILES-IN-amp-OUT-OF-THE-STAGING-AREA" class="headerlink" title="MOVING FILES IN &amp; OUT OF THE STAGING AREA"></a>MOVING FILES IN &amp; OUT OF THE STAGING AREA</h5><ul>
<li>add a file to the next commit:<ul>
<li><code>git add &lt;file&gt;</code></li>
</ul>
</li>
<li>delete a file in the next commit:<ul>
<li><code>git rm &lt;file&gt;</code></li>
</ul>
</li>
<li>rename a file in the next commit:<ul>
<li><code>git mv &lt;file&gt;</code></li>
</ul>
</li>
</ul>
<h5 id="GIT-ADD-P"><a href="#GIT-ADD-P" class="headerlink" title="GIT ADD -P"></a>GIT ADD -P</h5><ul>
<li>one of my favorite tools</li>
<li>allows you to stage commits in hunks</li>
<li>interactively!</li>
<li>It’s especially useful if you’ve done too much work for one commit.</li>
</ul>
<h5 id="USING-GIT-ADD-P"><a href="#USING-GIT-ADD-P" class="headerlink" title="USING GIT ADD -P"></a>USING GIT ADD -P</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">❯ git add -p</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">diff displayed</span><br><span class="line">.</span><br><span class="line">. .</span><br><span class="line">Stage this hunk [y,n,q,a,d,/,j,J,g,e,?]? ?</span><br><span class="line">y - stage this hunk</span><br><span class="line">n - <span class="keyword">do</span> not stage this hunk</span><br><span class="line">q - quit; <span class="keyword">do</span> not stage this hunk or any of the remaining ones</span><br><span class="line">a - stage this hunk and all later hunks <span class="keyword">in</span> the file</span><br><span class="line">d - <span class="keyword">do</span> not stage this hunk or any of the later hunks <span class="keyword">in</span> the file</span><br><span class="line">g - select a hunk to go to</span><br><span class="line">/ - search <span class="keyword">for</span> a hunk matching the given regex</span><br><span class="line">j - leave this hunk undecided, see next undecided hunk</span><br><span class="line">J - leave this hunk undecided, see next hunk</span><br><span class="line">k - leave this hunk undecided, see previous undecided hunk</span><br><span class="line">K - leave this hunk undecided, see previous hunk</span><br><span class="line">s - split the current hunk into smaller hunks</span><br><span class="line">e - manually edit the current hunk</span><br><span class="line">? - <span class="built_in">print</span> <span class="built_in">help</span></span><br></pre></td></tr></table></figure>
<h5 id="“UNSTAGE”-FILES-FROM-THE-STAGING-AREA"><a href="#“UNSTAGE”-FILES-FROM-THE-STAGING-AREA" class="headerlink" title="“UNSTAGE” FILES FROM THE STAGING AREA"></a>“UNSTAGE” FILES FROM THE STAGING AREA</h5><ul>
<li>Not removing the files.</li>
<li>You’re replacing them with a copy that’s currently in the repository.</li>
</ul>
<h5 id="BASICS-HOW-CONTENT-MOVES-IN-GIT"><a href="#BASICS-HOW-CONTENT-MOVES-IN-GIT" class="headerlink" title="BASICS: HOW CONTENT MOVES IN GIT"></a>BASICS: HOW CONTENT MOVES IN GIT</h5><p><img src="/static/images/WX20190717-110640.png" alt="HOW CONTENT MOVES IN GIT"></p>
<h3 id="Stashing"><a href="#Stashing" class="headerlink" title="Stashing"></a>Stashing</h3><h4 id="GIT-STASH"><a href="#GIT-STASH" class="headerlink" title="GIT STASH"></a>GIT STASH</h4><ul>
<li>Save un-committed work.</li>
<li>The stash is safe from destructive operations.</li>
</ul>
<h4 id="GIT-STASH-BASIC-USE"><a href="#GIT-STASH-BASIC-USE" class="headerlink" title="GIT STASH - BASIC USE"></a>GIT STASH - BASIC USE</h4><ul>
<li>stash changes<ul>
<li><code>git stash</code></li>
</ul>
</li>
<li>list changes<ul>
<li><code>git stash list</code></li>
</ul>
</li>
<li>show the contents<ul>
<li><code>git stash show stash@{0}</code></li>
</ul>
</li>
<li>apply the last stash<ul>
<li><code>git stash apply</code></li>
</ul>
</li>
<li>apply a specific stash<ul>
<li><code>git stash apply stash@{0}</code></li>
</ul>
</li>
</ul>
<h4 id="ADVANCED-STASHING-KEEPING-FILES"><a href="#ADVANCED-STASHING-KEEPING-FILES" class="headerlink" title="ADVANCED STASHING - KEEPING FILES"></a>ADVANCED STASHING - KEEPING FILES</h4><ul>
<li>Keep untracked files<ul>
<li><code>git stash --include-untracked</code></li>
</ul>
</li>
<li>Keep all files (even ignored ones!)<ul>
<li><code>git stash --all</code></li>
</ul>
</li>
</ul>
<h4 id="ADVANCED-STASHING-OPERATIONS"><a href="#ADVANCED-STASHING-OPERATIONS" class="headerlink" title="ADVANCED STASHING - OPERATIONS"></a>ADVANCED STASHING - OPERATIONS</h4><ul>
<li>Name stashes for easy reference<ul>
<li><code>git stash save &quot;WIP: making progress on foo&quot;</code></li>
</ul>
</li>
<li>Start a new branch from a stash<ul>
<li><code>git stash branch &lt;optional stash name&gt;</code></li>
</ul>
</li>
<li>Grab a single file from a stash<ul>
<li><code>git checkout &lt;stash name&gt; -- &lt;filename&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="ADVANCED-STASHING-CLEANING-THE-STASH"><a href="#ADVANCED-STASHING-CLEANING-THE-STASH" class="headerlink" title="ADVANCED STASHING - CLEANING THE STASH"></a>ADVANCED STASHING - CLEANING THE STASH</h4><ul>
<li>Remove the last stash and applying changes:<ul>
<li><code>git stash pop</code></li>
<li>tip: doesn’t remove if there’s a merge conflict</li>
</ul>
</li>
<li>Remove the last stash<ul>
<li><code>git stash drop</code></li>
</ul>
</li>
<li>Remove the nth stash<ul>
<li><code>git stash drop stash@{n}</code></li>
</ul>
</li>
<li>Remove all stashes<ul>
<li><code>git stash clear</code></li>
</ul>
</li>
</ul>
<h4 id="EXAMINING-STASH-CONTENTS-GIT-SHOW"><a href="#EXAMINING-STASH-CONTENTS-GIT-SHOW" class="headerlink" title="EXAMINING STASH CONTENTS - GIT SHOW"></a>EXAMINING STASH CONTENTS - GIT SHOW</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">❯ git stash list</span><br><span class="line">stash@&#123;0&#125;: WIP on master: 9703ef3 example</span><br><span class="line">stash@&#123;1&#125;: WIP on example3: 0be5e31 hello</span><br><span class="line">stash@&#123;2&#125;: WIP on example3: 0be5e31 a commit</span><br><span class="line"></span><br><span class="line">❯ git stash show stash@&#123;2&#125;</span><br><span class="line"></span><br><span class="line"> goodbye.txt  | 1 +</span><br><span class="line"> hello.txt | 2 +-</span><br><span class="line"> 2 files changed, 2 insertions(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<h4 id="GIT-STASH-WHAT-I-USE"><a href="#GIT-STASH-WHAT-I-USE" class="headerlink" title="GIT STASH - WHAT I USE"></a>GIT STASH - WHAT I USE</h4><ul>
<li>Keep untracked files<ul>
<li><code>git stash --include-untracked</code></li>
</ul>
</li>
<li>Name stashes for easy reference<ul>
<li><code>git stash save &quot;WIP: making progress on foo&quot;</code></li>
</ul>
</li>
</ul>
<h3 id="Exercise-Staging-amp-Stashing"><a href="#Exercise-Staging-amp-Stashing" class="headerlink" title="Exercise: Staging &amp; Stashing"></a>Exercise: Staging &amp; Stashing</h3><p><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise2-StagingAndStashing.md" target="_blank" rel="noopener">Exercise Link</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:nnja/advanced-git-exercises.git</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> advanced-git-exercises/</span><br><span class="line"></span><br><span class="line">git checkout exercise2</span><br><span class="line">Branch <span class="string">'exercise2'</span> <span class="built_in">set</span> up to track remote branch <span class="string">'exercise2'</span> from <span class="string">'origin'</span>.</span><br><span class="line">Switched to a new branch <span class="string">'exercise2'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Use git ls-files -s to view the contents of the staging area.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git ls-files -s</span><br><span class="line">100644 980a0d5f19a64b4b30a87d4206aade58726b60e3 0       hello.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>Make a change and try to stage it interactively (<code>git add -p</code>).</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"This is a test of the emergency git-casting system"</span> &gt;&gt; hello.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git add -p</span><br><span class="line"></span><br><span class="line">diff --git a/hello.txt b/hello.txt</span><br><span class="line">index 980a0d5..424b148 100644</span><br><span class="line">--- a/hello.txt</span><br><span class="line">+++ b/hello.txt</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> Hello World!</span><br><span class="line">+This is a <span class="built_in">test</span> of the emergency git-casting system</span><br><span class="line">Stage this hunk [y,n,q,a,d,e,?]? <span class="comment"># press Enter</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">y - stage this hunk</span><br><span class="line">n - <span class="keyword">do</span> not stage this hunk</span><br><span class="line">q - quit; <span class="keyword">do</span> not stage this hunk or any of the remaining ones</span><br><span class="line">a - stage this hunk and all later hunks <span class="keyword">in</span> the file</span><br><span class="line">d - <span class="keyword">do</span> not stage this hunk or any of the later hunks <span class="keyword">in</span> the file</span><br><span class="line">e - manually edit the current hunk</span><br><span class="line">? - <span class="built_in">print</span> <span class="built_in">help</span></span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> Hello World!</span><br><span class="line">+This is a <span class="built_in">test</span> of the emergency git-casting system</span><br><span class="line">Stage this hunk [y,n,q,a,d,e,?]? y <span class="comment"># press y and enter to stage this hunk</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line">On branch exercise2</span><br><span class="line">Your branch is up to date with <span class="string">'origin/exercise2'</span>.</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">        modified:   hello.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git ls-files -s</span><br><span class="line">100644 424b14840bb04f45db15b4a1a72a3480ce1f2060 0       hello.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>Use <code>git reset</code> to undo the staging of your file.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">git reset hello.txt</span><br><span class="line"></span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M       hello.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">On branch exercise2</span><br><span class="line">Your branch is up to date with <span class="string">'origin/exercise2'</span>.</span><br><span class="line"></span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br><span class="line">        modified:   hello.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Stash your change with a unique stash message, then unstash and apply it back to the exercise2 branch.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">git stash save <span class="string">"emergency git-casting"</span></span><br><span class="line"></span><br><span class="line">Saved working directory and index state On exercise2: emergency git-casting</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">On branch exercise2</span><br><span class="line">Your branch is up to date with <span class="string">'origin/exercise2'</span>.</span><br><span class="line"></span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git stash list</span><br><span class="line"></span><br><span class="line">stash@&#123;0&#125;: On exercise2: emergency git-casting</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git stash show stash@&#123;0&#125;</span><br><span class="line"></span><br><span class="line"> hello.txt | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git stash apply stash@&#123;0&#125;</span><br><span class="line"></span><br><span class="line">On branch exercise2</span><br><span class="line">Your branch is up to date with <span class="string">'origin/exercise2'</span>.</span><br><span class="line"></span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br><span class="line">        modified:   hello.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">"git add"</span> and/or <span class="string">"git commit -a"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git diff hello.txt</span><br><span class="line"></span><br><span class="line">diff --git a/hello.txt b/hello.txt</span><br><span class="line">index 980a0d5..424b148 100644</span><br><span class="line">--- a/hello.txt</span><br><span class="line">+++ b/hello.txt</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> Hello World!</span><br><span class="line">+This is a <span class="built_in">test</span> of the emergency git-casting system</span><br></pre></td></tr></table></figure>
<h2 id="References-Commits-Branches"><a href="#References-Commits-Branches" class="headerlink" title="References, Commits, Branches"></a>References, Commits, Branches</h2><h3 id="References-pointers-to-commits"><a href="#References-pointers-to-commits" class="headerlink" title="References(pointers to commits)"></a>References(pointers to commits)</h3><h4 id="THREE-TYPES-OF-GIT-REFERENCES"><a href="#THREE-TYPES-OF-GIT-REFERENCES" class="headerlink" title="THREE TYPES OF GIT REFERENCES"></a>THREE TYPES OF GIT REFERENCES</h4><ul>
<li>Tags &amp; Annotated Tags</li>
<li>Branches</li>
<li>HEAD</li>
</ul>
<h4 id="WHAT’S-A-BRANCH"><a href="#WHAT’S-A-BRANCH" class="headerlink" title="WHAT’S A BRANCH"></a>WHAT’S A BRANCH</h4><ul>
<li>A branch is just a pointer to a particular commit.</li>
<li>The pointer of the current branch changes as new commits are made.</li>
</ul>
<h4 id="WHAT-IS-HEAD"><a href="#WHAT-IS-HEAD" class="headerlink" title="WHAT IS HEAD"></a>WHAT IS HEAD</h4><ul>
<li>HEAD is how git knows what branch you’re currently on, and what the next parent will be.</li>
<li>It’s a pointer.<ul>
<li>It usually points at the name of the current branch.</li>
<li>But, it can point at a commit too (detached HEAD).</li>
</ul>
</li>
<li>It moves when:<ul>
<li>You make a commit in the currently active branch</li>
<li>When you checkout a new branch</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">❯ git checkout master</span><br><span class="line"></span><br><span class="line">❯ cat .git/HEAD</span><br><span class="line">ref: refs/heads/master</span><br><span class="line"></span><br><span class="line">❯ git checkout feature</span><br><span class="line">Switched to branch <span class="string">'feature'</span></span><br><span class="line"></span><br><span class="line">❯ cat .git/HEAD</span><br><span class="line">ref: refs/heads/feature</span><br></pre></td></tr></table></figure>
<h4 id="SAMPLE-REPO-A-SIMPLE-BLOG"><a href="#SAMPLE-REPO-A-SIMPLE-BLOG" class="headerlink" title="SAMPLE REPO - A SIMPLE BLOG"></a>SAMPLE REPO - A SIMPLE BLOG</h4><ul>
<li>We’re working on a simple blog.</li>
<li>index.txt contains links to our entries, and post titles</li>
<li>the posts/ directory contains our blog entries.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">❯ mkdir posts</span><br><span class="line">❯ <span class="built_in">echo</span> <span class="string">'This is my very first blog entry.'</span>&gt; posts/welcome.txt</span><br><span class="line">❯ <span class="built_in">echo</span> <span class="string">'welcome.txt Welcome to my blog'</span> &gt; index.txt</span><br></pre></td></tr></table></figure>
<h4 id="CURRENT-REPO-STATE"><a href="#CURRENT-REPO-STATE" class="headerlink" title="CURRENT REPO STATE"></a>CURRENT REPO STATE</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">❯ git init</span><br><span class="line">❯ git add .</span><br><span class="line">❯ git commit -m <span class="string">"Initial commit"</span></span><br><span class="line">[master (root-commit) cd0b57c] Initial commit</span><br><span class="line"> 2 files changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 index.txt</span><br><span class="line"> create mode 100644 posts/welcome.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">❯ git checkout -b tech_posts</span><br><span class="line">Switched to a new branch <span class="string">'tech_posts'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">❯ git add posts/python.txt</span><br><span class="line">❯ git commit -m <span class="string">"New blog post about python"</span></span><br><span class="line">[tech_posts 2b0b3f2] New blog post about python</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 posts/python.txt</span><br></pre></td></tr></table></figure>
<h3 id="Tags-amp-Annotated-Tags"><a href="#Tags-amp-Annotated-Tags" class="headerlink" title="Tags &amp; Annotated Tags"></a>Tags &amp; Annotated Tags</h3><h4 id="LIGHTWEIGHT-TAGS"><a href="#LIGHTWEIGHT-TAGS" class="headerlink" title="LIGHTWEIGHT TAGS"></a>LIGHTWEIGHT TAGS</h4><ul>
<li>Lightweight tags are just a simple pointer to a commit.</li>
<li>When you create a tag with no arguments, it captures the value in HEAD</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">❯ git checkout master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line">❯ git tag my-first-commit</span><br></pre></td></tr></table></figure>
<h4 id="ANNOTATED-TAGS-GIT-TAG-A"><a href="#ANNOTATED-TAGS-GIT-TAG-A" class="headerlink" title="ANNOTATED TAGS: GIT TAG -A"></a>ANNOTATED TAGS: GIT TAG -A</h4><ul>
<li>Point to a commit, but store additional information.<ul>
<li>Author, message, date.</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">❯ git tag -a v1.0 -m <span class="string">"Version 1.0 of my blog"</span></span><br><span class="line">❯ git tag my-first-commit v1.0</span><br><span class="line">❯ git show v1.0</span><br><span class="line">tag v1.0</span><br><span class="line">Tagger: Nina Zakharenko &lt;nina@nnja.io&gt;</span><br><span class="line">Date: Sun Sep 24 17:01:21 2017 -0700</span><br><span class="line">Version 1.0 of my blog</span><br></pre></td></tr></table></figure>
<h4 id="WORKING-WITH-TAGS"><a href="#WORKING-WITH-TAGS" class="headerlink" title="WORKING WITH TAGS"></a>WORKING WITH TAGS</h4><ul>
<li>List all the tags in a repo<ul>
<li><code>git tag</code></li>
</ul>
</li>
<li>List all tags, and what commit they’re pointing to<ul>
<li><code>git show-ref --tags</code></li>
</ul>
</li>
<li>List all the tags pointing at a commit<ul>
<li><code>git tag --points-at &lt;commit&gt;</code></li>
</ul>
</li>
<li>Looking at the tag, or tagged contents:<ul>
<li><code>git show &lt;tag-name&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="TAGS-amp-BRANCHES"><a href="#TAGS-amp-BRANCHES" class="headerlink" title="TAGS &amp; BRANCHES"></a>TAGS &amp; BRANCHES</h4><ul>
<li>Branch<ul>
<li>The current branch pointer moves with every commit to the repository</li>
</ul>
</li>
<li>Tag<ul>
<li>The commit that a tag points doesn’t change. It’s a snapshot!</li>
</ul>
</li>
</ul>
<h3 id="Detached-Head-amp-Dangling-Commits"><a href="#Detached-Head-amp-Dangling-Commits" class="headerlink" title="Detached Head &amp; Dangling Commits"></a>Detached Head &amp; Dangling Commits</h3><h4 id="HEAD-LESS-DETACHED-HEAD"><a href="#HEAD-LESS-DETACHED-HEAD" class="headerlink" title="HEAD-LESS / DETACHED HEAD"></a>HEAD-LESS / DETACHED HEAD</h4><ul>
<li>Sometimes you need to checkout a specific commit (or tag) instead of a branch.</li>
<li>git moves the HEAD pointer to that commit</li>
<li>as soon as you checkout a different branch or commit, the value of HEAD will point to the new SHA</li>
<li>There is no reference pointing to the commits you made in a detached state.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">❯ git checkout cd0b57</span><br><span class="line">Note: checking out <span class="string">'cd0b57'</span>.</span><br><span class="line"></span><br><span class="line">You are <span class="keyword">in</span> <span class="string">'detached HEAD'</span> state. You can</span><br><span class="line">look around, make experimental</span><br><span class="line">changes and commit them, and you can</span><br><span class="line">discard any commits you make <span class="keyword">in</span> this</span><br><span class="line">state without impacting any branches by</span><br><span class="line">performing another checkout.</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">❯ git add posts/second-post.txt</span><br><span class="line">❯ git commit -m <span class="string">"My second post"</span></span><br><span class="line">[detached HEAD 1f6ee83] My second post</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 posts/second-post.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>Save your work:<ul>
<li>Create a new branch that points to the last commit you made in a detached state.<ul>
<li>g<code>it branch &lt;new-branch-name&gt; &lt;commit&gt;</code></li>
</ul>
</li>
<li>Why the last commit?<ul>
<li>Because the other commits point to their parents.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="DANGLING-COMMITS"><a href="#DANGLING-COMMITS" class="headerlink" title="DANGLING COMMITS"></a>DANGLING COMMITS</h4><ul>
<li>Discard your work:<ul>
<li>If you don’t point a new branch at those commits, they will no longer be referenced in git. (dangling commits)</li>
<li>Eventually, they will be garbage collected.</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">❯ git checkout master</span><br><span class="line">Warning: you are leaving 1 commit behind,</span><br><span class="line">not connected to any of your branches:</span><br><span class="line">  1f6ee83 My second post</span><br></pre></td></tr></table></figure>
<h3 id="Exercise-References"><a href="#Exercise-References" class="headerlink" title="Exercise: References"></a>Exercise: References</h3><p><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise3-References.md" target="_blank" rel="noopener">Exercise Link</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout exercise3</span><br><span class="line">Branch <span class="string">'exercise3'</span> <span class="built_in">set</span> up to track remote branch <span class="string">'exercise3'</span> from <span class="string">'origin'</span>.</span><br><span class="line">Switched to a new branch <span class="string">'exercise3'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Check the value of your HEAD variable (hint: look in .git) and confirm you’re pointed at the exercise3 branch.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cat .git/HEAD</span><br><span class="line"></span><br><span class="line">ref: refs/heads/exercise3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line">  exercise2</span><br><span class="line">* exercise3</span><br><span class="line">  master</span><br></pre></td></tr></table></figure>
<ul>
<li>Use show-ref to look at your other heads.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">git show-ref --heads</span><br><span class="line"></span><br><span class="line">43388fee19744e8893467331d7853a6475a227b8 refs/heads/exercise2</span><br><span class="line">e348ebc1187cb3b4066b1e9432a614b464bf9d07 refs/heads/exercise3</span><br><span class="line">43388fee19744e8893467331d7853a6475a227b8 refs/heads/master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git cat-file -p 43388fee <span class="comment"># You can see for yourself that our master branch is pointing to our "Initial commit"</span></span><br><span class="line"></span><br><span class="line">tree 581caa0fe56cf01dc028cc0b089d364993e046b6</span><br><span class="line">author Nina Zakharenko &lt;nina@nnja.io&gt; 1507168309 -0700</span><br><span class="line">committer Nina Zakharenko &lt;nina@nnja.io&gt; 1507168309 -0700</span><br><span class="line"></span><br><span class="line">Initial commit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat-file -p e348ebc <span class="comment"># Whereas our exercise3 branch is pointing to our newer commit from Exercise 2:</span></span><br><span class="line"></span><br><span class="line">tree cbcdf5dda7853d595fe0b1942cb0d1d72eb910f3</span><br><span class="line">parent 43388fee19744e8893467331d7853a6475a227b8</span><br><span class="line">author Nina Zakharenko &lt;nina@nnja.io&gt; 1507168872 -0700</span><br><span class="line">committer Nina Zakharenko &lt;nina@nnja.io&gt; 1507168872 -0700</span><br><span class="line"></span><br><span class="line">Testing the emergency git-casting system</span><br></pre></td></tr></table></figure>
<ul>
<li>Create a lightweight tag and confirm that it’s pointing at the right commit.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git tag my-exercise3-tag</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git show-ref --tags</span><br><span class="line"></span><br><span class="line">e348ebc1187cb3b4066b1e9432a614b464bf9d07 refs/tags/my-exercise3-tag</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git tag --points-at e348ebc</span><br><span class="line"></span><br><span class="line">my-exercise3-tag</span><br></pre></td></tr></table></figure>
<ul>
<li>Create an annotated tag, and use <code>git show</code> to see more information about it.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">git tag -a <span class="string">"exercise3-annotated-tag"</span> -m <span class="string">"This is my annotated tag for exercise 3"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git show exercise3-annotated-tag</span><br><span class="line"></span><br><span class="line">tag exercise3-annotated-tag</span><br><span class="line">Tagger: liuyong &lt;564447023@qq.com&gt;</span><br><span class="line">Date:   Wed Jul 17 21:49:21 2019 +0800</span><br><span class="line"></span><br><span class="line">This is my annotated tag <span class="keyword">for</span> exercise 3</span><br><span class="line"></span><br><span class="line">commit e348ebc1187cb3b4066b1e9432a614b464bf9d07 (HEAD -&gt; exercise3, tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3)</span><br><span class="line">Author: Nina Zakharenko &lt;nina@nnja.io&gt;</span><br><span class="line">Date:   Wed Oct 4 19:01:12 2017 -0700</span><br><span class="line"></span><br><span class="line">    Testing the emergency git-casting system</span><br><span class="line"></span><br><span class="line">diff --git a/hello.txt b/hello.txt</span><br><span class="line">index 980a0d5..b31a35b 100644</span><br><span class="line">--- a/hello.txt</span><br><span class="line">+++ b/hello.txt</span><br><span class="line">@@ -1 +1,2 @@</span><br><span class="line"> Hello World!</span><br><span class="line">+This is a <span class="built_in">test</span> of the emergency git-casting system.</span><br></pre></td></tr></table></figure>
<ul>
<li>Get into a “detached HEAD” state by checking out a specific commit, then confirm that your HEAD is pointing at this commit rather than at a branch.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line"></span><br><span class="line">e348ebc (HEAD -&gt; exercise3, tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3) Testing the emergency git-casting system</span><br><span class="line">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2) Initial commit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git checkout e348ebc</span><br><span class="line"></span><br><span class="line">Note: checking out <span class="string">'e348ebc'</span>.</span><br><span class="line"></span><br><span class="line">You are <span class="keyword">in</span> <span class="string">'detached HEAD'</span> state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make <span class="keyword">in</span> this</span><br><span class="line">state without impacting any branches by performing another checkout.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line"><span class="keyword">do</span> so (now or later) by using -b with the checkout <span class="built_in">command</span> again. Example:</span><br><span class="line"></span><br><span class="line">  git checkout -b &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">HEAD is now at e348ebc Testing the emergency git-casting system</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat .git/HEAD</span><br><span class="line"></span><br><span class="line">e348ebc1187cb3b4066b1e9432a614b464bf9d07</span><br></pre></td></tr></table></figure>
<ul>
<li>Make a new commit, then switch branches to confirm that you’re leaving a commit behind.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"This is a test file"</span> &gt; dangle.txt</span><br><span class="line"></span><br><span class="line">git add dangle.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"This is a dangling commit"</span></span><br><span class="line"></span><br><span class="line">[detached HEAD 68185fb] This is a dangling commit</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 dangle.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line"></span><br><span class="line">68185fb (HEAD) This is a dangling commit</span><br><span class="line">e348ebc (tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3, exercise3) Testing the emergency git-casting system</span><br><span class="line">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2) Initial commit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat .git/HEAD</span><br><span class="line"></span><br><span class="line">68185fb235972ea0024d43ba68cf43018d5608b0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git checkout exercise3</span><br><span class="line"></span><br><span class="line">Warning: you are leaving 1 commit behind, not connected to</span><br><span class="line">any of your branches:</span><br><span class="line"></span><br><span class="line">  68185fb This is a dangling commit</span><br><span class="line"></span><br><span class="line">If you want to keep it by creating a new branch, this may be a good time</span><br><span class="line">to <span class="keyword">do</span> so with:</span><br><span class="line"></span><br><span class="line"> git branch &lt;new-branch-name&gt; 68185fb</span><br><span class="line"></span><br><span class="line">Switched to branch <span class="string">'exercise3'</span></span><br><span class="line">Your branch is up to date with <span class="string">'origin/exercise3'</span>.</span><br></pre></td></tr></table></figure>
<h2 id="Merging-amp-Rebasing"><a href="#Merging-amp-Rebasing" class="headerlink" title="Merging &amp; Rebasing"></a>Merging &amp; Rebasing</h2><h3 id="Merging-amp-Fast-Forward"><a href="#Merging-amp-Fast-Forward" class="headerlink" title="Merging &amp; Fast Forward"></a>Merging &amp; Fast Forward</h3><h4 id="UNDER-THE-HOOD-MERGE-COMMITS-ARE-JUST-COMMITS"><a href="#UNDER-THE-HOOD-MERGE-COMMITS-ARE-JUST-COMMITS" class="headerlink" title="UNDER THE HOOD - MERGE COMMITS ARE JUST COMMITS"></a>UNDER THE HOOD - MERGE COMMITS ARE JUST COMMITS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">❯ git cat-file -p 649efc8c9</span><br><span class="line">tree 8c90eb0e4af7e0b05f736c933dc55e14e45031f2</span><br><span class="line">parent 14176d1d63b6a85308fd61a9a20c8aeed398043b</span><br><span class="line">parent 1ea4e219580910921dce70e96e5da96f12f5066b</span><br><span class="line">author Kenneth Reitz &lt;me@kennethreitz.org&gt; 1499378257 -0400</span><br><span class="line">committer Kenneth Reitz &lt;me@kennethreitz.org&gt; 1499378257 -0400</span><br><span class="line">Merge branch <span class="string">'master'</span> of github.com:kennethreitz/requests</span><br></pre></td></tr></table></figure>
<h4 id="FAST-FORWARD"><a href="#FAST-FORWARD" class="headerlink" title="FAST FORWARD"></a>FAST FORWARD</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">❯ git merge feature Updating 2733233..9703930</span><br><span class="line">Fast-forward</span><br><span class="line"> index.txt | 2 +-</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<p>Fast-forward happens when there are no commits on the base branch that occurred after the feature branch was created.</p>
<h4 id="GIT-MERGE-–NO-FF-NO-FAST-FORWARD"><a href="#GIT-MERGE-–NO-FF-NO-FAST-FORWARD" class="headerlink" title="GIT MERGE –NO-FF (NO FAST FORWARD)"></a>GIT MERGE –NO-FF (NO FAST FORWARD)</h4><ul>
<li>To retain the history of a merge commit, even if there are no changes to the base branch:<ul>
<li>use <code>git merge --no-ff</code></li>
</ul>
</li>
<li>This will <em>force</em> a merge commit, even when one isn’t necessary.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line">git merge new_feature --no-ff</span><br></pre></td></tr></table></figure>
<h3 id="Merge-Conflicts"><a href="#Merge-Conflicts" class="headerlink" title="Merge Conflicts"></a>Merge Conflicts</h3><ul>
<li>Attempt to merge, but files have diverged.</li>
<li>Git stops until the conflicts are resolved.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git merge feature</span><br><span class="line"></span><br><span class="line">Auto-merging feature</span><br><span class="line">CONFLICT (add/add): Merge conflict <span class="keyword">in</span> feature</span><br></pre></td></tr></table></figure>
<h4 id="GIT-RERERE-REUSE-RECORDED-RESOLUTION"><a href="#GIT-RERERE-REUSE-RECORDED-RESOLUTION" class="headerlink" title="GIT RERERE - REUSE RECORDED RESOLUTION"></a>GIT RERERE - REUSE RECORDED RESOLUTION</h4><ul>
<li>git saves how you resolved a conflict</li>
<li><p>next conflict: reuse the same resolution</p>
</li>
<li><p>useful for:</p>
<ul>
<li>long lived feature branch (like a refactor)</li>
<li>rebasing</li>
</ul>
</li>
<li><p>Turn it on:</p>
<ul>
<li><code>git config rerere.enabled true</code></li>
<li>use –global flag to enable for all projects</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">❯ git config rerere.enabled <span class="literal">true</span></span><br><span class="line">❯ git checkout master</span><br><span class="line">❯ git merge feature</span><br><span class="line">Auto-merging feature</span><br><span class="line">CONFLICT (add/add): Merge conflict <span class="keyword">in</span> file</span><br><span class="line">Recorded preimage <span class="keyword">for</span> <span class="string">'file'</span></span><br><span class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</span><br><span class="line"><span class="comment">### Fix the merge conflict in file.</span></span><br><span class="line">❯ git add file</span><br><span class="line">❯ git commit -m <span class="string">"Resolve conflict"</span></span><br><span class="line">Recorded resolution <span class="keyword">for</span> <span class="string">'feature'</span>.</span><br><span class="line">[master 0fe266d] Resolve conflict</span><br></pre></td></tr></table></figure>
<blockquote>
<p>When I commit the conflict resolution, it’s <strong>recorded</strong>.</p>
</blockquote>
<ul>
<li>Now: Feature wasn’t ready, I undid the merge.</li>
<li>When I try to merge again:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">❯ git merge feature</span><br><span class="line">Auto-merging feature</span><br><span class="line">CONFLICT (add/add): Merge conflict <span class="keyword">in</span> feature</span><br><span class="line">Resolved <span class="string">'feature'</span> using previous resolution.</span><br><span class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</span><br><span class="line"></span><br><span class="line">❯ git add file</span><br><span class="line"></span><br><span class="line">❯ git diff --staged</span><br><span class="line">diff --git a/file b/file</span><br><span class="line">index 587be6b..a354eda 100644</span><br><span class="line">--- a/file</span><br><span class="line">+++ b/file</span><br><span class="line">@@ -1 +1 @@</span><br><span class="line">-The old change</span><br><span class="line">+This is how I resolved my conflict.</span><br><span class="line">\ No newline at end of file</span><br></pre></td></tr></table></figure>
<blockquote>
<p>The resolution is <strong>automatically reapplied</strong>.</p>
</blockquote>
<h3 id="Exercise-Merging-amp-ReReRe"><a href="#Exercise-Merging-amp-ReReRe" class="headerlink" title="Exercise: Merging &amp; ReReRe"></a>Exercise: Merging &amp; ReReRe</h3><p><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise4-MergingAndReReRe.md" target="_blank" rel="noopener">Exercise Link</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout exercise4</span><br><span class="line"></span><br><span class="line">Branch <span class="string">'exercise4'</span> <span class="built_in">set</span> up to track remote branch <span class="string">'exercise4'</span> from <span class="string">'origin'</span>.</span><br><span class="line">Switched to a new branch <span class="string">'exercise4'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Merge the exercise3 branch into exercise4, and look at the git log.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git merge exercise3</span><br><span class="line"></span><br><span class="line">Updating 43388fe..e348ebc</span><br><span class="line">Fast-forward</span><br><span class="line">hello.txt | 1 +</span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line"></span><br><span class="line">e348ebc (HEAD -&gt; exercise4, tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3, exercise3) Testing the emergency git-casting system</span><br><span class="line">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2) Initial commit</span><br></pre></td></tr></table></figure>
<ul>
<li>Use git reset –hard to reset your exercise4 branch back one commit, then use the –no-ff option to git merge to merge exercise3 again. Look at the git log, how is it different from the last step?</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line"></span><br><span class="line">HEAD is now at 43388fe Initial commit</span><br><span class="line"></span><br><span class="line">git merge --no-ff exercise3</span><br><span class="line"></span><br><span class="line">Merge made by the <span class="string">'recursive'</span> strategy.</span><br><span class="line"> hello.txt | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --graph</span><br><span class="line"></span><br><span class="line">*   commit fff6b444c433d7f5f903da489e5f80e0dc6f17d0 (HEAD -&gt; exercise4)</span><br><span class="line">|\  Merge: 43388fe e348ebc</span><br><span class="line">| | Author: liuyong &lt;564447023@qq.com&gt;</span><br><span class="line">| | Date:   Thu Jul 18 10:54:00 2019 +0800</span><br><span class="line">| |</span><br><span class="line">| |     Merge branch <span class="string">'exercise3'</span> into exercise4</span><br><span class="line">| |</span><br><span class="line">| * commit e348ebc1187cb3b4066b1e9432a614b464bf9d07 (tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3, exercise3)</span><br><span class="line">|/  Author: Nina Zakharenko &lt;nina@nnja.io&gt;</span><br><span class="line">|   Date:   Wed Oct 4 19:01:12 2017 -0700</span><br><span class="line">|</span><br><span class="line">|       Testing the emergency git-casting system</span><br><span class="line">|</span><br><span class="line">* commit 43388fee19744e8893467331d7853a6475a227b8 (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2)</span><br><span class="line">  Author: Nina Zakharenko &lt;nina@nnja.io&gt;</span><br><span class="line">  Date:   Wed Oct 4 18:51:49 2017 -0700</span><br><span class="line">  </span><br><span class="line">      Initial commit</span><br><span class="line">(END)</span><br></pre></td></tr></table></figure>
<ul>
<li>Make two conflicting changes to hello.txt in two different branches.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br><span class="line"></span><br><span class="line">  exercise2</span><br><span class="line">  exercise3</span><br><span class="line">* exercise4</span><br><span class="line">  master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git checkout -b mundo</span><br><span class="line"></span><br><span class="line">Switched to a new branch <span class="string">'mundo'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line">  exercise2</span><br><span class="line">  exercise3</span><br><span class="line">  exercise4</span><br><span class="line">  master</span><br><span class="line">* mundo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line">On branch mundo</span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git add hello.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Changing World to Mundo"</span></span><br><span class="line">On branch mundo</span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git checkout exercise4</span><br><span class="line"></span><br><span class="line">vi hello.txt <span class="comment"># Edit hello.txt to say "Hola World!"</span></span><br><span class="line"></span><br><span class="line">git add hello.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"changing Hello to Hola"</span></span><br><span class="line">[exercise4 4955141] changing Hello to Hola</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br></pre></td></tr></table></figure>
<ul>
<li>Enable ReReRe, then merge one branch into the other.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">git config rerere.enabled <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">git merge mundo</span><br><span class="line">Auto-merging hello.txt</span><br><span class="line">CONFLICT (content): Merge conflict <span class="keyword">in</span> hello.txt</span><br><span class="line">Recorded preimage <span class="keyword">for</span> <span class="string">'hello.txt'</span></span><br><span class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</span><br><span class="line"></span><br><span class="line">git rerere diff</span><br><span class="line">--- a/hello.txt</span><br><span class="line">+++ b/hello.txt</span><br><span class="line">@@ -1,6 +1,6 @@</span><br><span class="line">-&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><br><span class="line">-Hello Mundo!</span><br><span class="line">-=======</span><br><span class="line">+&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</span><br><span class="line"> Hola World!</span><br><span class="line">-&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><br><span class="line">+=======</span><br><span class="line">+Hello Mundo!</span><br><span class="line">+&gt;&gt;&gt;&gt;&gt;&gt;&gt; mundo</span><br><span class="line"> This is a <span class="built_in">test</span> of the emergency git-casting system.</span><br><span class="line"></span><br><span class="line">git add hello.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Merging in mundo branch"</span></span><br><span class="line">[exercise4 ff91b70] Merging <span class="keyword">in</span> mundo branch</span><br></pre></td></tr></table></figure>
<ul>
<li>Backup again with git reset –hard, then attempt the merge again. Notice how ReReRe automatically resolves the conflict for you.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">HEAD is now at fff6b44 Merge branch <span class="string">'exercise3'</span> into exercise4</span><br><span class="line"></span><br><span class="line">git merge mundo</span><br><span class="line">Auto-merging hello.txt</span><br><span class="line">CONFLICT (content): Merge conflict <span class="keyword">in</span> hello.txt</span><br><span class="line">Resolved <span class="string">'hello.txt'</span> using previous resolution.</span><br><span class="line">Automatic merge failed; fix conflicts and <span class="keyword">then</span> commit the result.</span><br><span class="line"></span><br><span class="line">cat hello.txt</span><br><span class="line">Hola Mundo!</span><br><span class="line">This is a <span class="built_in">test</span> of the emergency git-casting system.</span><br></pre></td></tr></table></figure>
<h2 id="History-amp-Diffs"><a href="#History-amp-Diffs" class="headerlink" title="History &amp; Diffs"></a>History &amp; Diffs</h2><h3 id="Useful-Commit-Message"><a href="#Useful-Commit-Message" class="headerlink" title="Useful Commit Message"></a>Useful Commit Message</h3><h4 id="BAD-COMMIT-MESSAGES"><a href="#BAD-COMMIT-MESSAGES" class="headerlink" title="BAD COMMIT MESSAGES"></a>BAD COMMIT MESSAGES</h4><p><img src="https://imgs.xkcd.com/comics/git_commit.png" alt="bad commits"></p>
<h4 id="GOOD-COMMITS-ARE-IMPORTANT"><a href="#GOOD-COMMITS-ARE-IMPORTANT" class="headerlink" title="GOOD COMMITS ARE IMPORTANT"></a>GOOD COMMITS ARE IMPORTANT</h4><ul>
<li>Good commits help preserve the history of a code base.</li>
<li>They help with:<ul>
<li>debugging &amp; troubleshooting creating release notes</li>
<li>code reviews</li>
<li>rolling back</li>
<li>associating the code with an issue or ticket</li>
</ul>
</li>
</ul>
<blockquote>
<p>Commit message is in future tense. ‘Fix’ vs ‘Fixed’<br>Short subject, followed by a blank line.</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git-rebase: don<span class="string">'t ignore unexpected command line arguments</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Currently, git-rebase will silently ignore any unexpected command-line</span></span><br><span class="line"><span class="string">switches and arguments (the command-line produced by git rev-parse).</span></span><br><span class="line"><span class="string">This allowed the rev-parse bug, fixed in the preceding commits, to go</span></span><br><span class="line"><span class="string">unnoticed.  Let'</span>s make sure that doesn<span class="string">'t happen again.  We shouldn'</span>t be</span><br><span class="line">ignoring unexpected arguments.  Let<span class="string">'s not.</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>A description of the current behavior, a short summary of why the fix is needed. Mention side effects.<br>The description is broken into 72 char lines.</p>
</blockquote>
<h4 id="ANATOMY-OF-A-GOOD-COMMIT"><a href="#ANATOMY-OF-A-GOOD-COMMIT" class="headerlink" title="ANATOMY OF A GOOD COMMIT"></a>ANATOMY OF A GOOD COMMIT</h4><ul>
<li>Good commit message</li>
<li>Encapsulates one logical idea</li>
<li>Doesn’t introduce breaking changes<ul>
<li>i.e. tests pass</li>
</ul>
</li>
</ul>
<h3 id="Git-Log"><a href="#Git-Log" class="headerlink" title="Git Log"></a>Git Log</h3><ul>
<li><code>git log</code> - the basic command that shows you the history of your repository</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">❯ git <span class="built_in">log</span></span><br><span class="line">commit 25b3810089709394636412adf3d887cb55cb47eb (HEAD -&gt; <span class="built_in">test</span>)</span><br><span class="line">Author: Nina Zakharenko &lt;nina@nnja.io&gt;</span><br><span class="line">Date: Wed Sep 27 22:46:38 2017 -0700</span><br><span class="line"></span><br><span class="line">    Add a README file to the project</span><br><span class="line"></span><br><span class="line">commit cd0b57c21487871b6353a58366414b72f2e4ee22 (tag: v1.0, tag: my-first-commit)</span><br><span class="line">Author: Nina Zakharenko &lt;nina@nnja.io&gt;</span><br><span class="line">Date:   Sun Sep 24 14:44:28 2017 -0700</span><br><span class="line"></span><br><span class="line">    Initial commit</span><br></pre></td></tr></table></figure>
<h4 id="GIT-LOG-–SINCE"><a href="#GIT-LOG-–SINCE" class="headerlink" title="GIT LOG –SINCE"></a>GIT LOG –SINCE</h4><ul>
<li>The site is slow. What changed since yesterday?<ul>
<li><code>git log --since=&quot;yesterday&quot;</code></li>
<li><code>git log --since=&quot;2 weeks ago&quot;</code></li>
</ul>
</li>
</ul>
<h4 id="GIT-LOG-–FOLLOW"><a href="#GIT-LOG-–FOLLOW" class="headerlink" title="GIT LOG –FOLLOW"></a>GIT LOG –FOLLOW</h4><ul>
<li>Log files that have been moved or renamed<ul>
<li><code>git log --name-status --follow -- &lt;file&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="GIT-LOG-–GREP"><a href="#GIT-LOG-–GREP" class="headerlink" title="GIT LOG –GREP"></a>GIT LOG –GREP</h4><ul>
<li>Search for commit messages that match a regular expression:<ul>
<li><code>git log —grep &lt;regexp&gt;</code></li>
<li>Can be mixed &amp; matched with other git flags.</li>
</ul>
</li>
<li>Example:<ul>
<li><code>git log --grep=mail --author=nina --since=2.weeks</code></li>
</ul>
</li>
</ul>
<h4 id="GIT-LOG-DIFF-FILTER"><a href="#GIT-LOG-DIFF-FILTER" class="headerlink" title="GIT LOG DIFF-FILTER"></a>GIT LOG DIFF-FILTER</h4><ul>
<li>Selectively include or exclude files that have been:</li>
<li>(A)dded, (D)eleted, (M)odified &amp; more…</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; git <span class="built_in">log</span> --diff-filter=R --<span class="built_in">stat</span></span><br><span class="line">5e1ced3 make session serializer extensible support serializing 1-item dicts</span><br><span class="line">with tag as key refactor serializer into flask.json.tag module continues</span><br><span class="line"><span class="comment">#1452, closes #1438, closes #1908</span></span><br><span class="line"> flask/&#123;json.py =&gt; json/__init__.py&#125; | 13 ++-----------</span><br><span class="line"> 1 file changed, 2 insertions(+), 11 deletions(-)</span><br><span class="line">8cf32bc Adds <span class="keyword">in</span> blueprints and an application factory</span><br><span class="line"> examples/flaskr/flaskr/&#123; =&gt; blueprints&#125;/flaskr.py | 55 ++++++++++++++</span><br><span class="line">+----------------------------------------</span><br><span class="line"> 1 file changed, 15 insertions(+), 40 deletions(-)</span><br><span class="line">92fa444 Moves largerapp into patterns dir and add <span class="built_in">test</span></span><br><span class="line"> examples/&#123; =&gt; patterns&#125;/largerapp/setup.py</span><br><span class="line"> examples/&#123; =&gt; patterns&#125;/largerapp/yourapplication/__init__.py</span><br><span class="line"> examples/&#123; =&gt; patterns&#125;/largerapp/yourapplication/static/style.css</span><br><span class="line"> examples/&#123; =&gt; patterns&#125;/largerapp/yourapplication/templates/index.html  | 0</span><br></pre></td></tr></table></figure>
<h4 id="GIT-LOG-REFERENCING-COMMITS"><a href="#GIT-LOG-REFERENCING-COMMITS" class="headerlink" title="GIT LOG: REFERENCING COMMITS"></a>GIT LOG: REFERENCING COMMITS</h4><ul>
<li><code>^</code> or <code>^n</code><ul>
<li>no args: ==^1: the first parent commit</li>
<li>n: the nth parent commit</li>
</ul>
</li>
<li><code>~</code> or <code>~n</code><ul>
<li>no args: == ~1: the first commit back, following 1st parent</li>
<li>n: number of commits back, following only 1st parent</li>
</ul>
</li>
</ul>
<blockquote>
<p>note: <code>^</code> and <code>~</code> can be combined</p>
</blockquote>
<h4 id="REFERENCING-COMMITS"><a href="#REFERENCING-COMMITS" class="headerlink" title="REFERENCING COMMITS"></a>REFERENCING COMMITS</h4><ul>
<li>Both commit nodes B and C are parents of commit node A.<br>Parent commits are ordered left-to-right.</li>
<li>A is the latest commit.</li>
</ul>
<h3 id="Git-Show-amp-Diffs"><a href="#Git-Show-amp-Diffs" class="headerlink" title="Git Show &amp; Diffs"></a>Git Show &amp; Diffs</h3><h4 id="GIT-SHOW-LOOK-AT-A-COMMIT"><a href="#GIT-SHOW-LOOK-AT-A-COMMIT" class="headerlink" title="GIT SHOW: LOOK AT A COMMIT"></a>GIT SHOW: LOOK AT A COMMIT</h4><ul>
<li>show commit and contents:<ul>
<li><code>git show &lt;commit&gt;</code></li>
</ul>
</li>
<li>show files changed in commit:<ul>
<li><code>git show &lt;commit&gt; --stat</code></li>
</ul>
</li>
<li>look at a file from another commit:<ul>
<li><code>git show &lt;commit&gt;:&lt;file&gt;</code></li>
</ul>
</li>
</ul>
<h4 id="DIFF"><a href="#DIFF" class="headerlink" title="DIFF"></a>DIFF</h4><ul>
<li><p>Diff shows you changes:</p>
<ul>
<li>between commits</li>
<li>between the staging area and the repository</li>
<li>what’s in the working area</li>
</ul>
</li>
<li><p>unstaged changes</p>
<ul>
<li><code>git diff</code></li>
</ul>
</li>
<li>staged changes<ul>
<li><code>git diff --staged</code></li>
</ul>
</li>
</ul>
<h4 id="“DIFF”-BRANCHES"><a href="#“DIFF”-BRANCHES" class="headerlink" title="“DIFF” BRANCHES"></a>“DIFF” BRANCHES</h4><ul>
<li><p>Which branches are merged with master, and can be cleaned up?</p>
<ul>
<li><code>git branch --merged master</code></li>
</ul>
</li>
<li><p>Which branches aren’t merged with master yet?</p>
<ul>
<li><code>git branch --no-merged master</code></li>
</ul>
</li>
</ul>
<h3 id="Exercise-History-amp-Diffs"><a href="#Exercise-History-amp-Diffs" class="headerlink" title="Exercise: History &amp; Diffs"></a>Exercise: History &amp; Diffs</h3><p><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise5-HistoryAndDiffs.md" target="_blank" rel="noopener">Exercise Link</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout exercise5</span><br><span class="line">Branch <span class="string">'exercise5'</span> <span class="built_in">set</span> up to track remote branch <span class="string">'exercise5'</span> from <span class="string">'origin'</span>.</span><br><span class="line">Switched to a new branch <span class="string">'exercise5'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Practice creating a well-crafted commit - look at the format given on the slides for help.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">vi hello.txt <span class="comment"># Change your `hello.txt` to say [greeting] [noun]!</span></span><br><span class="line"></span><br><span class="line">cat hello.txt</span><br><span class="line">[greeting] [noun]!</span><br><span class="line">This is a <span class="built_in">test</span> of the emergency git-casting system.</span><br><span class="line"></span><br><span class="line">git mv hello.txt hello.template <span class="comment"># Rename hello.txt to hello.template</span></span><br><span class="line"></span><br><span class="line">git add hello.template</span><br><span class="line"></span><br><span class="line">git commit</span><br><span class="line"><span class="comment"># This will open your text editor</span></span><br><span class="line"><span class="comment"># Type the following...</span></span><br><span class="line">Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line"></span><br><span class="line">Currently, hello.txt contains both Spanish and English.</span><br><span class="line">Let<span class="string">'s replace Hola with a [greeting] token, and Mundo</span></span><br><span class="line"><span class="string">with a [noun] token. That way, we can localize hello.txt for</span></span><br><span class="line"><span class="string">any language!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># Save and exit your editor</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[exercise5 4b2b90e] Replacing greeting with tokens for i18n</span></span><br><span class="line"><span class="string"> 1 file changed, 1 insertion(+), 1 deletion(-)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Use <code>git log</code> to find commits created since yesterday. Rename a file and use the <code>--name-status</code> and <code>--follow</code> options to <code>git log</code> to track down when the file was renamed, and what it used to be called. Use <code>--grep</code> to search within commit messages, and –diff-filter to find renamed and modified files from <code>git log</code>.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --since=<span class="string">"yesterday"</span></span><br><span class="line">commit 145d1acd6490c80b3549f4cb2ec0f95ec5ffec5c (HEAD -&gt; exercise5)</span><br><span class="line">Author: liuyong &lt;564447023@qq.com&gt;</span><br><span class="line">Date:   Thu Jul 18 14:32:41 2019 +0800</span><br><span class="line"></span><br><span class="line">    Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line"></span><br><span class="line">    Currently, hello.txt contains both Spanish and English.</span><br><span class="line">    Let\<span class="string">'s replace Hola with a [greeting] token, and Mundo</span></span><br><span class="line"><span class="string">    with a [noun] token. That way, we can localize hello.txt for</span></span><br><span class="line"><span class="string">    any language!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">commit 268a5e7a09a42973a84d93162c9022ccda45ad02</span></span><br><span class="line"><span class="string">Author: liuyong &lt;564447023@qq.com&gt;</span></span><br><span class="line"><span class="string">Date:   Thu Jul 18 14:28:00 2019 +0800</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    rename file</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">git log --name-status --follow --oneline hello.template</span></span><br><span class="line"><span class="string">145d1ac (HEAD -&gt; exercise5) Replacing greeting with tokens for i18n</span></span><br><span class="line"><span class="string">M       hello.template</span></span><br><span class="line"><span class="string">268a5e7 rename file</span></span><br><span class="line"><span class="string">R073    hello.txt       hello.template</span></span><br><span class="line"><span class="string">fec9e7b Changing Hello to Hola</span></span><br><span class="line"><span class="string">M       hello.txt</span></span><br><span class="line"><span class="string">afa34a6 Changing World to Mundo</span></span><br><span class="line"><span class="string">M       hello.txt</span></span><br><span class="line"><span class="string">e348ebc (tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3, exercise3) Testing the emergency git-casting system</span></span><br><span class="line"><span class="string">M       hello.txt</span></span><br><span class="line"><span class="string">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2) Initial commit</span></span><br><span class="line"><span class="string">A       hello.txt</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">git log --diff-filter=R --find-renames</span></span><br><span class="line"><span class="string">commit 268a5e7a09a42973a84d93162c9022ccda45ad02</span></span><br><span class="line"><span class="string">Author: liuyong &lt;564447023@qq.com&gt;</span></span><br><span class="line"><span class="string">Date:   Thu Jul 18 14:28:00 2019 +0800</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    rename file</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">git log --diff-filter=M --oneline</span></span><br><span class="line"><span class="string">145d1ac (HEAD -&gt; exercise5) Replacing greeting with tokens for i18n</span></span><br><span class="line"><span class="string">fec9e7b Changing Hello to Hola</span></span><br><span class="line"><span class="string">afa34a6 Changing World to Mundo</span></span><br><span class="line"><span class="string">e348ebc (tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3, exercise3) Testing the emergency git-casting system</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Use <code>git show</code> to get more information about a specific git hash.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --grep=i18n --oneline</span><br><span class="line">145d1ac (HEAD -&gt; exercise5) Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line"></span><br><span class="line">git show 145d1ac</span><br><span class="line">commit 145d1acd6490c80b3549f4cb2ec0f95ec5ffec5c (HEAD -&gt; exercise5)</span><br><span class="line">Author: liuyong &lt;564447023@qq.com&gt;</span><br><span class="line">Date:   Thu Jul 18 14:32:41 2019 +0800</span><br><span class="line"></span><br><span class="line">    Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line"></span><br><span class="line">    Currently, hello.txt contains both Spanish and English.</span><br><span class="line">    Let\<span class="string">'s replace Hola with a [greeting] token, and Mundo</span></span><br><span class="line"><span class="string">    with a [noun] token. That way, we can localize hello.txt for</span></span><br><span class="line"><span class="string">    any language!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">diff --git a/hello.template b/hello.template</span></span><br><span class="line"><span class="string">index a6c57ac..03686d4 100644</span></span><br><span class="line"><span class="string">--- a/hello.template</span></span><br><span class="line"><span class="string">+++ b/hello.template</span></span><br><span class="line"><span class="string">@@ -1,2 +1,2 @@</span></span><br><span class="line"><span class="string"> [greeting] [noun]!</span></span><br><span class="line"><span class="string">-This is a test of the emergency git-casting system.</span></span><br><span class="line"><span class="string">+</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">git show 145d1ac --stat --oneline</span></span><br><span class="line"><span class="string">145d1ac (HEAD -&gt; exercise5) Replacing greeting with tokens for i18n</span></span><br><span class="line"><span class="string"> hello.template | 2 +-</span></span><br><span class="line"><span class="string"> 1 file changed, 1 insertion(+), 1 deletion(-)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Try the <code>--merged</code> and <code>--no-merged</code> options to git branch to see which branches have been merged into master (or not).</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git branch --merged master</span><br><span class="line">  exercise2</span><br><span class="line">  master</span><br><span class="line"></span><br><span class="line">git branch --no-merged master</span><br><span class="line">  exercise3</span><br><span class="line">  exercise4</span><br><span class="line">* exercise5</span><br><span class="line">  mundo</span><br></pre></td></tr></table></figure>
<h2 id="Fixing-Mistakes"><a href="#Fixing-Mistakes" class="headerlink" title="Fixing Mistakes"></a>Fixing Mistakes</h2><h3 id="Git-Checkout"><a href="#Git-Checkout" class="headerlink" title="Git Checkout"></a>Git Checkout</h3><p>Restore working tree files or switch branches</p>
<h4 id="WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-A-BRANCH"><a href="#WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-A-BRANCH" class="headerlink" title="WHAT HAPPENS WHEN YOU GIT CHECKOUT A BRANCH"></a>WHAT HAPPENS WHEN YOU GIT CHECKOUT A BRANCH</h4><ol>
<li>Change HEAD to point to the new branch</li>
<li>Copy the commit snapshot to the staging area</li>
<li>Update the working area with the branch contents</li>
</ol>
<h4 id="WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-FILE"><a href="#WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-FILE" class="headerlink" title="WHAT HAPPENS WHEN YOU GIT CHECKOUT - - FILE"></a>WHAT HAPPENS WHEN YOU GIT CHECKOUT - - FILE</h4><p>Replace the working area copy with the version from the current staging area</p>
<blockquote>
<p>Warning: This operation overwrites files in the working directory without warning!</p>
</blockquote>
<h4 id="GIT-CHECKOUT-OVERWRITE-FILES-WITH-STAGING-AREA-COPY"><a href="#GIT-CHECKOUT-OVERWRITE-FILES-WITH-STAGING-AREA-COPY" class="headerlink" title="GIT CHECKOUT: OVERWRITE FILES WITH STAGING AREA COPY"></a>GIT CHECKOUT: OVERWRITE FILES WITH STAGING AREA COPY</h4><ul>
<li>Overwrite the working area file with the staging area version from the last commit<ul>
<li><code>git checkout -- &lt;file_path&gt;</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>Warning: This operation overwrites files in the working directory without warning!<br><!-- markdownlint-disable md033 --></p>
</blockquote>
<h4 id="WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-FILE-1"><a href="#WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-FILE-1" class="headerlink" title="WHAT HAPPENS WHEN YOU GIT CHECKOUT  - - FILE"></a>WHAT HAPPENS WHEN YOU GIT CHECKOUT <commit> - - FILE</commit></h4><ol>
<li>Update the staging area to match the commit</li>
<li>Update the working area to match the staging area.</li>
</ol>
<blockquote>
<p>Warning: This operation overwrites files in the working directory without warning!</p>
</blockquote>
<h4 id="GIT-CHECKOUT-FROM-A-SPECIFIC-COMMIT"><a href="#GIT-CHECKOUT-FROM-A-SPECIFIC-COMMIT" class="headerlink" title="GIT CHECKOUT: FROM A SPECIFIC COMMIT"></a>GIT CHECKOUT: FROM A SPECIFIC COMMIT</h4><ul>
<li><p>Checkout a file from a specific commit</p>
<ul>
<li>copies to both working area &amp; staging area</li>
<li><code>git checkout &lt;commit&gt; -- &lt;file_path&gt;</code></li>
</ul>
</li>
<li><p>Restore a deleted file</p>
<ul>
<li><code>git checkout &lt;deleting_commit&gt;^ -- &lt;file_path&gt;</code></li>
</ul>
</li>
</ul>
<blockquote>
<p>Warning: This operation overwrites files in the working directory without warning!</p>
</blockquote>
<h3 id="Git-Clean-amp-Reset"><a href="#Git-Clean-amp-Reset" class="headerlink" title="Git Clean &amp; Reset"></a>Git Clean &amp; Reset</h3><h4 id="GIT-CLEAN"><a href="#GIT-CLEAN" class="headerlink" title="GIT CLEAN"></a>GIT CLEAN</h4><ul>
<li>Git clean will clear your working area by deleting untracked files.<blockquote>
<p>Warning: this operation cannot be undone!</p>
</blockquote>
</li>
<li>Use the <code>—dry-run</code> flag to see what would be deleted<ul>
<li>The <code>-f</code> flag to do the deletion</li>
<li>The <code>-d</code> flag will clean directories</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">❯ git clean --dry-run</span><br><span class="line">Would remove a-note.txt</span><br><span class="line"></span><br><span class="line">❯ git clean -d --dry-run</span><br><span class="line">Would remove a-note.txt</span><br><span class="line">Would remove scratch/</span><br><span class="line"></span><br><span class="line">❯ git clean -d -f</span><br><span class="line">Removing a-note.txt</span><br><span class="line">Removing scratch/</span><br><span class="line"></span><br><span class="line">❯ git status</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>
<h4 id="GIT-RESET"><a href="#GIT-RESET" class="headerlink" title="GIT RESET"></a>GIT RESET</h4><ul>
<li>Reset is another command that performs different actions depending on the arguments.<ul>
<li>with a path</li>
<li>without a path</li>
<li>By default, git performs a <code>git reset —mixed</code></li>
</ul>
</li>
<li>For commits:<ul>
<li>Moves the HEAD pointer, optionally modifies files</li>
</ul>
</li>
<li>For file paths:<ul>
<li>Does not move the HEAD pointer, modifies files</li>
</ul>
</li>
</ul>
<h4 id="RESET-–SOFT-MOVE-HEAD"><a href="#RESET-–SOFT-MOVE-HEAD" class="headerlink" title="RESET –SOFT: MOVE HEAD"></a>RESET –SOFT: MOVE HEAD</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">❯ git reset --soft HEAD~</span><br></pre></td></tr></table></figure>
<h4 id="RESET-–SOFT-RESULT"><a href="#RESET-–SOFT-RESULT" class="headerlink" title="RESET –SOFT: RESULT"></a>RESET –SOFT: RESULT</h4><h4 id="RESET-–MIXED-MOVE-HEAD-COPY-FILES-TO-STAGE"><a href="#RESET-–MIXED-MOVE-HEAD-COPY-FILES-TO-STAGE" class="headerlink" title="RESET –MIXED: MOVE HEAD, COPY FILES TO STAGE"></a>RESET –MIXED: MOVE HEAD, COPY FILES TO STAGE</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">❯ git reset HEAD~</span><br><span class="line">❯ git reset --mixed HEAD~</span><br></pre></td></tr></table></figure>
<h4 id="RESET-–MIXED-RESULT"><a href="#RESET-–MIXED-RESULT" class="headerlink" title="RESET –MIXED: RESULT"></a>RESET –MIXED: RESULT</h4><h4 id="RESET-–HARD-MOVE-HEAD-COPY-FILES-TO-STAGE-amp-WORKING"><a href="#RESET-–HARD-MOVE-HEAD-COPY-FILES-TO-STAGE-amp-WORKING" class="headerlink" title="RESET –HARD: MOVE HEAD, COPY FILES TO STAGE &amp; WORKING"></a>RESET –HARD: MOVE HEAD, COPY FILES TO STAGE &amp; WORKING</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">❯ git reset --hard HEAD~</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Warning: this overwrites files and cannot be undone!</p>
</blockquote>
<h4 id="RESET-–HARD-RESULT"><a href="#RESET-–HARD-RESULT" class="headerlink" title="RESET –HARD: RESULT"></a>RESET –HARD: RESULT</h4><blockquote>
<p>Warning: this overwrites files and cannot be undone!</p>
</blockquote>
<h4 id="GIT-RESET-CHEAT-CHEAT"><a href="#GIT-RESET-CHEAT-CHEAT" class="headerlink" title="GIT RESET  CHEAT CHEAT"></a>GIT RESET <commit> CHEAT CHEAT</commit></h4><ol>
<li>Move HEAD and current branch</li>
<li>Reset the staging area</li>
<li>Reset the working area</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--soft = (1)</span><br><span class="line">--mixed =(1) &amp; (2) (default)</span><br><span class="line">--hard = (1) &amp; (2) &amp; (3)</span><br></pre></td></tr></table></figure>
<h4 id="DANGER-GIT-RESET-CAN-CHANGE-HISTORY"><a href="#DANGER-GIT-RESET-CAN-CHANGE-HISTORY" class="headerlink" title="DANGER: GIT RESET CAN CHANGE HISTORY"></a>DANGER: GIT RESET CAN CHANGE HISTORY</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">❯ git reset --soft HEAD~</span><br><span class="line">❯ git commit -m “new commit”</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Warning: never push changed history to a shared or public repository!</p>
</blockquote>
<h4 id="GIT-RESET-–"><a href="#GIT-RESET-–" class="headerlink" title="GIT RESET – "></a>GIT RESET – <file></file></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">❯ git reset &lt;file&gt;</span><br></pre></td></tr></table></figure>
<h4 id="GIT-RESET-–-RESULT"><a href="#GIT-RESET-–-RESULT" class="headerlink" title="GIT RESET – : RESULT"></a>GIT RESET – <file>: RESULT</file></h4><h4 id="GIT-RESET-–-1"><a href="#GIT-RESET-–-1" class="headerlink" title="GIT RESET  – "></a>GIT RESET <commit> – <file></file></commit></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">❯ git reset &lt;commit&gt; -- &lt;file&gt;</span><br></pre></td></tr></table></figure>
<h4 id="GIT-RESET-–-RESULT-1"><a href="#GIT-RESET-–-RESULT-1" class="headerlink" title="GIT RESET  – : RESULT"></a>GIT RESET <commit> – <file>: RESULT</file></commit></h4><h4 id="GIT-RESET-–-CHEAT-CHEAT"><a href="#GIT-RESET-–-CHEAT-CHEAT" class="headerlink" title="GIT RESET  –  CHEAT CHEAT"></a>GIT RESET <commit> – <file> CHEAT CHEAT</file></commit></h4><ol>
<li><del>Move HEAD and current branch</del></li>
<li>Reset the staging area</li>
<li><del>Reset the working area</del></li>
</ol>
<p>This operation does not work with flags!</p>
<h4 id="UNDO-A-GIT-RESET-WITH-ORIG-HEAD"><a href="#UNDO-A-GIT-RESET-WITH-ORIG-HEAD" class="headerlink" title="UNDO A GIT RESET WITH ORIG_HEAD"></a>UNDO A GIT RESET WITH ORIG_HEAD</h4><ul>
<li>In case of an accidental <code>git reset -</code></li>
<li>Git keeps the previous value of HEAD in variable called <code>ORIG_HEAD</code></li>
<li>To go back to the way things were:<ul>
<li><code>git reset ORIG_HEAD</code></li>
</ul>
</li>
</ul>
<h3 id="Git-Revert"><a href="#Git-Revert" class="headerlink" title="Git Revert"></a>Git Revert</h3><h4 id="GIT-REVERT-THE-“SAFE”-RESET"><a href="#GIT-REVERT-THE-“SAFE”-RESET" class="headerlink" title="GIT REVERT - THE “SAFE” RESET"></a>GIT REVERT - THE “SAFE” RESET</h4><ul>
<li>Git revert creates a new commit that introduces the opposite changes from the specified commit.</li>
<li><p>The original commit stays in the repository.</p>
</li>
<li><p>Tip:</p>
<ul>
<li>Use revert if you’re undoing a commit that has already been shared.</li>
<li>Revert does not change history.</li>
</ul>
</li>
</ul>
<h4 id="GIT-REVERT-PICK-A-COMMIT-TO-UNDO"><a href="#GIT-REVERT-PICK-A-COMMIT-TO-UNDO" class="headerlink" title="GIT REVERT - PICK A COMMIT TO UNDO"></a>GIT REVERT - PICK A COMMIT TO UNDO</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">2b0b3f2 (HEAD -&gt; tech_posts) New blog post about python</span><br><span class="line">cd0b57c (tag: v1.0, tag: my-first-commit, master) Initial commit</span><br><span class="line"></span><br><span class="line">❯ git show 2b0b3f2</span><br><span class="line">commit 2b0b3f24f3d7e8df809e46eb10c11ba66139acb8 (HEAD -&gt; tech_posts)</span><br><span class="line">Author: Nina Zakharenko &lt;nina@nnja.io&gt;</span><br><span class="line">Date: Sun Sep 24 14:55:35 2017 -0700</span><br><span class="line">    New blog post about python</span><br><span class="line">diff --git a/posts/python.txt b/posts/python.txt</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">❯ git revert 2b0b3f2</span><br><span class="line">[tech_posts a08a108] Revert <span class="string">"New blog post about python"</span></span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> delete mode 100644 posts/python.txt</span><br><span class="line"></span><br><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">a08a108 (HEAD -&gt; tech_posts) Revert <span class="string">"New blog post about python"</span></span><br><span class="line">2b0b3f2 New blog post about python</span><br><span class="line">cd0b57c (tag: v1.0, tag: my-first-commit, master) Initial commit</span><br></pre></td></tr></table></figure>
<h4 id="SUMMARY-COMMON-WAYS-OF-UNDOING-CHANGES"><a href="#SUMMARY-COMMON-WAYS-OF-UNDOING-CHANGES" class="headerlink" title="SUMMARY: COMMON WAYS OF UNDOING CHANGES"></a>SUMMARY: COMMON WAYS OF UNDOING CHANGES</h4><ol>
<li>checkout</li>
<li>reset</li>
<li>revert</li>
</ol>
<h3 id="Exercise-Fixing-Git-Mistakes"><a href="#Exercise-Fixing-Git-Mistakes" class="headerlink" title="Exercise: Fixing Git Mistakes"></a>Exercise: Fixing Git Mistakes</h3><p><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise6-FixingMistakes.md" target="_blank" rel="noopener">Exercise Link</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout exercise6</span><br><span class="line">Branch <span class="string">'exercise6'</span> <span class="built_in">set</span> up to track remote branch <span class="string">'exercise6'</span> from <span class="string">'origin'</span>.</span><br><span class="line">Switched to a new branch <span class="string">'exercise6'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Make bad changes to a file, then use <code>git checkout</code> to fix it. Use <code>git checkout</code> to reset your file back to an earlier point in time.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"bad data"</span> &gt; hello.template</span><br><span class="line"></span><br><span class="line">cat hello.template</span><br><span class="line">bad data</span><br><span class="line"></span><br><span class="line">git checkout -- hello.template</span><br><span class="line"></span><br><span class="line">cat hello.template</span><br><span class="line">[greeting] [noun]!</span><br><span class="line">This is a <span class="built_in">test</span> of the emergency git-casting system.</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --name-status --follow --oneline hello.template <span class="comment"># Let's find the commit where hello.txt was renamed to hello.template</span></span><br><span class="line">4b2b90e (HEAD -&gt; exercise6, origin/exercise6) Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line">R073    hello.txt       hello.template</span><br><span class="line">fec9e7b Changing Hello to Hola</span><br><span class="line">M       hello.txt</span><br><span class="line">afa34a6 Changing World to Mundo</span><br><span class="line">M       hello.txt</span><br><span class="line">e348ebc (tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3, exercise3) Testing the emergency git-casting system</span><br><span class="line">M       hello.txt</span><br><span class="line">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2) Initial commit</span><br><span class="line">A       hello.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git checkout fec9e7b -- hello.txt <span class="comment"># Now let's checkout hello.txt from one commit before then</span></span><br><span class="line"></span><br><span class="line">cat hello.txt</span><br><span class="line">Hola World!</span><br><span class="line">This is a <span class="built_in">test</span> of the emergency git-casting system.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git reset HEAD hello.txt</span><br><span class="line"></span><br><span class="line">git rm hello.template</span><br><span class="line">rm <span class="string">'hello.template'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line">On branch exercise6</span><br><span class="line">Your branch is up to date with <span class="string">'origin/exercise6'</span>.</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">        deleted:    hello.template</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line"></span><br><span class="line">        hello.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Deleting hello.template"</span></span><br><span class="line">[exercise6 6aca1c7] Deleting hello.template</span><br><span class="line"> 1 file changed, 2 deletions(-)</span><br><span class="line"> delete mode 100644 hello.template</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --diff-filter=D --oneline -- hello.template</span><br><span class="line">6aca1c7 (HEAD -&gt; exercise6) Deleting hello.template</span><br><span class="line"><span class="comment"># Ah, it was deleted at 6aca1c7. Let's use the caret (^) syntax to checkout hello.template from one commit before that</span></span><br><span class="line"></span><br><span class="line">git checkout 6aca1c7^ -- hello.template</span><br><span class="line"></span><br><span class="line">cat hello.template</span><br><span class="line">[greeting] [noun]!</span><br><span class="line">This is a <span class="built_in">test</span> of the emergency git-casting system.</span><br></pre></td></tr></table></figure>
<ul>
<li>Use git clean to remove untracked files from your repo. Remember to use <code>--dry-run</code> first.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clean --dry-run</span><br><span class="line">Would remove hello.txt</span><br><span class="line"></span><br><span class="line">git clean -f</span><br><span class="line">Removing hello.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>Stage a change and then use <code>git reset</code> to unstage it. Use <code>git reset --hard</code> to reset your branch back pointer, staging area, and working area to an earlier commit. Use “mixed mode” to reset your branch back to an earlier commit, then use <code>ORIG_HEAD</code> to reset your branch back to where you were.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">On branch exercise6</span><br><span class="line">Your branch is ahead of <span class="string">'origin/exercise6'</span> by 1 commit.</span><br><span class="line">  (use <span class="string">"git push"</span> to publish your <span class="built_in">local</span> commits)</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   hello.template</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git reset -- hello.template</span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line">On branch exercise6</span><br><span class="line">Your branch is ahead of <span class="string">'origin/exercise6'</span> by 1 commit.</span><br><span class="line">  (use <span class="string">"git push"</span> to publish your <span class="built_in">local</span> commits)</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use <span class="string">"git add &lt;file&gt;..."</span> to include <span class="keyword">in</span> what will be committed)</span><br><span class="line"></span><br><span class="line">        hello.template</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use <span class="string">"git add"</span> to track)</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --oneline <span class="comment"># Let's find the commit before we deleted hello.template</span></span><br><span class="line">6aca1c7 (HEAD -&gt; exercise6) Deleting hello.template</span><br><span class="line">4b2b90e (origin/exercise6) Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line">ff91b70 (origin/exercise5) Merging <span class="keyword">in</span> mundo branch</span><br><span class="line">fec9e7b Changing Hello to Hola</span><br><span class="line">4582f72 Merge branch <span class="string">'exercise3'</span> into exercise4</span><br><span class="line">afa34a6 Changing World to Mundo</span><br><span class="line">7ea8b01 Merge branch <span class="string">'exercise3'</span> into exercise4</span><br><span class="line">e348ebc (tag: my-exercise3-tag, tag: exercise3-annotated-tag, origin/exercise3, exercise3) Testing the emergency git-casting system</span><br><span class="line">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2) Initial commit</span><br><span class="line"></span><br><span class="line">rm hello.template <span class="comment"># Let's remove the untracked copy of hello.template</span></span><br><span class="line"></span><br><span class="line">git reset 4b2b90e -- hello.template <span class="comment"># Reset hello.template back to 4b2b90e</span></span><br><span class="line"><span class="comment"># This will update the staging area with 'hello.template' from that commit.</span></span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">D       hello.template</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git status</span><br><span class="line">On branch exercise6</span><br><span class="line">Your branch is ahead of <span class="string">'origin/exercise6'</span> by 1 commit.</span><br><span class="line">  (use <span class="string">"git push"</span> to publish your <span class="built_in">local</span> commits)</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use <span class="string">"git reset HEAD &lt;file&gt;..."</span> to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   hello.template</span><br><span class="line"></span><br><span class="line">Changes not staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">"git add/rm &lt;file&gt;..."</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">"git checkout -- &lt;file&gt;..."</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line"></span><br><span class="line">        deleted:    hello.template</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat hello.template</span><br><span class="line">cat: hello.template: No such file or directory</span><br><span class="line"><span class="comment"># At this point, we could commit the file back into our repository if we wanted to.</span></span><br><span class="line"></span><br><span class="line">git reset --hard HEAD</span><br><span class="line">HEAD is now at 6aca1c7 Deleting hello.template</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> -2 --oneline</span><br><span class="line">6aca1c7 (HEAD -&gt; exercise6) Deleting hello.template</span><br><span class="line">4b2b90e (origin/exercise6) Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line"></span><br><span class="line"><span class="comment"># Reset our repo back to 4b2b90e</span></span><br><span class="line">git reset 4b2b90e</span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">D       hello.template</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> -1 --oneline</span><br><span class="line">4b2b90e (HEAD -&gt; exercise6, origin/exercise6) Replacing greeting with tokens <span class="keyword">for</span> i18n</span><br><span class="line"></span><br><span class="line">git reset ORIG_HEAD</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> -1 --oneline</span><br><span class="line">6aca1c7 (HEAD -&gt; exercise6) Deleting hello.template</span><br></pre></td></tr></table></figure>
<ul>
<li>Practice using <code>git revert</code> to safely revert a commit with a new commit.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Let's revert the last commit.</span></span><br><span class="line">git revert 6aca1c7</span><br><span class="line">[exercise6 65e32b1] Revert <span class="string">"Deleting hello.template"</span></span><br><span class="line"> 1 file changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 hello.template</span><br></pre></td></tr></table></figure>
<h2 id="Rebase-amp-Amend"><a href="#Rebase-amp-Amend" class="headerlink" title="Rebase &amp; Amend"></a>Rebase &amp; Amend</h2><h3 id="Git-Amend"><a href="#Git-Amend" class="headerlink" title="Git Amend"></a>Git Amend</h3><h4 id="AMEND-A-COMMIT"><a href="#AMEND-A-COMMIT" class="headerlink" title="AMEND A COMMIT"></a>AMEND A COMMIT</h4><ul>
<li>Amend is a quick and easy shortcut that lets you make changes to the previous commit.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">❯ cat index.txt</span><br><span class="line">welcome.txt Welcome to my blog</span><br><span class="line">python.txt Why python is my favorite language</span><br><span class="line"></span><br><span class="line">❯ git commit -m <span class="string">"Add a blog post about Python"</span></span><br><span class="line">[tech_posts 4080a79] Add a blog post about Python</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line">create mode 100644 A</span><br><span class="line"></span><br><span class="line">❯ git add posts/python.txt</span><br><span class="line"></span><br><span class="line">❯ git commit --amend</span><br><span class="line">[tech_posts de53317] Add a blog post about Python</span><br><span class="line">Date: Wed Sep 27 22:12:31 2017 -0700</span><br><span class="line">2 files changed, 1 insertion(+)</span><br><span class="line">create mode 100644 A</span><br><span class="line">create mode 100644 posts/python.txt</span><br></pre></td></tr></table></figure>
<h4 id="COMMITS-CAN’T-BE-EDITED"><a href="#COMMITS-CAN’T-BE-EDITED" class="headerlink" title="COMMITS CAN’T BE EDITED"></a>COMMITS CAN’T BE EDITED</h4><ul>
<li>Remember, commits can’t be edited!</li>
<li>A commit is referenced by the SHA of all its data.</li>
<li>Even if the tree the commit points to is the same, and the author is the same, the date is still different!</li>
<li>A new commit is created.</li>
</ul>
<h3 id="Rebase"><a href="#Rebase" class="headerlink" title="Rebase"></a>Rebase</h3><h4 id="WHAT-IS-REBASE-ANYWAY"><a href="#WHAT-IS-REBASE-ANYWAY" class="headerlink" title="WHAT IS REBASE ANYWAY"></a>WHAT IS REBASE ANYWAY</h4><ul>
<li>Imagine our tech_posts and master branch have diverged.</li>
<li><p>We don’t want a messy merge commit in our history.</p>
</li>
<li><p>We can pull in all the latest changes from master, and apply our commits on top of them by changing the parent commit of our commits.</p>
</li>
</ul>
<p>Rebase = give a commit a new parent (i.e. a new “base” commit)</p>
<h4 id="REBASE-REWINDING-HEAD"><a href="#REBASE-REWINDING-HEAD" class="headerlink" title="REBASE: REWINDING HEAD"></a>REBASE: REWINDING HEAD</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">❯ git checkout tech_posts Switched to branch <span class="string">'tech_posts'</span></span><br><span class="line">❯ git rebase master</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Applying: Add a blog post about Python</span><br></pre></td></tr></table></figure>
<h4 id="REBASE-APPLY-NEW-COMMITS"><a href="#REBASE-APPLY-NEW-COMMITS" class="headerlink" title="REBASE: APPLY NEW COMMITS"></a>REBASE: APPLY NEW COMMITS</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">❯ git rebase master</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Applying: Add a blog post about Python</span><br></pre></td></tr></table></figure>
<h4 id="POWER-OF-REBASING-REPLAY-COMMITS"><a href="#POWER-OF-REBASING-REPLAY-COMMITS" class="headerlink" title="POWER OF REBASING - REPLAY COMMITS"></a>POWER OF REBASING - REPLAY COMMITS</h4><ul>
<li>Commits can be:<ul>
<li>edited</li>
<li>removed</li>
<li>combined</li>
<li>re-ordered</li>
<li>inserted</li>
</ul>
</li>
<li>Before they’re “replayed” on top of the new HEAD.</li>
</ul>
<h4 id="INTERACTIVE-REBASE-REBASE-I-OR-REBASE-–INTERACTIVE"><a href="#INTERACTIVE-REBASE-REBASE-I-OR-REBASE-–INTERACTIVE" class="headerlink" title="INTERACTIVE REBASE (REBASE -I OR REBASE –INTERACTIVE)"></a>INTERACTIVE REBASE (REBASE -I OR REBASE –INTERACTIVE)</h4><ul>
<li><p>Interactive rebase opens an editor with a list of “todos”</p>
<ul>
<li>in the format of: <code>&lt;command&gt; &lt;commit&gt; &lt;commit msg&gt;</code></li>
<li>git will pick the commits in the specified order, or stop to take an action when editing or a conflict occurs.</li>
</ul>
</li>
<li><p>interactive rebase with a shortcut:</p>
<ul>
<li><code>git rebase -i &lt;commit_to_fix&gt;^</code></li>
<li>(the ^ specifies the parent commit)</li>
</ul>
</li>
</ul>
<h4 id="REBASE-OPTIONS"><a href="#REBASE-OPTIONS" class="headerlink" title="REBASE OPTIONS"></a>REBASE OPTIONS</h4><ul>
<li><code>pick</code><ul>
<li>keep this commit</li>
</ul>
</li>
<li><code>reword</code><ul>
<li>keep the commit, just change the message</li>
</ul>
</li>
<li><code>edit</code><ul>
<li>keep the commit, but stop to edit more than the message</li>
</ul>
</li>
<li><code>squash</code><ul>
<li>combine this commit with the previous one. stop to edit the message</li>
</ul>
</li>
<li><code>fixup</code><ul>
<li>combine this commit with the previous one. keep the previous commit message</li>
</ul>
</li>
<li><code>exec</code><ul>
<li>run the command on this line after picking the previous commit</li>
</ul>
</li>
<li><code>drop</code><ul>
<li>remove the commit (tip: if you remove this line, the commit will be dropped too!)</li>
</ul>
</li>
</ul>
<h4 id="EXAMPLE-REBASE"><a href="#EXAMPLE-REBASE" class="headerlink" title="EXAMPLE REBASE"></a>EXAMPLE REBASE</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">a37be8d (HEAD -&gt; tech_posts) Oops, I forgot an index entry <span class="keyword">for</span> my new post</span><br><span class="line">6857c3d posts/django-framework.txt</span><br><span class="line">2733233 Add a blog post about Python</span><br><span class="line"></span><br><span class="line">❯ git rebase -i 6857c3d^</span><br><span class="line"><span class="comment"># editor will open</span></span><br><span class="line">reword 6857c3d posts/django-framework.txt</span><br><span class="line">squash a37be8d Oops, I forgot an index entry <span class="keyword">for</span> my new post</span><br><span class="line"><span class="comment"># editor opens twice.</span></span><br><span class="line"><span class="comment">#  1. reword (change commit)</span></span><br><span class="line"><span class="comment">#  2. squash (combine commits)</span></span><br><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">9413427 (HEAD -&gt; tech_posts) Add a new blog post explaining the pros and cons of django</span><br><span class="line">2733233 (master) Add a blog post about Python</span><br><span class="line">25b3810 Add a README file to the project</span><br><span class="line">cd0b57c (tag: v1.0, tag: my-first-commit) Initial commit</span><br></pre></td></tr></table></figure>
<h4 id="TIP-USE-REBASE-TO-SPLIT-COMMITS"><a href="#TIP-USE-REBASE-TO-SPLIT-COMMITS" class="headerlink" title="TIP: USE REBASE TO SPLIT COMMITS"></a>TIP: USE REBASE TO SPLIT COMMITS</h4><p>Editing a commit can also split it up into multiple commits!</p>
<ol>
<li>Start an interactive rebase with <code>rebase -i</code></li>
<li>mark the commit with an edit</li>
<li><code>git reset HEAD^</code></li>
<li><code>git add</code></li>
<li><code>git commit</code></li>
<li>repeat (4) &amp; (5) until the working area is clean!</li>
<li><code>git rebase --continue</code></li>
</ol>
<h3 id="Fixup-amp-Autosquash"><a href="#Fixup-amp-Autosquash" class="headerlink" title="Fixup &amp; Autosquash"></a>Fixup &amp; Autosquash</h3><h4 id="TIP-“AMEND”-ANY-COMMIT-WITH-FIXUP-amp-AUTOSQUASH"><a href="#TIP-“AMEND”-ANY-COMMIT-WITH-FIXUP-amp-AUTOSQUASH" class="headerlink" title="TIP: “AMEND” ANY COMMIT WITH FIXUP &amp; AUTOSQUASH"></a>TIP: “AMEND” ANY COMMIT WITH FIXUP &amp; AUTOSQUASH</h4><p>What if we want to amend an arbitrary commit?</p>
<ol>
<li><code>git add new files</code></li>
<li><code>git commit --fixup &lt;SHA&gt;</code><ol>
<li>this creates a new commit, the message starts with ‘fixup!’</li>
</ol>
</li>
<li><code>git rebase -i --autosquash &lt;SHA&gt;^</code></li>
<li>git will generate the right todos for you! just save and quit.</li>
</ol>
<h4 id="FIXUP-amp-AUTOSQUASH-EXAMPLE"><a href="#FIXUP-amp-AUTOSQUASH-EXAMPLE" class="headerlink" title="FIXUP &amp; AUTOSQUASH EXAMPLE"></a>FIXUP &amp; AUTOSQUASH EXAMPLE</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">9413427 (HEAD -&gt; tech_posts) Add a new blog post explaining the pros and cons of django</span><br><span class="line">2733233 (master) Add a blog post about Python</span><br><span class="line">25b3810 Add a README file to the project</span><br><span class="line">cd0b57c (tag: v1.0, tag: my-first-commit) Initial commit</span><br><span class="line"><span class="comment"># I want to edit commit 27332 (Add blog post about Python)</span></span><br><span class="line">❯ git add posts/python.txt</span><br><span class="line">❯ git commit --fixup 2733233</span><br><span class="line">[tech_posts 5e980a7] fixup! Add a blog post about Python</span><br><span class="line"> 1 file changed, 1 insertion(+), 1 deletion(-)</span><br><span class="line"></span><br><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">5e980a7 (HEAD -&gt; tech_posts) fixup! Add a blog post about Python <span class="comment"># git added new commit 5e980 message is: fixup! Add a blog post about Python</span></span><br><span class="line">9413427 Add a new blog post explaining the pros and cons of django 2733233 (master) Add a blog post about Python</span><br><span class="line">25b3810 Add a README file to the project</span><br><span class="line">cd0b57c (tag: v1.0, tag: my-first-commit) Initial commit</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">❯ git rebase -i --autosquash 25b3810^ <span class="comment"># use the -i and --autosquash flags &amp;&amp; use ref of the parent commit</span></span><br><span class="line">pick 25b3810 Add a README file to the project</span><br><span class="line">pick 2733233 Add a blog post about Python</span><br><span class="line">fixup 5e980a7 fixup! Add a blog post about Python <span class="comment"># git will automatically reorder commits, and mark the commit with fixup action</span></span><br><span class="line">pick 9413427 Add a new blog post explaining the pros and cons of django</span><br><span class="line"></span><br><span class="line">❯ git <span class="built_in">log</span> --oneline</span><br><span class="line">68377f4 (HEAD -&gt; tech_posts) Add a new blog post explaining the pros and cons of django</span><br><span class="line">a8656d9 Add a blog post about Python <span class="comment"># shiny new fixed up commit!</span></span><br><span class="line">25b3810 Add a README file to the project</span><br><span class="line">cd0b57c (tag: v1.0, tag: my-first-commit) Initial commit</span><br></pre></td></tr></table></figure>
<h4 id="REBASE-–EXEC-EXECUTE-A-COMMAND"><a href="#REBASE-–EXEC-EXECUTE-A-COMMAND" class="headerlink" title="REBASE –EXEC (EXECUTE A COMMAND)"></a>REBASE –EXEC (EXECUTE A COMMAND)</h4><p><code>$ git rebase -i —exec “run-tests” &lt;commit&gt;</code></p>
<p>2 options for exec:</p>
<ol>
<li>add it as a command when doing interactive rebase</li>
<li>use it as a flag when rebasing</li>
</ol>
<ul>
<li>When used as a flag, the command specified by exec will run after every commit is applied.</li>
<li>This can be used to run tests.</li>
<li>The rebase will stop if the command fails, giving you a chance to fix what’s wrong.</li>
</ul>
<h3 id="Abort"><a href="#Abort" class="headerlink" title="Abort"></a>Abort</h3><h4 id="PULL-THE-RIP-CORD"><a href="#PULL-THE-RIP-CORD" class="headerlink" title="PULL THE RIP CORD"></a>PULL THE RIP CORD</h4><ul>
<li>At any time before rebase is done, if things are going wrong:<ul>
<li><code>git rebase --abort</code></li>
</ul>
</li>
</ul>
<h4 id="REBASE-PRO-TIP"><a href="#REBASE-PRO-TIP" class="headerlink" title="REBASE PRO TIP"></a>REBASE PRO TIP</h4><ul>
<li>Before you <code>rebase</code> / <code>fixup</code> / <code>squash</code> / <code>reorder</code>:</li>
<li>Make a copy of your current branch:<ul>
<li><code>git branch my_branch_backup</code></li>
</ul>
</li>
<li><p>git branch will make a new branch, without switching to it</p>
</li>
<li><p>If rebase “succeeds” but you messed up…</p>
</li>
<li><p><code>git reset my_branch_backup --hard</code></p>
</li>
<li><p>You’re back in business!</p>
</li>
</ul>
<h4 id="REBASE-ADVANTAGES"><a href="#REBASE-ADVANTAGES" class="headerlink" title="REBASE ADVANTAGES"></a>REBASE ADVANTAGES</h4><ul>
<li>Rebase is incredibly powerful!</li>
<li>You can slice and dice your git history.</li>
<li>It’s easy to fix previous mistakes in code.</li>
<li>You can keep your git history neat and clean.</li>
</ul>
<h4 id="COMMIT-EARLY-amp-OFTEN-VS-GOOD-COMMITS"><a href="#COMMIT-EARLY-amp-OFTEN-VS-GOOD-COMMITS" class="headerlink" title="COMMIT EARLY &amp; OFTEN VS GOOD COMMITS"></a>COMMIT EARLY &amp; OFTEN VS GOOD COMMITS</h4><ul>
<li><p>Git Best Practice:</p>
<ul>
<li>“commit often, perfect later, publish once”</li>
</ul>
</li>
<li><p>When working locally:</p>
<ul>
<li>Commit whenever you make changes!</li>
<li>It’ll help you be a more productive developer.</li>
</ul>
</li>
<li>Before pushing work to a shared repo:<ul>
<li>Rebase to clean up the commit history</li>
</ul>
</li>
</ul>
<h4 id="WARNING-NEVER-REWRITE-PUBLIC-HISTORY"><a href="#WARNING-NEVER-REWRITE-PUBLIC-HISTORY" class="headerlink" title="WARNING: NEVER REWRITE PUBLIC HISTORY"></a>WARNING: NEVER REWRITE PUBLIC HISTORY</h4><ul>
<li>Rebase commits are copies</li>
<li>If other people are working on the same repository they would be working on different commits.</li>
<li>You could cause massive merge conflicts</li>
<li>Even worse, you can cause people to lose their work!</li>
</ul>
<blockquote>
<p>Warning: If you rewrite history and push to a public repo, monsters will eat you!</p>
</blockquote>
<h3 id="Exercise-Git-Rebase-amp-Amend"><a href="#Exercise-Git-Rebase-amp-Amend" class="headerlink" title="Exercise: Git Rebase &amp; Amend"></a>Exercise: Git Rebase &amp; Amend</h3><p><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise7-RebaseAndAmend.md" target="_blank" rel="noopener">Exercise Link</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">liuyong$ git checkout exercise7</span><br><span class="line">Branch <span class="string">'exercise7'</span> <span class="built_in">set</span> up to track remote branch <span class="string">'exercise7'</span> from <span class="string">'origin'</span>.</span><br><span class="line">Switched to a new branch <span class="string">'exercise7'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Make a commit, then practice using the <code>--amend</code> option to make another change to the previous commit.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"This is the first file"</span> &gt; first.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"This is the second file"</span> &gt; second.txt</span><br><span class="line">git add first.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Committing two new files"</span></span><br><span class="line">[exercise7 d2fcb23] Committing two new files</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 first.txt</span><br><span class="line"></span><br><span class="line">git add second.txt</span><br><span class="line"></span><br><span class="line">git commit --amend</span><br><span class="line">[exercise7 7d55d2b] Committing two new files</span><br><span class="line"> Date: Sat Jul 20 09:20:11 2019 +0800</span><br><span class="line"> 2 files changed, 2 insertions(+)</span><br><span class="line"> create mode 100644 first.txt</span><br><span class="line"> create mode 100644 second.txt</span><br><span class="line"><span class="comment"># Confirm that we've committed both files now</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Make two non-conflicting changes to two different branches. Rebase one branch onto the other.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line">Your branch is up to date with <span class="string">'origin/master'</span>.</span><br><span class="line"></span><br><span class="line">git checkout -b exercise7-2</span><br><span class="line">Switched to a new branch <span class="string">'exercise7-2'</span></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line">43388fe (HEAD -&gt; exercise7-2, origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, master, exercise2) Initial commit</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"New feature"</span> &gt; feature.txt</span><br><span class="line"></span><br><span class="line">git add feature.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Adding a new feature"</span></span><br><span class="line">[exercise7-2 6aa0c97] Adding a new feature</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 feature.txt</span><br><span class="line"></span><br><span class="line">git checkout master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line">Your branch is up to date with <span class="string">'origin/master'</span>.</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Master has continued to change"</span> &gt;&gt; hello.txt <span class="comment"># The double arrow &gt;&gt; means 'append' to the file instead of overwrite.</span></span><br><span class="line"></span><br><span class="line">git add hello.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Master has continued to change"</span></span><br><span class="line">[master a6ff221] Master has continued to change</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line">git checkout exercise7-2</span><br><span class="line">Switched to branch <span class="string">'exercise7-2'</span></span><br><span class="line"></span><br><span class="line">git rebase master</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Applying: Adding a new feature</span><br><span class="line"></span><br><span class="line"><span class="comment"># Check that the changes to master are incorporated into our feature branch</span></span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line">b265f83 (HEAD -&gt; exercise7-2) Adding a new feature</span><br><span class="line">a6ff221 (master) Master has continued to change</span><br><span class="line">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, exercise2) Initial commit</span><br></pre></td></tr></table></figure>
<ul>
<li>Make another change to your current branch. Use an interactive rebase (<code>git rebase -i</code>) to rebase the two branches. Try squashing your two commits and rewording the message during the rebase.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Another new feature"</span> &gt; another_feature.txt</span><br><span class="line"></span><br><span class="line">git add another_feature.txt</span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"Adding another new feature"</span></span><br><span class="line">[exercise7-2 075490a] Adding another new feature</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 another_feature.txt</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> -n 3 --oneline</span><br><span class="line">075490a (HEAD -&gt; exercise7-2) Adding another new feature</span><br><span class="line">b265f83 Adding a new feature</span><br><span class="line">a6ff221 (master) Master has continued to change</span><br><span class="line"></span><br><span class="line">git rebase -i HEAD~2</span><br><span class="line">Successfully rebased and updated refs/heads/exercise7-2.</span><br><span class="line"></span><br><span class="line">git <span class="built_in">log</span> --oneline</span><br><span class="line">075490a (HEAD -&gt; exercise7-2) Adding another new feature</span><br><span class="line">b265f83 Adding a new feature</span><br><span class="line">a6ff221 (master) Master has continued to change</span><br><span class="line">43388fe (origin/master, origin/exercise7, origin/exercise4, origin/exercise2, origin/HEAD, exercise2) Initial commit</span><br></pre></td></tr></table></figure>
<h2 id="Forks-amp-Remote-Repos"><a href="#Forks-amp-Remote-Repos" class="headerlink" title="Forks &amp; Remote Repos"></a>Forks &amp; Remote Repos</h2><h3 id="Github-vs-Git"><a href="#Github-vs-Git" class="headerlink" title="Github vs. Git"></a>Github vs. Git</h3><h4 id="GITHUB-VS-GIT-THE-KEY-IS-COLLABORATION"><a href="#GITHUB-VS-GIT-THE-KEY-IS-COLLABORATION" class="headerlink" title="GITHUB VS GIT - THE KEY IS COLLABORATION"></a>GITHUB VS GIT - THE KEY IS COLLABORATION</h4><ul>
<li>Git:<ul>
<li>Open source version control software</li>
</ul>
</li>
<li>Github:<ul>
<li>Repository hosting</li>
<li>Browse code</li>
<li>Issues</li>
<li>Pull Requests</li>
<li>Forks</li>
</ul>
</li>
</ul>
<h3 id="Remotes"><a href="#Remotes" class="headerlink" title="Remotes"></a>Remotes</h3><ul>
<li>A remote is a git repository stored elsewhere - on the web, in github, etc.</li>
<li><p><em>origin</em> is the default name git gives to the server you cloned from.</p>
</li>
<li><p>Cloning a remote repository from a URL will fetch the whole repository, and make a local copy in your .git folder.</p>
</li>
<li><p>You may have different privileges for a remote.</p>
<ul>
<li>Read/Write for some, Read Only for others.</li>
</ul>
</li>
</ul>
<h4 id="CLONE-REPOSITORY"><a href="#CLONE-REPOSITORY" class="headerlink" title="CLONE REPOSITORY"></a>CLONE REPOSITORY</h4><p><code>git clone git@github.com:lisa/projA.git</code></p>
<h4 id="VIEWING-REMOTES"><a href="#VIEWING-REMOTES" class="headerlink" title="VIEWING REMOTES"></a>VIEWING REMOTES</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">❯ git remote -v</span><br><span class="line">origin git@github.com:lisa/projA.git (fetch)</span><br><span class="line">origin git@github.com:lisa/projA.git (push)</span><br></pre></td></tr></table></figure>
<h4 id="CLONED-SOMEONE-ELSE’S-REPOSITORY"><a href="#CLONED-SOMEONE-ELSE’S-REPOSITORY" class="headerlink" title="CLONED SOMEONE ELSE’S REPOSITORY"></a>CLONED SOMEONE ELSE’S REPOSITORY</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:dan/projB.git</span><br></pre></td></tr></table></figure>
<h3 id="Forks-Pull-Requests-amp-Upstreams"><a href="#Forks-Pull-Requests-amp-Upstreams" class="headerlink" title="Forks, Pull Requests &amp; Upstreams"></a>Forks, Pull Requests &amp; Upstreams</h3><h4 id="FORK"><a href="#FORK" class="headerlink" title="FORK"></a>FORK</h4><ul>
<li>A fork is a copy of a repository that’s stored in your GitHub account.</li>
<li>You can clone your fork to your local computer.</li>
</ul>
<h4 id="MERGING-CHANGES-TO-ORIGINAL-PROJECT-FROM-A-FORK"><a href="#MERGING-CHANGES-TO-ORIGINAL-PROJECT-FROM-A-FORK" class="headerlink" title="MERGING CHANGES TO ORIGINAL PROJECT FROM A FORK"></a>MERGING CHANGES TO ORIGINAL PROJECT FROM A FORK</h4><h4 id="STAYING-UP-TO-DATE"><a href="#STAYING-UP-TO-DATE" class="headerlink" title="STAYING UP TO DATE"></a>STAYING UP TO DATE</h4><ul>
<li>While you work on your fork, other changes are getting merged into the source repository.</li>
<li>In order to stay up to date, set up an upstream</li>
</ul>
<h4 id="UPSTREAM"><a href="#UPSTREAM" class="headerlink" title="UPSTREAM"></a>UPSTREAM</h4><ul>
<li>The upstream repository is the base repository you created a fork from.</li>
<li>This isn’t set up by default, you need to set it up manually.</li>
<li>By adding an upstream remote, you can pull down changes that have been added to the original repository after you forked it.</li>
</ul>
<p><code>❯ git remote add upstream https://github.com/ORIG_OWNER/REPO.git</code></p>
<h3 id="Github-Workflow"><a href="#Github-Workflow" class="headerlink" title="Github Workflow"></a>Github Workflow</h3><h4 id="TRIANGULAR-WORKFLOW"><a href="#TRIANGULAR-WORKFLOW" class="headerlink" title="TRIANGULAR WORKFLOW"></a>TRIANGULAR WORKFLOW</h4><p><img src="/static/images/WX20190720-100204.png" alt="workflow"></p>
<h4 id="TRACKING-BRANCHES"><a href="#TRACKING-BRANCHES" class="headerlink" title="TRACKING BRANCHES"></a>TRACKING BRANCHES</h4><ul>
<li><p>Track a branch to tie it to an upstream branch.</p>
<ul>
<li>Bonus: Use git push / pull with no arguments</li>
</ul>
</li>
<li><p>To checkout a remote branch, with tracking:</p>
<ul>
<li><code>git checkout -t origin/feature</code></li>
</ul>
</li>
<li>Tell Git which branch to track the first time you push:<ul>
<li><code>git push -u origin feature</code></li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">❯ git branch * master</span><br><span class="line">❯ git fetch</span><br><span class="line">❯ git branch -vv</span><br><span class="line">* master bbeb1c32 [origin/master: behind 124] Merge branch <span class="string">'master'</span> of ...</span><br><span class="line"><span class="comment"># which upstream branch is being tracked</span></span><br><span class="line"><span class="comment"># how many commits you’re ahead or behind</span></span><br></pre></td></tr></table></figure>
<h4 id="FETCH"><a href="#FETCH" class="headerlink" title="FETCH"></a>FETCH</h4><ul>
<li>Git fetch is important for keeping your local repository up to date with a remote.</li>
<li>It pulls down all the changes that happened on the server</li>
<li>But, it doesn’t change your local repository!</li>
</ul>
<h4 id="PULL"><a href="#PULL" class="headerlink" title="PULL"></a>PULL</h4><ul>
<li><p>Pulling will pull down the changes from the remote repository to your local repository, and merging them with a local branch.</p>
</li>
<li><p>Under the hood:</p>
<ul>
<li><code>git pull = git fetch &amp;&amp; git merge</code></li>
</ul>
</li>
<li><p>If changes happened upstream, git will create a merge commit.</p>
</li>
<li>Otherwise, it will fast-forward.</li>
</ul>
<h4 id="PUSH"><a href="#PUSH" class="headerlink" title="PUSH"></a>PUSH</h4><ul>
<li>Pushing sends your changes to the remote repository</li>
<li><p>git only allows you to push if your changes won’t cause a conflict</p>
</li>
<li><p>TIP:</p>
<ul>
<li>To see commits which haven’t been pushed upstream yet, use:<ul>
<li><code>git cherry -v</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="GIT-PULL-—REBASE"><a href="#GIT-PULL-—REBASE" class="headerlink" title="GIT PULL —REBASE"></a>GIT PULL —REBASE</h4><ul>
<li>Git pull —rebase will fetch, update your local branch to copy the upstream branch, then replay any commits you made via rebase.</li>
<li>Bonus: When you open a PR, there will be no unsightly merge commits!</li>
</ul>
<h4 id="NOTE-TAGS"><a href="#NOTE-TAGS" class="headerlink" title="NOTE: TAGS"></a>NOTE: TAGS</h4><ul>
<li>Git doesn’t automatically push local tags to a remote repository.</li>
<li>To push tags:<ul>
<li><code>git push &lt;tagname&gt;</code></li>
<li><code>git push --tags</code></li>
</ul>
</li>
</ul>
<h4 id="CONTRIBUTING-TO-OPEN-SOURCE-PROJECTS-PULL-REQUESTS"><a href="#CONTRIBUTING-TO-OPEN-SOURCE-PROJECTS-PULL-REQUESTS" class="headerlink" title="CONTRIBUTING TO OPEN SOURCE PROJECTS - PULL REQUESTS"></a>CONTRIBUTING TO OPEN SOURCE PROJECTS - PULL REQUESTS</h4><ul>
<li><p>Before opening a PR:</p>
<ul>
<li>Keep commit history clean and neat. Rebase if needed.</li>
<li>Run projects tests on your code</li>
<li>Pull in Upstream changes (preferably via rebase to avoid merge commits)</li>
<li>check for a CONTRIBUTING (.md/.txt) in the project root</li>
</ul>
</li>
<li><p>After opening a PR:</p>
<ul>
<li>Explain your changes throughly in the pull request</li>
<li>Link to any open issues that your pull request might fix</li>
<li>Check back for comments from the maintainers</li>
</ul>
</li>
</ul>
<h4 id="ADVICE"><a href="#ADVICE" class="headerlink" title="ADVICE"></a>ADVICE</h4><ul>
<li>Encourage developers to work on their own forks of a repository.</li>
<li>Mistakes are less likely to happen if no one is pushing directly to the “source of truth” for your codebase!</li>
<li>You can rebase and force push freely to your own origin, as long as no one else is cloning your branch.</li>
</ul>
<h4 id="PUSHING-MERGING-YOUR-CHANGES-BACK-TO-A-REMOTE"><a href="#PUSHING-MERGING-YOUR-CHANGES-BACK-TO-A-REMOTE" class="headerlink" title="PUSHING/MERGING YOUR CHANGES BACK TO A REMOTE"></a>PUSHING/MERGING YOUR CHANGES BACK TO A REMOTE</h4><ul>
<li>Rule of thumb:<ul>
<li>Rebase commits on your local feature branch</li>
<li>Merge feature branches back to origin (or upstream)</li>
</ul>
</li>
<li>When accepting a pull request:<ul>
<li>Squash and merge or rebase with care.</li>
<li>You’ll lose context about the work on the feature branch!</li>
<li>It’ll make it harder to debug when issues arise in the future</li>
</ul>
</li>
</ul>
<h3 id="Exercise-Forks-amp-Remote-Repos-Exercise"><a href="#Exercise-Forks-amp-Remote-Repos-Exercise" class="headerlink" title="Exercise: Forks &amp; Remote Repos Exercise"></a>Exercise: Forks &amp; Remote Repos Exercise</h3><p><a href="https://github.com/nnja/advanced-git/blob/master/exercises/Exercise8-ForksAndRemoteRepos.md" target="_blank" rel="noopener">Exercise Link</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">Switched to branch <span class="string">'master'</span></span><br><span class="line">Your branch is ahead of <span class="string">'origin/master'</span> by 1 commit.</span><br><span class="line">  (use <span class="string">"git push"</span> to publish your <span class="built_in">local</span> commits)</span><br></pre></td></tr></table></figure>
<ul>
<li>Create your own Github fork of <a href="https://github.com/nnja/advanced-git-exercises" target="_blank" rel="noopener">https://github.com/nnja/advanced-git-exercises</a>.</li>
</ul>
<p>In Github, go to <a href="https://github.com/nnja/advanced-git-exercises" target="_blank" rel="noopener">https://github.com/nnja/advanced-git-exercises</a> and create your own fork of this repo by clicking the Fork button in the top right corner. This should create a copy of the repo that belongs to you.</p>
<ul>
<li>Look at your git remotes. Rename your origin remote (nnja’s copy) to upstream. Add your personal fork as the origin remote.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br><span class="line">origin  git@github.com:nnja/advanced-git-exercises.git (fetch)</span><br><span class="line">origin  git@github.com:nnja/advanced-git-exercises.git (push)</span><br><span class="line"></span><br><span class="line">git remote rename origin upstream</span><br><span class="line"></span><br><span class="line">git remote -v</span><br><span class="line">upstream        git@github.com:nnja/advanced-git-exercises.git (fetch)</span><br><span class="line">upstream        git@github.com:nnja/advanced-git-exercises.git (push)</span><br></pre></td></tr></table></figure>
<h2 id="Danger-Zone"><a href="#Danger-Zone" class="headerlink" title="Danger Zone"></a>Danger Zone</h2><h3 id="Local-amp-Remote-Destructive-Operations"><a href="#Local-amp-Remote-Destructive-Operations" class="headerlink" title="Local &amp; Remote Destructive Operations"></a>Local &amp; Remote Destructive Operations</h3><h4 id="LOCAL-DESTRUCTIVE-OPERATIONS"><a href="#LOCAL-DESTRUCTIVE-OPERATIONS" class="headerlink" title="LOCAL DESTRUCTIVE OPERATIONS"></a>LOCAL DESTRUCTIVE OPERATIONS</h4><ul>
<li><code>git checkout -- &lt;file&gt;</code><ul>
<li>If the file is present in the staging area, it’ll be overwritten.</li>
</ul>
</li>
<li><p><code>git reset --hard</code></p>
<ul>
<li>Will overwrite changes that are staged and in the working area.</li>
</ul>
</li>
<li><p>Unless changes are stashed, there’s no way of getting them back!</p>
</li>
<li>Tip: use <code>git stash --include-untracked</code> to include working area changes in your stash</li>
</ul>
<h4 id="REMOTE-DESTRUCTIVE-OPERATIONS-REWRITING-HISTORY"><a href="#REMOTE-DESTRUCTIVE-OPERATIONS-REWRITING-HISTORY" class="headerlink" title="REMOTE DESTRUCTIVE OPERATIONS - REWRITING HISTORY"></a>REMOTE DESTRUCTIVE OPERATIONS - REWRITING HISTORY</h4><ul>
<li>There are many operations that can rewrite history:<ul>
<li>rebase</li>
<li>amend</li>
<li>reset</li>
</ul>
</li>
<li>If your code is hosted or shared:<ul>
<li>Never run <code>git push -f</code></li>
</ul>
</li>
</ul>
<h3 id="Recover-Lost-Work"><a href="#Recover-Lost-Work" class="headerlink" title="Recover Lost Work"></a>Recover Lost Work</h3><ul>
<li>Use ORIG_HEAD:<ul>
<li>The commit HEAD was pointing to before a:<ul>
<li>reset</li>
<li>merge</li>
</ul>
</li>
</ul>
</li>
<li>Check for repository copies:<ul>
<li>github</li>
<li>coworker</li>
</ul>
</li>
</ul>
<h4 id="ORIG-HEAD-TO-UNDO-A-MERGE"><a href="#ORIG-HEAD-TO-UNDO-A-MERGE" class="headerlink" title="ORIG_HEAD TO UNDO A MERGE"></a>ORIG_HEAD TO UNDO A MERGE</h4><ul>
<li>use ORIG_HEAD to undo merges</li>
<li><code>git reset --merge ORIG_HEAD</code></li>
<li>use <code>--merge</code> flag to preserve any uncommitted changes</li>
</ul>
<h4 id="USING-GIT-REFLOG-AND-‘-‘-SYNTAX"><a href="#USING-GIT-REFLOG-AND-‘-‘-SYNTAX" class="headerlink" title="USING GIT REFLOG AND ‘@‘ SYNTAX"></a>USING GIT REFLOG AND ‘@‘ SYNTAX</h4><ul>
<li>By default, git keeps commits around for about 2 weeks.</li>
<li>If you need to go back in time, and find a commit that’s no longer referenced, you can look in the reflog.</li>
<li>The syntax of reflog is different.<ul>
<li><code>HEAD@{2}</code> means “the value of HEAD 2 moves ago”</li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">❯ git reflog</span><br><span class="line">e7cd68b (HEAD -&gt; dont_overwrite_vary_header, origin/dont_overwrite_vary_header) HEAD@&#123;0&#125;: reset:</span><br><span class="line">94c49a4 HEAD@&#123;1&#125;: commit: A</span><br><span class="line">e7cd68b (HEAD -&gt; dont_overwrite_vary_header, origin/dont_overwrite_vary_header) HEAD@&#123;2&#125;:</span><br><span class="line">commit overwrite Vary header when setting <span class="keyword">for</span> cookie access <span class="comment">#2317</span></span><br><span class="line">a54419a HEAD@&#123;3&#125;: rebase finished: returning to refs/heads/dont_overwrite_vary_header</span><br><span class="line">a54419a HEAD@&#123;4&#125;: rebase: Don\<span class="string">'t overwrite Vary header when setting for cookie</span></span><br></pre></td></tr></table></figure>
<h2 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h2><h3 id="GitHub-Shortcuts"><a href="#GitHub-Shortcuts" class="headerlink" title="GitHub Shortcuts"></a>GitHub Shortcuts</h3><ul>
<li>Press ‘?’ on any <a href="https://github.com" target="_blank" rel="noopener">github.com</a> page for a list of shortcuts</li>
<li>Then, hit ‘Show all’</li>
</ul>
<h3 id="Continuous-Intergration"><a href="#Continuous-Intergration" class="headerlink" title="Continuous Intergration"></a>Continuous Intergration</h3><ul>
<li>Merging smaller commits frequently, instead of waiting until a project is “done” and doing one big merge.</li>
<li>This means that features can be released quicker!</li>
<li>CI only works well when there are tests that ensure that new commits didn’t “break the build”</li>
<li>It’s even possible to perform a deployment at the end of a CI build!</li>
</ul>
<h2 id="Advanced-GitHub"><a href="#Advanced-GitHub" class="headerlink" title="Advanced GitHub"></a>Advanced GitHub</h2><h3 id="GitHub-API"><a href="#GitHub-API" class="headerlink" title="GitHub API"></a>GitHub API</h3><p><a href="https://developer.github.com/" target="_blank" rel="noopener">GitHub Developer</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/FrontEndMasters/" rel="tag"># FrontEndMasters</a>
          
            <a href="/tags/GitHub/" rel="tag"># GitHub</a>
          
            <a href="/tags/Git/" rel="tag"># Git</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/07/16/Webpack-4-Fundamentals/" rel="next" title="Webpack 4 Fundamentals">
                <i class="fa fa-chevron-left"></i> Webpack 4 Fundamentals
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/07/25/JavaScript-Performance/" rel="prev" title="JavaScript Performance">
                JavaScript Performance <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://img.zcool.cn/community/04c6fd55fa1a4a000001b19c79e625.jpg@160w_160h_1c_1e_1o_100sh.jpg" alt="刘勇">
            
              <p class="site-author-name" itemprop="name">刘勇</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">56</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">101</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/blingblingredstar" title="GitHub &rarr; https://github.com/blingblingredstar" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:564447023@qq.com" title="E-Mail &rarr; mailto:564447023@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-In-Depth"><span class="nav-number">1.</span> <span class="nav-text">Git In-Depth</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Introduction"><span class="nav-number">1.1.</span> <span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Requirements"><span class="nav-number">1.1.1.</span> <span class="nav-text">Requirements</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Course-Agenda"><span class="nav-number">1.2.</span> <span class="nav-text">Course Agenda</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Foundations"><span class="nav-number">2.</span> <span class="nav-text">Git Foundations</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Data-Storage"><span class="nav-number">2.1.</span> <span class="nav-text">Data Storage</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#WHAT-IS-GIT"><span class="nav-number">2.1.1.</span> <span class="nav-text">WHAT IS GIT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HOW-DOES-GIT-STORE-INFORMATION"><span class="nav-number">2.1.2.</span> <span class="nav-text">HOW DOES GIT STORE INFORMATION</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#The-Key-SHA1"><span class="nav-number">2.1.3.</span> <span class="nav-text">The Key - SHA1</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Blobs-amp-Trees"><span class="nav-number">2.2.</span> <span class="nav-text">Git Blobs &amp; Trees</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#The-Value-Blob"><span class="nav-number">2.2.1.</span> <span class="nav-text">The Value - Blob</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UNDER-THE-HOOD-GIT-HASH-OBJECT"><span class="nav-number">2.2.2.</span> <span class="nav-text">UNDER THE HOOD - GIT HASH-OBJECT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHERE-DOES-GIT-STORE-ITS-DATA"><span class="nav-number">2.2.3.</span> <span class="nav-text">WHERE DOES GIT STORE ITS DATA</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHERE-ARE-BLOBS-STORED"><span class="nav-number">2.2.4.</span> <span class="nav-text">WHERE ARE BLOBS STORED</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WE-NEED-SOMETHING-ELSE"><span class="nav-number">2.2.5.</span> <span class="nav-text">WE NEED SOMETHING ELSE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TREE"><span class="nav-number">2.2.6.</span> <span class="nav-text">TREE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IDENTICAL-CONTENT-IS-ONLY-STORED-ONCE"><span class="nav-number">2.2.7.</span> <span class="nav-text">IDENTICAL CONTENT IS ONLY STORED ONCE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OTHER-OPTIMIZATIONS-PACKFILES-DELTAS"><span class="nav-number">2.2.8.</span> <span class="nav-text">OTHER OPTIMIZATIONS - PACKFILES, DELTAS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Commits"><span class="nav-number">2.3.</span> <span class="nav-text">Git Commits</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#COMMIT-OBJECT"><span class="nav-number">2.3.1.</span> <span class="nav-text">COMMIT OBJECT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#A-COMMIT-IS-A-CODE-SNAPSHOT"><span class="nav-number">2.3.2.</span> <span class="nav-text">A COMMIT IS A CODE SNAPSHOT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#COMMITS-UNDER-THE-HOOD-MAKE-A-COMMIT"><span class="nav-number">2.3.3.</span> <span class="nav-text">COMMITS UNDER THE HOOD - MAKE A COMMIT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#COMMITS-UNDER-THE-HOOD-LOOK-IN-GIT-OBJECTS"><span class="nav-number">2.3.4.</span> <span class="nav-text">COMMITS UNDER THE HOOD - LOOK IN .GIT/OBJECTS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#COMMITS-UNDER-THE-HOOD-LOOKING-AT-OBJECTS"><span class="nav-number">2.3.5.</span> <span class="nav-text">COMMITS UNDER THE HOOD - LOOKING AT OBJECTS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-CAT-FILE-T-TYPE-AND-P-PRINT-THE-CONTENTS"><span class="nav-number">2.3.6.</span> <span class="nav-text">GIT CAT-FILE -T (TYPE) AND -P (PRINT THE CONTENTS)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHY-CAN’T-WE-“CHANGE”-COMMITS"><span class="nav-number">2.3.7.</span> <span class="nav-text">WHY CAN’T WE “CHANGE” COMMITS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REFERENCES-POINTERS-TO-COMMITS"><span class="nav-number">2.3.8.</span> <span class="nav-text">REFERENCES - POINTERS TO COMMITS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REFERENCES-UNDER-THE-HOOD"><span class="nav-number">2.3.9.</span> <span class="nav-text">REFERENCES - UNDER THE HOOD</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-Simple-Git-Commit"><span class="nav-number">2.4.</span> <span class="nav-text">Exercise: Simple Git Commit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-Areas-amp-Stashing"><span class="nav-number">3.</span> <span class="nav-text">Git Areas &amp; Stashing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Working-Area-Staging-Area-Repository"><span class="nav-number">3.1.</span> <span class="nav-text">Working Area, Staging Area, Repository</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#THREE-AREAS-WHERE-CODE-LIVES"><span class="nav-number">3.1.1.</span> <span class="nav-text">THREE AREAS WHERE CODE LIVES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#THE-WORKING-AREA-A-K-A-WORKING-TREE"><span class="nav-number">3.1.2.</span> <span class="nav-text">THE WORKING AREA(A.K.A WORKING TREE)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#THE-STAGING-AREA-A-K-A-INDEX-CACHE"><span class="nav-number">3.1.3.</span> <span class="nav-text">THE STAGING AREA (A.K.A INDEX, CACHE)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#THE-REPOSITORY"><span class="nav-number">3.1.4.</span> <span class="nav-text">THE REPOSITORY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CLOSER-LOOK-THE-STAGING-AREA"><span class="nav-number">3.1.5.</span> <span class="nav-text">CLOSER LOOK: THE STAGING AREA</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#THE-STAGING-AREA"><span class="nav-number">3.1.5.1.</span> <span class="nav-text">THE STAGING AREA</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#MOVING-FILES-IN-amp-OUT-OF-THE-STAGING-AREA"><span class="nav-number">3.1.5.2.</span> <span class="nav-text">MOVING FILES IN &amp; OUT OF THE STAGING AREA</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#GIT-ADD-P"><span class="nav-number">3.1.5.3.</span> <span class="nav-text">GIT ADD -P</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#USING-GIT-ADD-P"><span class="nav-number">3.1.5.4.</span> <span class="nav-text">USING GIT ADD -P</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#“UNSTAGE”-FILES-FROM-THE-STAGING-AREA"><span class="nav-number">3.1.5.5.</span> <span class="nav-text">“UNSTAGE” FILES FROM THE STAGING AREA</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#BASICS-HOW-CONTENT-MOVES-IN-GIT"><span class="nav-number">3.1.5.6.</span> <span class="nav-text">BASICS: HOW CONTENT MOVES IN GIT</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stashing"><span class="nav-number">3.2.</span> <span class="nav-text">Stashing</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-STASH"><span class="nav-number">3.2.1.</span> <span class="nav-text">GIT STASH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-STASH-BASIC-USE"><span class="nav-number">3.2.2.</span> <span class="nav-text">GIT STASH - BASIC USE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ADVANCED-STASHING-KEEPING-FILES"><span class="nav-number">3.2.3.</span> <span class="nav-text">ADVANCED STASHING - KEEPING FILES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ADVANCED-STASHING-OPERATIONS"><span class="nav-number">3.2.4.</span> <span class="nav-text">ADVANCED STASHING - OPERATIONS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ADVANCED-STASHING-CLEANING-THE-STASH"><span class="nav-number">3.2.5.</span> <span class="nav-text">ADVANCED STASHING - CLEANING THE STASH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#EXAMINING-STASH-CONTENTS-GIT-SHOW"><span class="nav-number">3.2.6.</span> <span class="nav-text">EXAMINING STASH CONTENTS - GIT SHOW</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-STASH-WHAT-I-USE"><span class="nav-number">3.2.7.</span> <span class="nav-text">GIT STASH - WHAT I USE</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-Staging-amp-Stashing"><span class="nav-number">3.3.</span> <span class="nav-text">Exercise: Staging &amp; Stashing</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#References-Commits-Branches"><span class="nav-number">4.</span> <span class="nav-text">References, Commits, Branches</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#References-pointers-to-commits"><span class="nav-number">4.1.</span> <span class="nav-text">References(pointers to commits)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#THREE-TYPES-OF-GIT-REFERENCES"><span class="nav-number">4.1.1.</span> <span class="nav-text">THREE TYPES OF GIT REFERENCES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHAT’S-A-BRANCH"><span class="nav-number">4.1.2.</span> <span class="nav-text">WHAT’S A BRANCH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHAT-IS-HEAD"><span class="nav-number">4.1.3.</span> <span class="nav-text">WHAT IS HEAD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SAMPLE-REPO-A-SIMPLE-BLOG"><span class="nav-number">4.1.4.</span> <span class="nav-text">SAMPLE REPO - A SIMPLE BLOG</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CURRENT-REPO-STATE"><span class="nav-number">4.1.5.</span> <span class="nav-text">CURRENT REPO STATE</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tags-amp-Annotated-Tags"><span class="nav-number">4.2.</span> <span class="nav-text">Tags &amp; Annotated Tags</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#LIGHTWEIGHT-TAGS"><span class="nav-number">4.2.1.</span> <span class="nav-text">LIGHTWEIGHT TAGS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ANNOTATED-TAGS-GIT-TAG-A"><span class="nav-number">4.2.2.</span> <span class="nav-text">ANNOTATED TAGS: GIT TAG -A</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WORKING-WITH-TAGS"><span class="nav-number">4.2.3.</span> <span class="nav-text">WORKING WITH TAGS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TAGS-amp-BRANCHES"><span class="nav-number">4.2.4.</span> <span class="nav-text">TAGS &amp; BRANCHES</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Detached-Head-amp-Dangling-Commits"><span class="nav-number">4.3.</span> <span class="nav-text">Detached Head &amp; Dangling Commits</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#HEAD-LESS-DETACHED-HEAD"><span class="nav-number">4.3.1.</span> <span class="nav-text">HEAD-LESS / DETACHED HEAD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DANGLING-COMMITS"><span class="nav-number">4.3.2.</span> <span class="nav-text">DANGLING COMMITS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-References"><span class="nav-number">4.4.</span> <span class="nav-text">Exercise: References</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Merging-amp-Rebasing"><span class="nav-number">5.</span> <span class="nav-text">Merging &amp; Rebasing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Merging-amp-Fast-Forward"><span class="nav-number">5.1.</span> <span class="nav-text">Merging &amp; Fast Forward</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#UNDER-THE-HOOD-MERGE-COMMITS-ARE-JUST-COMMITS"><span class="nav-number">5.1.1.</span> <span class="nav-text">UNDER THE HOOD - MERGE COMMITS ARE JUST COMMITS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FAST-FORWARD"><span class="nav-number">5.1.2.</span> <span class="nav-text">FAST FORWARD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-MERGE-–NO-FF-NO-FAST-FORWARD"><span class="nav-number">5.1.3.</span> <span class="nav-text">GIT MERGE –NO-FF (NO FAST FORWARD)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Merge-Conflicts"><span class="nav-number">5.2.</span> <span class="nav-text">Merge Conflicts</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RERERE-REUSE-RECORDED-RESOLUTION"><span class="nav-number">5.2.1.</span> <span class="nav-text">GIT RERERE - REUSE RECORDED RESOLUTION</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-Merging-amp-ReReRe"><span class="nav-number">5.3.</span> <span class="nav-text">Exercise: Merging &amp; ReReRe</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#History-amp-Diffs"><span class="nav-number">6.</span> <span class="nav-text">History &amp; Diffs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Useful-Commit-Message"><span class="nav-number">6.1.</span> <span class="nav-text">Useful Commit Message</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BAD-COMMIT-MESSAGES"><span class="nav-number">6.1.1.</span> <span class="nav-text">BAD COMMIT MESSAGES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GOOD-COMMITS-ARE-IMPORTANT"><span class="nav-number">6.1.2.</span> <span class="nav-text">GOOD COMMITS ARE IMPORTANT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ANATOMY-OF-A-GOOD-COMMIT"><span class="nav-number">6.1.3.</span> <span class="nav-text">ANATOMY OF A GOOD COMMIT</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Log"><span class="nav-number">6.2.</span> <span class="nav-text">Git Log</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-LOG-–SINCE"><span class="nav-number">6.2.1.</span> <span class="nav-text">GIT LOG –SINCE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-LOG-–FOLLOW"><span class="nav-number">6.2.2.</span> <span class="nav-text">GIT LOG –FOLLOW</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-LOG-–GREP"><span class="nav-number">6.2.3.</span> <span class="nav-text">GIT LOG –GREP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-LOG-DIFF-FILTER"><span class="nav-number">6.2.4.</span> <span class="nav-text">GIT LOG DIFF-FILTER</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-LOG-REFERENCING-COMMITS"><span class="nav-number">6.2.5.</span> <span class="nav-text">GIT LOG: REFERENCING COMMITS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REFERENCING-COMMITS"><span class="nav-number">6.2.6.</span> <span class="nav-text">REFERENCING COMMITS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Show-amp-Diffs"><span class="nav-number">6.3.</span> <span class="nav-text">Git Show &amp; Diffs</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-SHOW-LOOK-AT-A-COMMIT"><span class="nav-number">6.3.1.</span> <span class="nav-text">GIT SHOW: LOOK AT A COMMIT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DIFF"><span class="nav-number">6.3.2.</span> <span class="nav-text">DIFF</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#“DIFF”-BRANCHES"><span class="nav-number">6.3.3.</span> <span class="nav-text">“DIFF” BRANCHES</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-History-amp-Diffs"><span class="nav-number">6.4.</span> <span class="nav-text">Exercise: History &amp; Diffs</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fixing-Mistakes"><span class="nav-number">7.</span> <span class="nav-text">Fixing Mistakes</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Checkout"><span class="nav-number">7.1.</span> <span class="nav-text">Git Checkout</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-A-BRANCH"><span class="nav-number">7.1.1.</span> <span class="nav-text">WHAT HAPPENS WHEN YOU GIT CHECKOUT A BRANCH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-FILE"><span class="nav-number">7.1.2.</span> <span class="nav-text">WHAT HAPPENS WHEN YOU GIT CHECKOUT - - FILE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-CHECKOUT-OVERWRITE-FILES-WITH-STAGING-AREA-COPY"><span class="nav-number">7.1.3.</span> <span class="nav-text">GIT CHECKOUT: OVERWRITE FILES WITH STAGING AREA COPY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WHAT-HAPPENS-WHEN-YOU-GIT-CHECKOUT-FILE-1"><span class="nav-number">7.1.4.</span> <span class="nav-text">WHAT HAPPENS WHEN YOU GIT CHECKOUT  - - FILE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-CHECKOUT-FROM-A-SPECIFIC-COMMIT"><span class="nav-number">7.1.5.</span> <span class="nav-text">GIT CHECKOUT: FROM A SPECIFIC COMMIT</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Clean-amp-Reset"><span class="nav-number">7.2.</span> <span class="nav-text">Git Clean &amp; Reset</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-CLEAN"><span class="nav-number">7.2.1.</span> <span class="nav-text">GIT CLEAN</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RESET"><span class="nav-number">7.2.2.</span> <span class="nav-text">GIT RESET</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RESET-–SOFT-MOVE-HEAD"><span class="nav-number">7.2.3.</span> <span class="nav-text">RESET –SOFT: MOVE HEAD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RESET-–SOFT-RESULT"><span class="nav-number">7.2.4.</span> <span class="nav-text">RESET –SOFT: RESULT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RESET-–MIXED-MOVE-HEAD-COPY-FILES-TO-STAGE"><span class="nav-number">7.2.5.</span> <span class="nav-text">RESET –MIXED: MOVE HEAD, COPY FILES TO STAGE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RESET-–MIXED-RESULT"><span class="nav-number">7.2.6.</span> <span class="nav-text">RESET –MIXED: RESULT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RESET-–HARD-MOVE-HEAD-COPY-FILES-TO-STAGE-amp-WORKING"><span class="nav-number">7.2.7.</span> <span class="nav-text">RESET –HARD: MOVE HEAD, COPY FILES TO STAGE &amp; WORKING</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RESET-–HARD-RESULT"><span class="nav-number">7.2.8.</span> <span class="nav-text">RESET –HARD: RESULT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RESET-CHEAT-CHEAT"><span class="nav-number">7.2.9.</span> <span class="nav-text">GIT RESET  CHEAT CHEAT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#DANGER-GIT-RESET-CAN-CHANGE-HISTORY"><span class="nav-number">7.2.10.</span> <span class="nav-text">DANGER: GIT RESET CAN CHANGE HISTORY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RESET-–"><span class="nav-number">7.2.11.</span> <span class="nav-text">GIT RESET – </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RESET-–-RESULT"><span class="nav-number">7.2.12.</span> <span class="nav-text">GIT RESET – : RESULT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RESET-–-1"><span class="nav-number">7.2.13.</span> <span class="nav-text">GIT RESET  – </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RESET-–-RESULT-1"><span class="nav-number">7.2.14.</span> <span class="nav-text">GIT RESET  – : RESULT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-RESET-–-CHEAT-CHEAT"><span class="nav-number">7.2.15.</span> <span class="nav-text">GIT RESET  –  CHEAT CHEAT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UNDO-A-GIT-RESET-WITH-ORIG-HEAD"><span class="nav-number">7.2.16.</span> <span class="nav-text">UNDO A GIT RESET WITH ORIG_HEAD</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Revert"><span class="nav-number">7.3.</span> <span class="nav-text">Git Revert</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-REVERT-THE-“SAFE”-RESET"><span class="nav-number">7.3.1.</span> <span class="nav-text">GIT REVERT - THE “SAFE” RESET</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-REVERT-PICK-A-COMMIT-TO-UNDO"><span class="nav-number">7.3.2.</span> <span class="nav-text">GIT REVERT - PICK A COMMIT TO UNDO</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SUMMARY-COMMON-WAYS-OF-UNDOING-CHANGES"><span class="nav-number">7.3.3.</span> <span class="nav-text">SUMMARY: COMMON WAYS OF UNDOING CHANGES</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-Fixing-Git-Mistakes"><span class="nav-number">7.4.</span> <span class="nav-text">Exercise: Fixing Git Mistakes</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Rebase-amp-Amend"><span class="nav-number">8.</span> <span class="nav-text">Rebase &amp; Amend</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Amend"><span class="nav-number">8.1.</span> <span class="nav-text">Git Amend</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#AMEND-A-COMMIT"><span class="nav-number">8.1.1.</span> <span class="nav-text">AMEND A COMMIT</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#COMMITS-CAN’T-BE-EDITED"><span class="nav-number">8.1.2.</span> <span class="nav-text">COMMITS CAN’T BE EDITED</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rebase"><span class="nav-number">8.2.</span> <span class="nav-text">Rebase</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#WHAT-IS-REBASE-ANYWAY"><span class="nav-number">8.2.1.</span> <span class="nav-text">WHAT IS REBASE ANYWAY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REBASE-REWINDING-HEAD"><span class="nav-number">8.2.2.</span> <span class="nav-text">REBASE: REWINDING HEAD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REBASE-APPLY-NEW-COMMITS"><span class="nav-number">8.2.3.</span> <span class="nav-text">REBASE: APPLY NEW COMMITS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#POWER-OF-REBASING-REPLAY-COMMITS"><span class="nav-number">8.2.4.</span> <span class="nav-text">POWER OF REBASING - REPLAY COMMITS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#INTERACTIVE-REBASE-REBASE-I-OR-REBASE-–INTERACTIVE"><span class="nav-number">8.2.5.</span> <span class="nav-text">INTERACTIVE REBASE (REBASE -I OR REBASE –INTERACTIVE)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REBASE-OPTIONS"><span class="nav-number">8.2.6.</span> <span class="nav-text">REBASE OPTIONS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#EXAMPLE-REBASE"><span class="nav-number">8.2.7.</span> <span class="nav-text">EXAMPLE REBASE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TIP-USE-REBASE-TO-SPLIT-COMMITS"><span class="nav-number">8.2.8.</span> <span class="nav-text">TIP: USE REBASE TO SPLIT COMMITS</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fixup-amp-Autosquash"><span class="nav-number">8.3.</span> <span class="nav-text">Fixup &amp; Autosquash</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TIP-“AMEND”-ANY-COMMIT-WITH-FIXUP-amp-AUTOSQUASH"><span class="nav-number">8.3.1.</span> <span class="nav-text">TIP: “AMEND” ANY COMMIT WITH FIXUP &amp; AUTOSQUASH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FIXUP-amp-AUTOSQUASH-EXAMPLE"><span class="nav-number">8.3.2.</span> <span class="nav-text">FIXUP &amp; AUTOSQUASH EXAMPLE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REBASE-–EXEC-EXECUTE-A-COMMAND"><span class="nav-number">8.3.3.</span> <span class="nav-text">REBASE –EXEC (EXECUTE A COMMAND)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Abort"><span class="nav-number">8.4.</span> <span class="nav-text">Abort</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#PULL-THE-RIP-CORD"><span class="nav-number">8.4.1.</span> <span class="nav-text">PULL THE RIP CORD</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REBASE-PRO-TIP"><span class="nav-number">8.4.2.</span> <span class="nav-text">REBASE PRO TIP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REBASE-ADVANTAGES"><span class="nav-number">8.4.3.</span> <span class="nav-text">REBASE ADVANTAGES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#COMMIT-EARLY-amp-OFTEN-VS-GOOD-COMMITS"><span class="nav-number">8.4.4.</span> <span class="nav-text">COMMIT EARLY &amp; OFTEN VS GOOD COMMITS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#WARNING-NEVER-REWRITE-PUBLIC-HISTORY"><span class="nav-number">8.4.5.</span> <span class="nav-text">WARNING: NEVER REWRITE PUBLIC HISTORY</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-Git-Rebase-amp-Amend"><span class="nav-number">8.5.</span> <span class="nav-text">Exercise: Git Rebase &amp; Amend</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Forks-amp-Remote-Repos"><span class="nav-number">9.</span> <span class="nav-text">Forks &amp; Remote Repos</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Github-vs-Git"><span class="nav-number">9.1.</span> <span class="nav-text">Github vs. Git</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#GITHUB-VS-GIT-THE-KEY-IS-COLLABORATION"><span class="nav-number">9.1.1.</span> <span class="nav-text">GITHUB VS GIT - THE KEY IS COLLABORATION</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Remotes"><span class="nav-number">9.2.</span> <span class="nav-text">Remotes</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#CLONE-REPOSITORY"><span class="nav-number">9.2.1.</span> <span class="nav-text">CLONE REPOSITORY</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#VIEWING-REMOTES"><span class="nav-number">9.2.2.</span> <span class="nav-text">VIEWING REMOTES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CLONED-SOMEONE-ELSE’S-REPOSITORY"><span class="nav-number">9.2.3.</span> <span class="nav-text">CLONED SOMEONE ELSE’S REPOSITORY</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Forks-Pull-Requests-amp-Upstreams"><span class="nav-number">9.3.</span> <span class="nav-text">Forks, Pull Requests &amp; Upstreams</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FORK"><span class="nav-number">9.3.1.</span> <span class="nav-text">FORK</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#MERGING-CHANGES-TO-ORIGINAL-PROJECT-FROM-A-FORK"><span class="nav-number">9.3.2.</span> <span class="nav-text">MERGING CHANGES TO ORIGINAL PROJECT FROM A FORK</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#STAYING-UP-TO-DATE"><span class="nav-number">9.3.3.</span> <span class="nav-text">STAYING UP TO DATE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#UPSTREAM"><span class="nav-number">9.3.4.</span> <span class="nav-text">UPSTREAM</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Github-Workflow"><span class="nav-number">9.4.</span> <span class="nav-text">Github Workflow</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#TRIANGULAR-WORKFLOW"><span class="nav-number">9.4.1.</span> <span class="nav-text">TRIANGULAR WORKFLOW</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#TRACKING-BRANCHES"><span class="nav-number">9.4.2.</span> <span class="nav-text">TRACKING BRANCHES</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FETCH"><span class="nav-number">9.4.3.</span> <span class="nav-text">FETCH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PULL"><span class="nav-number">9.4.4.</span> <span class="nav-text">PULL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PUSH"><span class="nav-number">9.4.5.</span> <span class="nav-text">PUSH</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#GIT-PULL-—REBASE"><span class="nav-number">9.4.6.</span> <span class="nav-text">GIT PULL —REBASE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#NOTE-TAGS"><span class="nav-number">9.4.7.</span> <span class="nav-text">NOTE: TAGS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#CONTRIBUTING-TO-OPEN-SOURCE-PROJECTS-PULL-REQUESTS"><span class="nav-number">9.4.8.</span> <span class="nav-text">CONTRIBUTING TO OPEN SOURCE PROJECTS - PULL REQUESTS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ADVICE"><span class="nav-number">9.4.9.</span> <span class="nav-text">ADVICE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PUSHING-MERGING-YOUR-CHANGES-BACK-TO-A-REMOTE"><span class="nav-number">9.4.10.</span> <span class="nav-text">PUSHING/MERGING YOUR CHANGES BACK TO A REMOTE</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Exercise-Forks-amp-Remote-Repos-Exercise"><span class="nav-number">9.5.</span> <span class="nav-text">Exercise: Forks &amp; Remote Repos Exercise</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Danger-Zone"><span class="nav-number">10.</span> <span class="nav-text">Danger Zone</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Local-amp-Remote-Destructive-Operations"><span class="nav-number">10.1.</span> <span class="nav-text">Local &amp; Remote Destructive Operations</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#LOCAL-DESTRUCTIVE-OPERATIONS"><span class="nav-number">10.1.1.</span> <span class="nav-text">LOCAL DESTRUCTIVE OPERATIONS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#REMOTE-DESTRUCTIVE-OPERATIONS-REWRITING-HISTORY"><span class="nav-number">10.1.2.</span> <span class="nav-text">REMOTE DESTRUCTIVE OPERATIONS - REWRITING HISTORY</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Recover-Lost-Work"><span class="nav-number">10.2.</span> <span class="nav-text">Recover Lost Work</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ORIG-HEAD-TO-UNDO-A-MERGE"><span class="nav-number">10.2.1.</span> <span class="nav-text">ORIG_HEAD TO UNDO A MERGE</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#USING-GIT-REFLOG-AND-‘-‘-SYNTAX"><span class="nav-number">10.2.2.</span> <span class="nav-text">USING GIT REFLOG AND ‘@‘ SYNTAX</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#GitHub"><span class="nav-number">11.</span> <span class="nav-text">GitHub</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GitHub-Shortcuts"><span class="nav-number">11.1.</span> <span class="nav-text">GitHub Shortcuts</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Continuous-Intergration"><span class="nav-number">11.2.</span> <span class="nav-text">Continuous Intergration</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Advanced-GitHub"><span class="nav-number">12.</span> <span class="nav-text">Advanced GitHub</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GitHub-API"><span class="nav-number">12.1.</span> <span class="nav-text">GitHub API</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">刘勇</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
