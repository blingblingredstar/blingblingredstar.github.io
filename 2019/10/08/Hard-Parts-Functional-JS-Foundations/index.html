<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Introduction Course overview  Principles of JavaScript Higher order functions Arrow and anonymous functions reduce, filter and chaining higher order functions Function composition &amp;amp; pure functions">
<meta name="keywords" content="JavaScript,FrontEndMasters,Point-Free,Functional Programming,Partial Application,Closure">
<meta property="og:type" content="article">
<meta property="og:title" content="Hard Parts: Functional JS Foundations">
<meta property="og:url" content="http://yoursite.com/2019/10/08/Hard-Parts-Functional-JS-Foundations/index.html">
<meta property="og:site_name" content="刘勇的博客">
<meta property="og:description" content="Introduction Course overview  Principles of JavaScript Higher order functions Arrow and anonymous functions reduce, filter and chaining higher order functions Function composition &amp;amp; pure functions">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-10-08T02:06:52.047Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hard Parts: Functional JS Foundations">
<meta name="twitter:description" content="Introduction Course overview  Principles of JavaScript Higher order functions Arrow and anonymous functions reduce, filter and chaining higher order functions Function composition &amp;amp; pure functions">






  <link rel="canonical" href="http://yoursite.com/2019/10/08/Hard-Parts-Functional-JS-Foundations/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Hard Parts: Functional JS Foundations | 刘勇的博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">刘勇的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/08/Hard-Parts-Functional-JS-Foundations/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘勇">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://img.zcool.cn/community/04c6fd55fa1a4a000001b19c79e625.jpg@160w_160h_1c_1e_1o_100sh.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="刘勇的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Hard Parts: Functional JS Foundations

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-10-08 10:02:44 / 修改时间：10:06:52" itemprop="dateCreated datePublished" datetime="2019-10-08T10:02:44+08:00">2019-10-08</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/学习笔记/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul>
<li><p>Course overview</p>
<ol>
<li>Principles of JavaScript</li>
<li>Higher order functions</li>
<li>Arrow and anonymous functions</li>
<li>reduce, filter and chaining higher order functions</li>
<li>Function composition &amp; pure functions</li>
<li>Closure</li>
<li>Function decoration</li>
<li>Partial application and currying</li>
</ol>
</li>
<li><p>Functional programming</p>
<ul>
<li>a paradigm for structuring our complex code<a id="more"></a></li>
</ul>
</li>
<li><p>Let’s suppose we have a quiz game we’re building</p>
<ul>
<li>Every line of code either saves data to memory(e.g.a user’s score) or uses that data(e.g.increase that user’s score)</li>
<li>But with 1000s of lines of code - every line of code can potentially use(and depend) on that data</li>
<li>High risk - every time I want to change any line, I have to consider whether it could affect other lines(and when I miss something, I get bugs)</li>
<li>What’s the answer?</li>
</ul>
</li>
<li><p>The answer has been <em>functions</em></p>
<ul>
<li>Compartmentalise - Reduce the potential impact of any given line to maybe 10 other lines(inside the function)</li>
<li>But even within a 10 line function, ‘reasoning’ through what each line does is hard - &amp; the code may still have affects outside the function(via global variables)</li>
<li>Functions as we know them may not be enough!</li>
</ul>
</li>
<li><p>Imagine if we could structure our code into individual pieces where almost every single line is self-contained</p>
<ul>
<li>The only thing any given line depends on are inputs(explicitly stated in that very line)</li>
<li>The only consequences of the line would be its output(explicitly stated in that very line)</li>
<li>And each line could get a nice human-readabel label for when we use it!</li>
<li>This could transform how we write code, debug it and read about others’ code</li>
<li>But how could we do it?!</li>
</ul>
</li>
<li><p>Functional programming</p>
<ul>
<li>Tiny functions: Save every single line(or few lines) as its own function</li>
<li>No consequences except on that line: Each function’s only ‘consequence’ is to have its result given to specifically the next line of code(‘function call’) and not to any other lines</li>
<li>Recombine/compose: Build up our application by using these small blocks of self-contained code combining them up line-by-line by referring to their human-readable name</li>
</ul>
</li>
</ul>
<h3 id="Functional-Programming-Benefits-amp-Concepts"><a href="#Functional-Programming-Benefits-amp-Concepts" class="headerlink" title="Functional Programming Benefits &amp; Concepts"></a>Functional Programming Benefits &amp; Concepts</h3><ul>
<li>We could produce a beautiful ‘to do list’ of our code</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">  getPlayerName,</span><br><span class="line">  getFirstName,</span><br><span class="line">  properCase,</span><br><span class="line">  addUserLabel,</span><br><span class="line">  createUserTemplate</span><br><span class="line">)([&#123;<span class="attr">name</span>: <span class="string">'will sentance'</span>, <span class="attr">score</span>: <span class="number">3</span>&#125;])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>And render to the webpage</p>
</li>
<li><p>Functional programming techniques - How do we recombine?</p>
</li>
<li><p>Combining our functions is going to require a ton of interesting techniques to:</p>
<ul>
<li>rejoin these ‘lines’ of code (tiny functions) into full-sized tasks:</li>
<li>make it easy to reuse these functions all over the place</li>
<li>ensure that the tiny functions truly are self-contained</li>
</ul>
</li>
<li><p>(1) Higher order functions, (2) Function composition</p>
<ul>
<li>A lot these atoms of code(tiny functions) will be reusable<ul>
<li>They’re small enough that they’re tasks like incrementing a number, looping through an array</li>
<li>We want to write once, use again and again - even for tasks that are not quite identical - keeping our code DRY</li>
</ul>
</li>
</ul>
</li>
<li><p>(3) Pure functions, Immutability of state</p>
<ul>
<li>We cannot have our lines of code rely on any external data except their explicitly stated inputs</li>
<li>It’s especially important when you’re reusing/recombining lots of these little single-step functions in lots of totally different scenarios - they better be self contained!</li>
</ul>
</li>
<li><p>(3)Closure, (5)Function Decoration (6)Partial application &amp; Currying</p>
<ul>
<li>We will need ways to:<ul>
<li>Adjust the functions in case they don’t quite fit together as initially saved</li>
<li>Give our functions extra features without having to write a new function from scratch</li>
</ul>
</li>
</ul>
</li>
<li><p>If we can do all that, our code will become:</p>
<ul>
<li>More readable - every line of code has a name that indicates its goal known as ‘declarative’ programming</li>
<li>Easier to debug - each line of code is an individual unit with clear input and output - no unexcepted consequences of using that line(‘function’)</li>
<li>Easier to add features - most new things we want to do are combinations of something we’ve done elsewhere in our app</li>
</ul>
</li>
<li><p>Our end and beginning</p>
<ul>
<li>Functions become reusable, versatile, flexible piece of code - a series of independent self-contained readable and predictable steps passing data from one to the next</li>
<li>But it all starts with us being confident with the core principles of JavaScript</li>
</ul>
</li>
</ul>
<h2 id="JavaScript-Principles-Review"><a href="#JavaScript-Principles-Review" class="headerlink" title="JavaScript Principles Review"></a>JavaScript Principles Review</h2><h3 id="Executing-JavaScript-Code-A-Review"><a href="#Executing-JavaScript-Code-A-Review" class="headerlink" title="Executing JavaScript Code: A Review"></a>Executing JavaScript Code: A Review</h3><ul>
<li>What happens when JavaScript executes(runs) my code?</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">3</span></span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function">(<span class="params">inputNumber</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> result = inputNumber * <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> name = <span class="string">'Will'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Code is saved(defined) in functions - to be run later</li>
<li><p>As soon as we start running our code, we create a <em>global execution context</em></p>
<ul>
<li>Thread of execution(parsing and executing the code line after time)</li>
<li>Live memory of variables with data(known as a Global Variable Environment)</li>
</ul>
</li>
<li><p>Running/calling/invoking a function</p>
<ul>
<li>This is not the same as defining a function</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">3</span></span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function">(<span class="params">inputNumber</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> result = inputNumber * <span class="number">2</span></span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> output = multiplyBy2(num)</span><br><span class="line"><span class="keyword">const</span> newOutput = multiplyBy2(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>When you execute a function you create a new execution context comprising:<ol>
<li>The thread of execution(we go through the code in the function line by line)</li>
<li>A local memory(‘Variable environment’) where anything defined in the funciton is stored</li>
</ol>
</li>
</ul>
<h3 id="Call-Stack-Review"><a href="#Call-Stack-Review" class="headerlink" title="Call Stack Review"></a>Call Stack Review</h3><ul>
<li>We keep track of the functions being called in JavaScript with a Call Stack<ul>
<li>Tracks which exection context we are in - that is, what function is currently being run and where to return to after an execution context is popped off the stack</li>
<li>One global execution context, multiple function contexts</li>
</ul>
</li>
</ul>
<h3 id="Functions-Review"><a href="#Functions-Review" class="headerlink" title="Functions Review"></a>Functions Review</h3><ul>
<li>Suppose we have a function copyArrayAndMultiplyBy2. Let’s diagram it out</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyArrayAndMultiplyBy2 = <span class="function">(<span class="params">array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    output.push(array[i] * <span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> result = copyArrayAndMultiplyBy2(myArray)</span><br></pre></td></tr></table></figure>
<ul>
<li>What if we want to copy array and divide by 2?</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyArrayAndDevideBy2 = <span class="function">(<span class="params">array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    output.push(array[i] / <span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> myArray = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">const</span> result = copyArrayAndDevideBy2(myArray)</span><br></pre></td></tr></table></figure>
<h2 id="Higher-Order-Functions"><a href="#Higher-Order-Functions" class="headerlink" title="Higher Order Functions"></a>Higher Order Functions</h2><h3 id="The-Problem-Repetitive-Functions"><a href="#The-Problem-Repetitive-Functions" class="headerlink" title="The Problem: Repetitive Functions"></a>The Problem: Repetitive Functions</h3><ul>
<li><p>Or add 3?</p>
</li>
<li><p>What principle are we breaking?</p>
</li>
<li><p>We’re breaking DRY</p>
</li>
<li>What could we do?</li>
</ul>
<h3 id="Generalizing-Functions"><a href="#Generalizing-Functions" class="headerlink" title="Generalizing Functions"></a>Generalizing Functions</h3><ul>
<li>We could generalize our function so that we pass in our specific instruction only when we run the copyArrayAndManipulate function!</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyArrayAndManipulate = <span class="function">(<span class="params">array, instructions</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    output.push(instructions(array[i]))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function">(<span class="params">input</span>) =&gt;</span> input * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = copyArrayAndManipulate([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], multiplyBy2)</span><br></pre></td></tr></table></figure>
<h3 id="Higher-Order-Functions-Review"><a href="#Higher-Order-Functions-Review" class="headerlink" title="Higher-Order Functions Review"></a>Higher-Order Functions Review</h3><ul>
<li><p>How was this possible?</p>
<ul>
<li>Functions in JavaScript = first class objects</li>
</ul>
</li>
<li><p>They can co-exist with and can be treated like any other JavaScript object</p>
<ol>
<li>assigned to variables and properties of other objects</li>
<li>passed as arguments into functions</li>
<li>returned as values from functions</li>
</ol>
</li>
<li><p>Callback vs. Higher-order function</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyArrayAndManipulate = <span class="function">(<span class="params">array, instructions</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    output.push(instructions(array[i]))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function">(<span class="params">input</span>) =&gt;</span> input * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = copyArrayAndManipulate([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], multiplyBy2)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>The function we pass in is a callback function. The outer function that takes in the function(our callback) is a higher-order function</p>
</li>
<li><p>Higher-order function</p>
<ul>
<li>Take in a function or passes out a function</li>
<li>Just a term to describe these functions - any function that does it we call that - but there is nothing different about them inherently</li>
</ul>
</li>
<li><p>Higher order functions</p>
<ul>
<li>Easier to add features - we don’t need to build a brand new <code>copyArrayAndAdd3</code> function - just use <code>copyArrayAndManipulate</code> with the input of <code>add3</code>. Higher order functions keep our code DRY</li>
<li>More readable - <code>copyArrayManipulate(multiplyBy2)</code> - I know what this is doing more readily than the for loop syle</li>
<li>Easier to debug - As long as we understand what’s happening under-the-hood</li>
</ul>
</li>
</ul>
<h3 id="Higher-Order-Functions-Pair-Programming"><a href="#Higher-Order-Functions-Pair-Programming" class="headerlink" title="Higher-Order Functions Pair Programming"></a>Higher-Order Functions Pair Programming</h3><p><a href="http://csbin.io/functional" target="_blank" rel="noopener">challenges</a></p>
<h3 id="Arrow-amp-Anonymous-Functions"><a href="#Arrow-amp-Anonymous-Functions" class="headerlink" title="Arrow &amp; Anonymous Functions"></a>Arrow &amp; Anonymous Functions</h3><ul>
<li>Arrow functions in ES2015</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123; <span class="keyword">return</span> input*<span class="number">2</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>So where the function is a single expression to evaluate and then return, ES2015 lets us remove the {} and return keyword</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function">(<span class="params">input</span>) =&gt;</span> input * <span class="number">2</span></span><br><span class="line"><span class="keyword">const</span> output = multiplyBy2(<span class="number">3</span>) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<ul>
<li>We can even remove the parenthesis if there’s only 1 parameter (expected input)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function"><span class="params">input</span> =&gt;</span> input * <span class="number">2</span></span><br><span class="line"><span class="keyword">const</span> output = multiplyBy2(<span class="number">3</span>) <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>Arrow functions fit our our functional programming goals</p>
<ul>
<li>Every line is an independent, labelled piece of code where we know exactly what data it uses and affects</li>
<li>Therefore a lot of our functions are going to be just<ol>
<li>Take Input</li>
<li>Use the input in some way</li>
<li>Return that as the output in the same line.</li>
</ol>
</li>
<li>Arrow functions let us condense our functions to show this</li>
</ul>
</li>
<li><p>Let’s use our shortened version of our callback function multiplyBy2</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copyArrayAndManipulate = <span class="function">(<span class="params">array, instructions</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    output.push(instructions(array[i]))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function"><span class="params">input</span> =&gt;</span> input * <span class="number">2</span></span><br><span class="line"><span class="keyword">const</span> result = copyArrayAndManipulate([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], multiplyBy2)</span><br></pre></td></tr></table></figure>
<ul>
<li>We can even insert our callback function ‘multiplyBy2’ directly (‘anonymously’)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = copyArrayAndManipulate([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], input =&gt; input * <span class="number">2</span>);</span><br><span class="line"><span class="comment">//No multiplyBy2 function independently declared/saved</span></span><br></pre></td></tr></table></figure>
<h2 id="Map-amp-Reduce"><a href="#Map-amp-Reduce" class="headerlink" title="Map &amp; Reduce"></a>Map &amp; Reduce</h2><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><ul>
<li>Developers tend to call copyArrayAndManipulate, map</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="function">(<span class="params">array, instructions</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> output = []</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    output.push(instructions(array[i]))</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> output</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = map([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], input =&gt; input * <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Let’s diagram it in a different way and talk about the purpose of diagramming</li>
</ul>
<h3 id="Reduce-Introduction"><a href="#Reduce-Introduction" class="headerlink" title="Reduce Introduction"></a>Reduce Introduction</h3><ul>
<li><p>reduce and reducers</p>
<ul>
<li>The most versatile higher order function of all</li>
<li>Takes a mental shift to look at problems through the reduce lens</li>
<li>Can even enable function composition(to come)</li>
</ul>
</li>
<li><p>We have already seen ‘reduction’ in action</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = map([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], input =&gt; input * <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>What is map actually doing?(accumulator, push etc)</p>
</li>
<li><p>通过reduce，我们可以将累加值与循环遍历数组中的每一项结合成一个值，并将其作为累加值用于下一个数组的项。</p>
</li>
<li><p>map对应数组与新数组中的项的一一映射的操作，reduce对应数组与累加值的结合操作</p>
</li>
<li><p>How else could we ‘combine and use, combine and use’?</p>
<ul>
<li>Take the number 0 and combine with array[0] by adding, take that combined value and combine with array[1] by adding and so forth…</li>
<li>Take the empty string ‘’ and combine with array[0] by appending, take that combined value and combine with array[1] by appending and so forth…</li>
</ul>
</li>
<li><p>We’d want to write our function so that it could handle:</p>
<ul>
<li>Any ‘accumulator’(array, string, number)</li>
<li>Any combining logic/code/functionality(the ‘reducer’)</li>
</ul>
</li>
</ul>
<h3 id="Reduce-Example"><a href="#Reduce-Example" class="headerlink" title="Reduce Example"></a>Reduce Example</h3><ul>
<li>This function is known as reduce - it can handle a remarkable range of tasks</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduce = <span class="function">(<span class="params">array, howToCombine, buildingUp</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">    buildingUp = howToCombine(buildingUp, array[i])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> buildingUp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b</span><br><span class="line"><span class="keyword">const</span> summed = reduce([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], add, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Should be called ‘reduce from 2 things to 1 repeatedly, inside’</li>
</ul>
<h3 id="Built-in-Array-Methods"><a href="#Built-in-Array-Methods" class="headerlink" title="Built-in Array Methods"></a>Built-in Array Methods</h3><ul>
<li>Interlude - arrays, objects and functions have access to ‘methods’<ul>
<li>‘methods’ are functions that they can use on themselves</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">array.push(<span class="number">10</span>) <span class="comment">// where's this push method come from?</span></span><br></pre></td></tr></table></figure>
<ul>
<li>The ‘methods’ that arrays get are stored in an object that every array has access to when you refer to the array, followed by a ‘dot’ and the method name(see OOP JS Hard Parts)</li>
<li><p>The link to this object full of shared methods is on the <code>__proto__</code> property</p>
</li>
<li><p>JavaScript has a built-in version of reduce available to all arrays</p>
</li>
<li><p>Reminder of our version of reduce</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b</span><br><span class="line"><span class="keyword">const</span> summed = ([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], add, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>With the built-in version, the array is inserted into the reduce function automatically as the first input/argument. But they produce the same result</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> summed = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].reduce(add, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><ul>
<li>In fact we get a number of built-in higher order functions in JavaScript<ul>
<li>map, forEach, filter, flatMap, reduce, reduceRight</li>
<li>All ‘iterate’ through each element of the array and run a function on each</li>
<li>But behave differently - MDN guide us</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">const</span> greaterThan2 = <span class="function"><span class="params">num</span> =&gt;</span> num &gt; <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> filteredArray = array.filter(greaterThan2)</span><br></pre></td></tr></table></figure>
<h3 id="Chaining-Array-Methods"><a href="#Chaining-Array-Methods" class="headerlink" title="Chaining Array Methods"></a>Chaining Array Methods</h3><ul>
<li>And we can ‘chain’ these higher order functions - pass the output of one as the input of the next</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">const</span> greaterThan2 = <span class="function"><span class="params">num</span> =&gt;</span> num &gt; <span class="number">2</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b</span><br><span class="line"><span class="keyword">const</span> sumOfGreaterThan2 = array.filter(greaterThan2).reduce(add, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>The output of each higher order function(HOF), where it’s an array, has access to all the HOFs(map, filter, reduce) through the prototype chain</li>
</ul>
<h2 id="Composition"><a href="#Composition" class="headerlink" title="Composition"></a>Composition</h2><h3 id="Function-Composition"><a href="#Function-Composition" class="headerlink" title="Function Composition"></a>Function Composition</h3><ul>
<li><p>reduce, filter and chaining higher order functions</p>
<ul>
<li>Easier to add features - we can reuse filter in a 1000 different filtering scenarios and can chain it up with other functions</li>
<li>More readable - <code>array.filter(greaterThan2).reduce(add, 0)</code> - more readable than individual steps with explicit loop</li>
<li>Easier to debug - As long as we understand what’s happening under-the-hood</li>
</ul>
</li>
<li><p>And reduce is going to enable something even more powerful</p>
</li>
<li><p>Function composition</p>
<ul>
<li>Chaining with dots relies on JavaScript prototype feature - functions return arrays which have access to all the HOFs(map, reduce, filter)</li>
<li>I’m passing my output into the next function automatically</li>
<li>What if I want to chain functions that just return a regular output</li>
<li>e.g. multiplyBy2, add3, divideBy5</li>
</ul>
</li>
<li><p>We could keep track with global variables</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span></span><br><span class="line"><span class="keyword">const</span> add3 = <span class="function"><span class="params">num</span> =&gt;</span> num + <span class="number">3</span></span><br><span class="line"><span class="keyword">const</span> divideBy5 = <span class="function"><span class="params">num</span> =&gt;</span> num / <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initialResult = multiplyBy2(<span class="number">11</span>)</span><br><span class="line"><span class="keyword">const</span> nextStep = add3(initialResult)</span><br><span class="line"><span class="keyword">const</span> finalStep = divideBy5(nextStep)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'finalStep'</span>, finalStep)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>But that risky, people can overwrite</p>
</li>
<li><p>Or we can use the fact that JavaScript evaluates every function call before it moves on</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = divideBy5(add3(multiplyBy2(<span class="number">11</span>)))</span><br></pre></td></tr></table></figure>
<ul>
<li>Now this is pretty unreadable though</li>
<li><p>(Btw This relies on our functions being ‘referentially transparent’ - we can replace the call to the function with its return value with no consquences on our app)</p>
</li>
<li><p>We’re combining a function with a value to get a result then combining that result with another function to get another result and so on</p>
</li>
<li><p>What’s this remind you of?</p>
</li>
</ul>
<h3 id="Function-Composition-with-Reduce"><a href="#Function-Composition-with-Reduce" class="headerlink" title="Function Composition with Reduce"></a>Function Composition with Reduce</h3><ul>
<li>Reduce as the most versatile function in programming</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> runFunctionOnInput = <span class="function">(<span class="params">input, fn</span>) =&gt;</span> fn(input)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = reduce([multiplyBy2, add3, divideBy5], runFunctionOnInput, <span class="number">11</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Listing out our ‘lines of code’(functions) by name with each one’s consequence limited to only affect the next ‘line’(function call/invocation)</p>
</li>
<li><p>Function composition</p>
<ul>
<li>Easier to add features - This is the essential aspect of functional JavaScript - being able to list of our units of code by name and have them run one by one as independent, self contained pieces</li>
<li>More readable - reduce here is often wrappen in compose to say ‘combine up’ the functions to run our data through them one by one. The style is ‘point free’</li>
<li>Easier to debug - I know exactly the line of code my bug is in - it’s got a label</li>
</ul>
</li>
</ul>
<h2 id="Purity-amp-Immutability"><a href="#Purity-amp-Immutability" class="headerlink" title="Purity &amp; Immutability"></a>Purity &amp; Immutability</h2><h3 id="Pure-Functions"><a href="#Pure-Functions" class="headerlink" title="Pure Functions"></a>Pure Functions</h3><ul>
<li>Functions as tiny units to be combined and run automactically must be highly ppredictable</li>
<li>We rely on using their evaluated result to pass the input to the next unit of code(automatically). Any ‘side effects’ would destory this</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">10</span></span><br><span class="line"><span class="keyword">const</span> add3 = <span class="function"><span class="params">x</span> =&gt;</span> &#123;</span><br><span class="line">  num++ <span class="comment">// side effect</span></span><br><span class="line">  <span class="keyword">return</span> x + <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line">add3(<span class="number">7</span>)</span><br></pre></td></tr></table></figure>
<h3 id="Immutability"><a href="#Immutability" class="headerlink" title="Immutability"></a>Immutability</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = array.map(multiplyBy2) <span class="comment">// [2, 4, 6]</span></span><br><span class="line"><span class="keyword">const</span> newResult = array.map(multiplyBy2) <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>
<p>If we want the only consequence of map to be on that line and to achieve ‘referential transparency’(I can the function call with its output and it’s the same) - then I need to perserve my data and not manipulate it.</p>
<p>JavaScript passed a reference(‘link back’) to the arr when it’s inserted into the function map. If we change(‘mutate’) the input array our function is not pure - it’s unpredictable - I can’t figure out what it does just be reading it and looking at its output there in that line - undoes all our hard work</p>
<h3 id="Pure-Functions-amp-Immutability-Review"><a href="#Pure-Functions-amp-Immutability-Review" class="headerlink" title="Pure Functions &amp; Immutability Review"></a>Pure Functions &amp; Immutability Review</h3><ul>
<li>Easier to add features - Every saved function be safely used in new combinations, confident it won’t break other parts of the app</li>
<li>More readable - Every line is ‘complete’ - it’s fully descriptive - exactly what it does is discoverable its name and limited to that input/output</li>
<li>Easier to debug - No 1000s of lines of interdependence</li>
</ul>
<h2 id="Closure"><a href="#Closure" class="headerlink" title="Closure"></a>Closure</h2><ul>
<li>Most esoteric concept in JavaScript</li>
<li>Functions are our units to build with but they’re limited - they forget everything each time they finish running - with no global state</li>
<li><p>Imagine if we could give our functions memories</p>
</li>
<li><p>Reminding ourselves of how functions actually work</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = multiplyBy2(<span class="number">7</span>)</span><br><span class="line"><span class="keyword">const</span> newoutput = multiplyBy2(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>No memory of the previous execution - imagine if we could give our functions permanent memories</li>
<li><p>It begins with returning a function from a function</p>
</li>
<li><p>Let’s call(run) our generated function with the input 3</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> functionCreator = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> add3 = <span class="function"><span class="params">num</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> result = num + <span class="number">3</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> add3</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> generatedFunc = functionCreator()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = generatedFunc(<span class="number">2</span>) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<h3 id="Closure-Under-the-Hood"><a href="#Closure-Under-the-Hood" class="headerlink" title="Closure Under the Hood"></a>Closure Under the Hood</h3><h3 id="Closure-Clarifications"><a href="#Closure-Clarifications" class="headerlink" title="Closure Clarifications"></a>Closure Clarifications</h3><h3 id="Inner-Function"><a href="#Inner-Function" class="headerlink" title="Inner Function"></a>Inner Function</h3><ul>
<li>Calling a function inside the function call in which it was defined</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> outer = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> incrementCounter = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    counter++</span><br><span class="line">  &#125;</span><br><span class="line">  incrementCounter()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">outer()</span><br></pre></td></tr></table></figure>
<ul>
<li><p>What determines what data your function have access to when you call the function? Where we call it?</p>
</li>
<li><p>But what if we call our function outside of where it was defined</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> outer = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> incrementCounter = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    counter++</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">outer()</span><br><span class="line">incrementCounter()</span><br></pre></td></tr></table></figure>
<ul>
<li><p>What happens here?</p>
</li>
<li><p>There is a way to run a function outside where it was defined</p>
<ul>
<li>Without an error - we return the inner function and assign it to a new global label</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> outer = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> incrementCounter = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    counter++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> incrementCounter</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newFunction = outer()</span><br></pre></td></tr></table></figure>
<h3 id="Outer-Function"><a href="#Outer-Function" class="headerlink" title="Outer Function"></a>Outer Function</h3><ul>
<li>Now we can call the function that was originally saved as incrementCounter by its new global label newFunction</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newFunction = outer()</span><br><span class="line">newFunction()</span><br><span class="line">newFunction()</span><br></pre></td></tr></table></figure>
<ul>
<li><p>But we have a problem</p>
</li>
<li><p>The bond</p>
<ul>
<li>When a function is defined, it gets a bond to the surrounding Local Memory(“Variable Environment”) in which it has been defined</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> outer = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> incrementCounter = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    counter++</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> incrementCounter</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newFunction = outer()</span><br><span class="line">newFunction()</span><br><span class="line">newFunction()</span><br></pre></td></tr></table></figure>
<h3 id="Closure-Clarification-amp-Review"><a href="#Closure-Clarification-amp-Review" class="headerlink" title="Closure Clarification &amp; Review"></a>Closure Clarification &amp; Review</h3><ul>
<li>The ‘Backpack’<ol>
<li>When incrementCounter is defined, it gets a bond to the surrounding Local Memory of live data in outer in which it has been defined</li>
<li>We then return incrementCounter out of outer into global and store it in newFunction</li>
<li>But we maintain the bond to the surrounding live local memory from inside of outer - this live memory gets ‘returned out’ attached to the incrementCounter function definition and is therefore now stored attached to newFunction - even though outer’s execution context is long gone</li>
<li>When we run newFunction in the global execution context, it will first look in its own local memory for any data it needs(as we’d expect), but then in its ‘backpack’ before it looks in global memory</li>
</ol>
</li>
<li><p>What’s the offical name for the ‘backpack’</p>
</li>
<li><p>The Closed over Variable Environment(COVE) or ‘Closure’</p>
<ul>
<li>This ‘backpack’ of live data that gets returned out with incrementCounter is known as the ‘closure’</li>
<li>The ‘backpack’(or ‘closure’) of live data is attached incrementCounter(then to newFunction) through a hidden property known as <code>[[scope]]</code> which persists when the inner function is returned out</li>
</ul>
</li>
<li><p>Closure in functional JavaScript</p>
</li>
<li><p>Easier to add features - Our functions can now have persistent permanent memoires attached to them - it’s going to let us build dramatically more powerful functions</p>
</li>
<li>Easier to debug - Definitely need to know how it’s working under the hood</li>
</ul>
<p><a href="http://csbin.io/functional" target="_blank" rel="noopener">exercise link</a></p>
<h2 id="Function-Decoration-amp-Partial-Application"><a href="#Function-Decoration-amp-Partial-Application" class="headerlink" title="Function Decoration &amp; Partial Application"></a>Function Decoration &amp; Partial Application</h2><h3 id="Function-Decoration-Introduction"><a href="#Function-Decoration-Introduction" class="headerlink" title="Function Decoration Introduction"></a>Function Decoration Introduction</h3><ul>
<li>Function Decoration<ul>
<li>Now we can convert functions more easily to make them suit our task</li>
<li>Without writing a new function from scratch</li>
<li>We can run code on other bits of code to appear to change them</li>
</ul>
</li>
</ul>
<h3 id="Decorating-a-Function"><a href="#Decorating-a-Function" class="headerlink" title="Decorating a Function"></a>Decorating a Function</h3><ul>
<li>To add a permanent memory to an exsiting function we have to create a new function that will run the existing function inside of itself</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> oncify = <span class="function">(<span class="params">convertMe</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">const</span> inner = <span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(counter === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> output = convertMe(input)</span><br><span class="line">      counter++</span><br><span class="line">      <span class="keyword">return</span> output</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'sorry'</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> inner</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = <span class="function"><span class="params">num</span> =&gt;</span> num * <span class="number">2</span></span><br><span class="line"><span class="keyword">const</span> oncifiedMultiplyBy2 = oncify(multiplyBy2)</span><br><span class="line"></span><br><span class="line">oncifiedMultiplyBy2(<span class="number">10</span>) <span class="comment">// 20</span></span><br><span class="line">oncifiedMultiplyBy2(<span class="number">7</span>) <span class="comment">// sorry</span></span><br></pre></td></tr></table></figure>
<ul>
<li>Function decoration<ul>
<li>Easier to add features - We can ‘pseudo’ edit out functions that we’ve already made - into functions that behave similar but with bonus features!</li>
<li>Easier to debug - Definitely need to know how it’s working under the hood!</li>
</ul>
</li>
</ul>
<h3 id="Partial-Application-Introduction"><a href="#Partial-Application-Introduction" class="headerlink" title="Partial Application Introduction"></a>Partial Application Introduction</h3><ul>
<li><p>Function composition is powerful but every function needs to behave the same way</p>
<ul>
<li>Thinking in one input and returning out one input</li>
<li>What if I have a function I want to use that expects two inputs<ul>
<li>This is ‘arity mismatch’</li>
</ul>
</li>
<li>We need to ‘decorate’ our function to prefill one of its input</li>
</ul>
</li>
<li><p>This means creating a new function that calls our multi-argument function - with the argument and the multi-argument function stored conveniently in the backpack</p>
</li>
</ul>
<h3 id="Partial-Application-Example"><a href="#Partial-Application-Example" class="headerlink" title="Partial Application Example"></a>Partial Application Example</h3><ul>
<li>It’s known as ‘Partial application’</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> multiply = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a * b</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prefillFunction</span>(<span class="params">fn, prefillValue</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> inner = <span class="function">(<span class="params">liveInput</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> output = fn(liveInput, prefillValue)</span><br><span class="line">    <span class="keyword">return</span> output</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> inner</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiplyBy2 = prefillFunction(muitiply, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">const</span> result = multiplyBy2(<span class="number">5</span>) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<h3 id="Partial-Application-Review"><a href="#Partial-Application-Review" class="headerlink" title="Partial Application Review"></a>Partial Application Review</h3><ul>
<li><p>Partial application and currying</p>
<ul>
<li>In practice we may have to prefill one, two… multiple arguments at different times</li>
<li>We can convert(‘decorate’) any function to a function that will accept arguments one by one and only run the function in full once it has all the arguments</li>
<li>This is a more general version of partial application</li>
</ul>
</li>
<li><p>Partial application and currying</p>
<ul>
<li>Easier to add features - Mismatched arity - no problem! We write a function multiply once and then reuse it for different situations by ‘editing’ its arguments</li>
<li>More readable - We can use our composition/reduce to list our functions to run one-by-one on our data, even if the functions excepted more than one input</li>
<li>Easier to debug - Individual units of functionality possible even with more than one input excepted</li>
</ul>
</li>
<li><p>Functional programming</p>
<ul>
<li>Every line of code is named(or if not, its so short we can see exactly what it does), is an independent unit that has all of its consequences in that single line</li>
<li>We can then couple up(compose) these single units of code/instructions(functions) up into complex tasks</li>
<li>But with every component of the task independent, recognizable, reuseble, versatile and easily debuggable!</li>
</ul>
</li>
<li><p>We have to do some feats to wrestle our tiny units of code(functions)</p>
<ul>
<li>Combining up functions with multiple inputs from libraries</li>
<li>We’ve seen many of them(higher order functions, reduction/composition, closure, function decoration, partial application and currying). And there are even more - monads, applicators et al!</li>
</ul>
</li>
<li><p>Readable. debuggable and easy to add features</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pipe(</span><br><span class="line">  getPlayerName,</span><br><span class="line">  getFirstName,</span><br><span class="line">  properCase,</span><br><span class="line">  addUserLabel,</span><br><span class="line">  createUserTemplate</span><br><span class="line">)([&#123;<span class="attr">name</span>: <span class="string">'will sentance'</span>, <span class="attr">score</span>: <span class="number">3</span>&#125;])</span><br></pre></td></tr></table></figure>
<ul>
<li>But our code is now a set of independent, self contained steps we can wield to solve any problem and become true composers of our code</li>
</ul>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
            <a href="/tags/FrontEndMasters/" rel="tag"># FrontEndMasters</a>
          
            <a href="/tags/Point-Free/" rel="tag"># Point-Free</a>
          
            <a href="/tags/Functional-Programming/" rel="tag"># Functional Programming</a>
          
            <a href="/tags/Partial-Application/" rel="tag"># Partial Application</a>
          
            <a href="/tags/Closure/" rel="tag"># Closure</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/10/04/Sass-Fundamentals/" rel="next" title="Sass Fundamentals">
                <i class="fa fa-chevron-left"></i> Sass Fundamentals
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/10/09/Introduction-to-Data-Visualization-with-d3-js-v4/" rel="prev" title="Introduction to Data Visualization with d3.js v4">
                Introduction to Data Visualization with d3.js v4 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://img.zcool.cn/community/04c6fd55fa1a4a000001b19c79e625.jpg@160w_160h_1c_1e_1o_100sh.jpg" alt="刘勇">
            
              <p class="site-author-name" itemprop="name">刘勇</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">80</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">137</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/blingblingredstar" title="GitHub &rarr; https://github.com/blingblingredstar" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:564447023@qq.com" title="E-Mail &rarr; mailto:564447023@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Functional-Programming-Benefits-amp-Concepts"><span class="nav-number">1.1.</span> <span class="nav-text">Functional Programming Benefits &amp; Concepts</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JavaScript-Principles-Review"><span class="nav-number">2.</span> <span class="nav-text">JavaScript Principles Review</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Executing-JavaScript-Code-A-Review"><span class="nav-number">2.1.</span> <span class="nav-text">Executing JavaScript Code: A Review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Call-Stack-Review"><span class="nav-number">2.2.</span> <span class="nav-text">Call Stack Review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Functions-Review"><span class="nav-number">2.3.</span> <span class="nav-text">Functions Review</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Higher-Order-Functions"><span class="nav-number">3.</span> <span class="nav-text">Higher Order Functions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-Problem-Repetitive-Functions"><span class="nav-number">3.1.</span> <span class="nav-text">The Problem: Repetitive Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generalizing-Functions"><span class="nav-number">3.2.</span> <span class="nav-text">Generalizing Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Higher-Order-Functions-Review"><span class="nav-number">3.3.</span> <span class="nav-text">Higher-Order Functions Review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Higher-Order-Functions-Pair-Programming"><span class="nav-number">3.4.</span> <span class="nav-text">Higher-Order Functions Pair Programming</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrow-amp-Anonymous-Functions"><span class="nav-number">3.5.</span> <span class="nav-text">Arrow &amp; Anonymous Functions</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Map-amp-Reduce"><span class="nav-number">4.</span> <span class="nav-text">Map &amp; Reduce</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Map"><span class="nav-number">4.1.</span> <span class="nav-text">Map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reduce-Introduction"><span class="nav-number">4.2.</span> <span class="nav-text">Reduce Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Reduce-Example"><span class="nav-number">4.3.</span> <span class="nav-text">Reduce Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Built-in-Array-Methods"><span class="nav-number">4.4.</span> <span class="nav-text">Built-in Array Methods</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Filter"><span class="nav-number">4.5.</span> <span class="nav-text">Filter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Chaining-Array-Methods"><span class="nav-number">4.6.</span> <span class="nav-text">Chaining Array Methods</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Composition"><span class="nav-number">5.</span> <span class="nav-text">Composition</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Composition"><span class="nav-number">5.1.</span> <span class="nav-text">Function Composition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Composition-with-Reduce"><span class="nav-number">5.2.</span> <span class="nav-text">Function Composition with Reduce</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Purity-amp-Immutability"><span class="nav-number">6.</span> <span class="nav-text">Purity &amp; Immutability</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Pure-Functions"><span class="nav-number">6.1.</span> <span class="nav-text">Pure Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Immutability"><span class="nav-number">6.2.</span> <span class="nav-text">Immutability</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pure-Functions-amp-Immutability-Review"><span class="nav-number">6.3.</span> <span class="nav-text">Pure Functions &amp; Immutability Review</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Closure"><span class="nav-number">7.</span> <span class="nav-text">Closure</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure-Under-the-Hood"><span class="nav-number">7.1.</span> <span class="nav-text">Closure Under the Hood</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure-Clarifications"><span class="nav-number">7.2.</span> <span class="nav-text">Closure Clarifications</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Inner-Function"><span class="nav-number">7.3.</span> <span class="nav-text">Inner Function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Outer-Function"><span class="nav-number">7.4.</span> <span class="nav-text">Outer Function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Closure-Clarification-amp-Review"><span class="nav-number">7.5.</span> <span class="nav-text">Closure Clarification &amp; Review</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Function-Decoration-amp-Partial-Application"><span class="nav-number">8.</span> <span class="nav-text">Function Decoration &amp; Partial Application</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Decoration-Introduction"><span class="nav-number">8.1.</span> <span class="nav-text">Function Decoration Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Decorating-a-Function"><span class="nav-number">8.2.</span> <span class="nav-text">Decorating a Function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Partial-Application-Introduction"><span class="nav-number">8.3.</span> <span class="nav-text">Partial Application Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Partial-Application-Example"><span class="nav-number">8.4.</span> <span class="nav-text">Partial Application Example</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Partial-Application-Review"><span class="nav-number">8.5.</span> <span class="nav-text">Partial Application Review</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">刘勇</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
