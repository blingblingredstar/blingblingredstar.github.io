<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: false,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="IntroductionWhat is Node.js tldr; Environment to run JavaScript outside a browser   Open source runtime Built on Chrome’s V8 JavaScript engine Created by Ryan Dahl in 2009 Evolved since creation to al">
<meta name="keywords" content="Node.js,JavaScript,FrontEndMasters">
<meta property="og:type" content="article">
<meta property="og:title" content="Introduction to Node.js">
<meta property="og:url" content="http://yoursite.com/2019/09/02/Introduction-to-Node-js/index.html">
<meta property="og:site_name" content="刘勇的博客">
<meta property="og:description" content="IntroductionWhat is Node.js tldr; Environment to run JavaScript outside a browser   Open source runtime Built on Chrome’s V8 JavaScript engine Created by Ryan Dahl in 2009 Evolved since creation to al">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-02T06:31:16.809Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Introduction to Node.js">
<meta name="twitter:description" content="IntroductionWhat is Node.js tldr; Environment to run JavaScript outside a browser   Open source runtime Built on Chrome’s V8 JavaScript engine Created by Ryan Dahl in 2009 Evolved since creation to al">






  <link rel="canonical" href="http://yoursite.com/2019/09/02/Introduction-to-Node-js/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Introduction to Node.js | 刘勇的博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">刘勇的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/02/Introduction-to-Node-js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘勇">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://img.zcool.cn/community/04c6fd55fa1a4a000001b19c79e625.jpg@160w_160h_1c_1e_1o_100sh.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="刘勇的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Introduction to Node.js

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-09-02 14:29:29 / 修改时间：14:31:16" itemprop="dateCreated datePublished" datetime="2019-09-02T14:29:29+08:00">2019-09-02</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/学习笔记/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h3 id="What-is-Node-js"><a href="#What-is-Node-js" class="headerlink" title="What is Node.js"></a>What is Node.js</h3><blockquote>
<p>tldr; Environment to run JavaScript outside a browser</p>
</blockquote>
<ul>
<li>Open source runtime</li>
<li>Built on Chrome’s V8 JavaScript engine</li>
<li>Created by Ryan Dahl in 2009</li>
<li>Evolved since creation to allow developers to build almost anything</li>
</ul>
<p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">nodejs</a></p>
<p><a href="https://v8.dev/" target="_blank" rel="noopener">v8</a><br><a id="more"></a></p>
<h3 id="What-can-I-create-with-Node-js"><a href="#What-can-I-create-with-Node-js" class="headerlink" title="What can I create with Node.js"></a>What can I create with Node.js</h3><p>tldr; Pretty much anything a scripting and server language like python or ruby can, but with JavaScript</p>
<ul>
<li>Tooling (build, automation, etc)</li>
<li>API’s (REST, Realtime, etc)</li>
<li>CDNs</li>
<li>Shareable libraries</li>
<li>Desktop applications 💯😎🎉👌🏾</li>
<li>IOT(Internet of Things)</li>
<li>Pretty much anything because node is on everything now</li>
</ul>
<h3 id="Installing-Node-js"><a href="#Installing-Node-js" class="headerlink" title="Installing Node.js"></a>Installing Node.js</h3><p>tldr; Use NVM(Node Version Manager)</p>
<p><a href="https://github.com/nvm-sh/nvm#installation" target="_blank" rel="noopener">GitHub NVM</a></p>
<p><code>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash</code></p>
<p><code>nvm install node</code></p>
<h3 id="Running-Node-js-Code"><a href="#Running-Node-js-Code" class="headerlink" title="Running Node.js Code"></a>Running Node.js Code</h3><p>tldr; REPL for playing around, cli for everything else</p>
<ul>
<li><p>Interactive REPL</p>
<ul>
<li>Great for trying things out, think console on the browser</li>
<li>Just type the node command with no args and begin</li>
</ul>
</li>
<li><p>CLI Executable</p>
<ul>
<li>Use to execute your node apps</li>
<li><code>node path/to/your/file.js</code></li>
</ul>
</li>
</ul>
<h2 id="Node-js-Modules"><a href="#Node-js-Modules" class="headerlink" title="Node.js Modules"></a>Node.js Modules</h2><h3 id="Browser-JavaScript-vs-Node-js"><a href="#Browser-JavaScript-vs-Node-js" class="headerlink" title="Browser JavaScript vs Node.js"></a>Browser JavaScript vs Node.js</h3><table>
<thead>
<tr>
<th>Browser</th>
<th>Node.js</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bulid Interactive apps for the web</td>
<td>Bulid server side apps and scripts</td>
</tr>
<tr>
<td>DOM</td>
<td>Nope, no GUI(can virtualize)</td>
</tr>
<tr>
<td>Window</td>
<td>No window, but does have a global</td>
</tr>
<tr>
<td>Fragmentation</td>
<td>Versioned, so no fragmentation</td>
</tr>
<tr>
<td>Optional modules(es6)</td>
<td>Required modules(commonjs+)</td>
</tr>
<tr>
<td>Cann’t not access filesystem</td>
<td>Can access filesystem</td>
</tr>
<tr>
<td>Async</td>
<td>Async</td>
</tr>
<tr>
<td></td>
<td>No browser based APIs</td>
</tr>
</tbody>
</table>
<h3 id="Globals-in-Node-js"><a href="#Globals-in-Node-js" class="headerlink" title="Globals in Node.js"></a>Globals in Node.js</h3><p>tldr; Nodejs gives you helpful globals, but just like the browser, you should not create your own</p>
<ul>
<li>process<ul>
<li>has information about the environment the program is running in</li>
</ul>
</li>
<li>require<ul>
<li>function to find and use modules in current module</li>
</ul>
</li>
<li>__dirname<ul>
<li>the current directory path</li>
</ul>
</li>
<li>module<ul>
<li>information about current module, methods or making module consumable</li>
</ul>
</li>
<li>global<ul>
<li>like window, its the “global” object. Almost <strong>NEVER</strong> use this</li>
</ul>
</li>
<li>…. many more</li>
</ul>
<h3 id="Node-js-Module"><a href="#Node-js-Module" class="headerlink" title="Node.js Module"></a>Node.js Module</h3><ul>
<li>What are modules?<ul>
<li>tldr; Encapsulated code</li>
</ul>
</li>
</ul>
<p>node会自动将文件转换为模块，类似下面代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> module1 = (<span class="function"><span class="keyword">function</span>(<span class="params">exports, require, module, __filename, __dirname</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// your node js code in a file</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> module2 = (<span class="function"><span class="keyword">function</span>(<span class="params">exports, require, module, __filename, __dirname</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// your node js code in another file</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>可以看到默认只传入五个参数，那么我们是如何调用其他全局方法或变量的呢？</p>
<p>可以理解为类似浏览器有个兜底对象windows，node有个兜底对象global。没有传入的方法和属性都挂载在上面，而上面五个变量会因为每个module实例的不同而不同(例如文件路径，模块路径等)，所以需要单独传入。</p>
<ul>
<li>Modules in Node.js<ul>
<li>tldr; CommonJs</li>
</ul>
</li>
<li>NodeJs uses commonJs for its module system.</li>
<li>There are other module systems out there like:<ul>
<li>ESM (ecmascript modules) <em>new standard</em></li>
<li>AMD (pretty much dead)</li>
<li>… others, but don’t matter at all</li>
</ul>
</li>
</ul>
<h3 id="Creating-Node-Modules"><a href="#Creating-Node-Modules" class="headerlink" title="Creating Node Modules"></a>Creating Node Modules</h3><ul>
<li><p>Creating modules</p>
<ul>
<li>tldr; Regular code, just export it</li>
</ul>
</li>
<li><p>All your Nodejs code are modules.</p>
</li>
<li>As the author, you decide how and what to expose from your modules, to other modules.</li>
<li>You do this with the module global object provided you by the Nodejs runtime</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Importing-Node-Modules"><a href="#Importing-Node-Modules" class="headerlink" title="Importing Node Modules"></a>Importing Node Modules</h3><ul>
<li>Using modules<ul>
<li>tldr; require</li>
</ul>
</li>
<li>The Nodejs runtime injects another global, require.</li>
<li>This function takes a relative path to the module that you want to consume, and synchronously loads it by returning whatever the target module exported.</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> myModule = <span class="built_in">require</span>(<span class="string">'./myModule'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Internal-Modules-amp-npm"><a href="#Internal-Modules-amp-npm" class="headerlink" title="Internal Modules &amp; npm"></a>Internal Modules &amp; npm</h2><h3 id="The-fs-Module"><a href="#The-fs-Module" class="headerlink" title="The fs Module"></a>The fs Module</h3><ul>
<li><p>Shipped modules</p>
<ul>
<li>tldr; Node.js ships with a bunch of helpful modules already</li>
</ul>
</li>
<li><p>fs - fileSystem module to interacting with files on a machine</p>
</li>
<li>http - low level-ish module for creating network based programs, like APIs</li>
<li>path - useful for mainpulating path strings and handling differences across many OS’s</li>
<li>…many more</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>)</span><br></pre></td></tr></table></figure>
<p>node内核自带模块引入时不需要加路径参数。</p>
<h3 id="Other-Internal-Node-Modules"><a href="#Other-Internal-Node-Modules" class="headerlink" title="Other Internal Node Modules"></a>Other Internal Node Modules</h3><h3 id="Remote-Modules"><a href="#Remote-Modules" class="headerlink" title="Remote Modules"></a>Remote Modules</h3><p>tldr; download and use other modules from the internet</p>
<ul>
<li>Node.js has grown a bunch, and a bunch of that growth is due to its community and the ability to share modules and consume them at will</li>
<li>You can slap together an app really fast by reusing public modules. Which are the same as the modules you make, but packaged for downloading</li>
<li>This sounds nice, but now you have to be aware of malicious code. Also, you need a system to help with the management ogf remote modules(downloading, publishing, updating, etc)</li>
</ul>
<h3 id="Modules-Recap"><a href="#Modules-Recap" class="headerlink" title="Modules Recap"></a>Modules Recap</h3><ul>
<li>Three module types, on require<ul>
<li>tldr; modules you created are always relative paths.”.js” is implied.</li>
</ul>
</li>
</ul>
<p>Custom local modules</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lib = <span class="built_in">require</span>(<span class="string">'../rel/path/to/lib'</span>) <span class="comment">// 相对路径</span></span><br></pre></td></tr></table></figure>
<p>Remote modules</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lib = <span class="built_in">require</span>(<span class="string">'lib'</span>) <span class="comment">// 与在npm进行安装时同样的名称</span></span><br></pre></td></tr></table></figure>
<p>Shipped modules</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>) <span class="comment">// 内置模块，直接用模块名称</span></span><br></pre></td></tr></table></figure>
<h3 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h3><p>tldr; CLI(Command Line Interface) to manage remote modules</p>
<ul>
<li>Ships with Node.js</li>
<li>Allows you to publish, download, and update modules</li>
<li>Use <code>package.json</code> file in your Node.js project to determine dependedcies</li>
<li>Store remote modules in the <code>node_modules</code> folder</li>
<li>…whole bunch of other stuff</li>
</ul>
<h3 id="yarn"><a href="#yarn" class="headerlink" title="yarn"></a>yarn</h3><p><a href="https://yarnpkg.com/en/" target="_blank" rel="noopener">yarn</a></p>
<h2 id="Asynchronous-Node-js"><a href="#Asynchronous-Node-js" class="headerlink" title="Asynchronous Node.js"></a>Asynchronous Node.js</h2><h3 id="Asynchronous-Code-in-Node-js"><a href="#Asynchronous-Code-in-Node-js" class="headerlink" title="Asynchronous Code in Node.js"></a>Asynchronous Code in Node.js</h3><ul>
<li><p>Async code</p>
<ul>
<li>tldr; Node.js is single threaded and async like the browser, but you’ll probably do more async things</li>
</ul>
</li>
<li><p>Node.js is single threaded and event based. Just like the browser</p>
</li>
<li>Unlike the browser, your Node.js app will be shared by all clients</li>
<li>You now have consider CPU intensive tasks that block the single thread(while loops)</li>
</ul>
<h3 id="Asynchronous-Patterns"><a href="#Asynchronous-Patterns" class="headerlink" title="Asynchronous Patterns"></a>Asynchronous Patterns</h3><ul>
<li><p>Async patterns</p>
<ul>
<li>tldr; async/await is legit</li>
</ul>
</li>
<li><p>callback parrern</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">doAsyncThing(<span class="function">(<span class="params">err, result</span>) =&gt;</span> &#123; <span class="comment">/* do somethins */</span> &#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>promises</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">doAsyncThing()</span><br><span class="line">  .then(<span class="function"><span class="params">result</span> =&gt;</span> &#123;&#125;)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;)</span><br></pre></td></tr></table></figure>
<ul>
<li>async/await</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> run  = <span class="keyword">async</span>() =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> doAsyncThing() <span class="comment">// must return a promise</span></span><br><span class="line">  <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Error-handling"><a href="#Error-handling" class="headerlink" title="Error handling"></a>Error handling</h3><p>tldr; Errors kill your app, just like the browser</p>
<ul>
<li>Any thrown or unhandled errors will cause the process to crash and exit</li>
<li>Your app may have errors that should not cause a crash, so you must handle accordingly</li>
</ul>
<h3 id="Servers"><a href="#Servers" class="headerlink" title="Servers"></a>Servers</h3><p>tldr; one server, handling many requests from clients</p>
<ul>
<li>A server’s job is to handle a request from some sort of client(browser, mobile app, another server, etc)</li>
<li>Without considering scaling, one server instance will handle many client requesets.Compared to a client app where that code only cared about itself on the host machine.</li>
<li>Node.js has built in and community packages for build all types of servers(API’s, static, realtime, etc)</li>
</ul>
<h2 id="Debugging-amp-Testing"><a href="#Debugging-amp-Testing" class="headerlink" title="Debugging &amp; Testing"></a>Debugging &amp; Testing</h2><h3 id="Debugging-Node"><a href="#Debugging-Node" class="headerlink" title="Debugging Node"></a>Debugging Node</h3><ul>
<li><p>Debugging</p>
<ul>
<li>tldr; just like chrome</li>
</ul>
</li>
<li><p>Level 1</p>
<ul>
<li>Use <code>console.log</code> to log your way through fixing your app. In production, record your logs</li>
</ul>
</li>
<li>Level 2<ul>
<li>Use the node inspector when starting your app and debug just like you would an browser app in chrome</li>
</ul>
</li>
<li>Level 3<ul>
<li>Text editor integration offers the most seamless experience</li>
</ul>
</li>
</ul>
<h3 id="Testing-Node-Libraries"><a href="#Testing-Node-Libraries" class="headerlink" title="Testing Node Libraries"></a>Testing Node Libraries</h3><ul>
<li><p>Testing</p>
<ul>
<li>tldr; export you modules and use a testing framework</li>
</ul>
</li>
<li><p>Before you can test your code, make sure it is testable. As long as you can export what you want to test, you should be able to test it. There are other concerns specific to what libraries and frameworks you use</p>
</li>
<li>You can test pretty much antthing in Node.js. Browser apps, API’s, CLI’s, scripts, tools, etc. Your test themselves will be executed in Node.js, so they have the abality to pretty much do anything.</li>
</ul>
<h3 id="Anatomy-of-Tests"><a href="#Anatomy-of-Tests" class="headerlink" title="Anatomy of Tests"></a>Anatomy of Tests</h3><p>tldr; many tools for the same job</p>
<ul>
<li>Your code to be tested</li>
<li>Test Suite - responsible for helping organize you tests, provide hooks, and overall envionment</li>
<li>Assertion Library - does the actual comparisons in your test</li>
<li>Mocks + Spies - tools to help you test your code without testing other code or actually running your code(mock out api calls, check to see if an internal function was called)</li>
</ul>
<h3 id="Type-of-Tests"><a href="#Type-of-Tests" class="headerlink" title="Type of Tests"></a>Type of Tests</h3><p>tldr; everything can be tested with Node</p>
<ul>
<li>unit</li>
<li>integration</li>
<li>end-to-end</li>
<li>UI</li>
<li>snapshot</li>
<li>performance</li>
<li>…so many more</li>
</ul>
<h2 id="Publishing-and-Deploying"><a href="#Publishing-and-Deploying" class="headerlink" title="Publishing and Deploying"></a>Publishing and Deploying</h2><h3 id="Sharing-Modules"><a href="#Sharing-Modules" class="headerlink" title="Sharing Modules"></a>Sharing Modules</h3><p>tldr; push code to github, publish to NPM</p>
<ul>
<li>Sharing your modules are easy. Just a few things you have to check:<ul>
<li>add <code>node_modules</code> to gitignore</li>
<li>declare remote modules as devDependencies if you only need them to develop with(like jest)</li>
<li>think about how your app will be used and what dependencies the host app might have, you don’t want to include another version(although NPM tries ti fix this for you)</li>
<li>is this private or public?</li>
</ul>
</li>
</ul>
<h3 id="Deploying-Your-Servers"><a href="#Deploying-Your-Servers" class="headerlink" title="Deploying Your Servers"></a>Deploying Your Servers</h3><p>tldr; follow cloud provider instructions, and never hard code secrets</p>
<ul>
<li><p>Each cloud provider has it’s own method of deploying your apps on their platforms. Most of them have some integration with github or a CLI to assist.</p>
</li>
<li><p>Few things to remember</p>
<ul>
<li>remove secrets and use environment vars</li>
<li>setup a CI flow for your app</li>
<li>make sure you are developing with the same version of node you are deploying to</li>
</ul>
</li>
</ul>
<h3 id="Futher-Tools-amp-Resources"><a href="#Futher-Tools-amp-Resources" class="headerlink" title="Futher Tools &amp; Resources"></a>Futher Tools &amp; Resources</h3><p><a href="https://expressjs.com/en/guide/routing.html" target="_blank" rel="noopener">express</a><br><a href="https://github.com/tj/commander.js/" target="_blank" rel="noopener">commander</a><br><a href="https://www.gatsbyjs.org/" target="_blank" rel="noopener">Gatsby</a><br><a href="https://nuxtjs.org/" target="_blank" rel="noopener">Nuxt</a><br><a href="https://nextjs.org/" target="_blank" rel="noopener">Next.js</a></p>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Node-js/" rel="tag"># Node.js</a>
          
            <a href="/tags/JavaScript/" rel="tag"># JavaScript</a>
          
            <a href="/tags/FrontEndMasters/" rel="tag"># FrontEndMasters</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/09/01/CSS全解-CSS定位/" rel="next" title="[CSS全解]CSS定位">
                <i class="fa fa-chevron-left"></i> [CSS全解]CSS定位
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/03/JS的历史/" rel="prev" title="JS的历史">
                JS的历史 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://img.zcool.cn/community/04c6fd55fa1a4a000001b19c79e625.jpg@160w_160h_1c_1e_1o_100sh.jpg" alt="刘勇">
            
              <p class="site-author-name" itemprop="name">刘勇</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">84</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                      <a href="/categories/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                      <a href="/tags/">
                    
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">139</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/blingblingredstar" title="GitHub &rarr; https://github.com/blingblingredstar" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:564447023@qq.com" title="E-Mail &rarr; mailto:564447023@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-Node-js"><span class="nav-number">1.1.</span> <span class="nav-text">What is Node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-can-I-create-with-Node-js"><span class="nav-number">1.2.</span> <span class="nav-text">What can I create with Node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Installing-Node-js"><span class="nav-number">1.3.</span> <span class="nav-text">Installing Node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Running-Node-js-Code"><span class="nav-number">1.4.</span> <span class="nav-text">Running Node.js Code</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Node-js-Modules"><span class="nav-number">2.</span> <span class="nav-text">Node.js Modules</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Browser-JavaScript-vs-Node-js"><span class="nav-number">2.1.</span> <span class="nav-text">Browser JavaScript vs Node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Globals-in-Node-js"><span class="nav-number">2.2.</span> <span class="nav-text">Globals in Node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Node-js-Module"><span class="nav-number">2.3.</span> <span class="nav-text">Node.js Module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Creating-Node-Modules"><span class="nav-number">2.4.</span> <span class="nav-text">Creating Node Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Importing-Node-Modules"><span class="nav-number">2.5.</span> <span class="nav-text">Importing Node Modules</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Internal-Modules-amp-npm"><span class="nav-number">3.</span> <span class="nav-text">Internal Modules &amp; npm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#The-fs-Module"><span class="nav-number">3.1.</span> <span class="nav-text">The fs Module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Other-Internal-Node-Modules"><span class="nav-number">3.2.</span> <span class="nav-text">Other Internal Node Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Remote-Modules"><span class="nav-number">3.3.</span> <span class="nav-text">Remote Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Modules-Recap"><span class="nav-number">3.4.</span> <span class="nav-text">Modules Recap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#npm"><span class="nav-number">3.5.</span> <span class="nav-text">npm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#yarn"><span class="nav-number">3.6.</span> <span class="nav-text">yarn</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Asynchronous-Node-js"><span class="nav-number">4.</span> <span class="nav-text">Asynchronous Node.js</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Asynchronous-Code-in-Node-js"><span class="nav-number">4.1.</span> <span class="nav-text">Asynchronous Code in Node.js</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Asynchronous-Patterns"><span class="nav-number">4.2.</span> <span class="nav-text">Asynchronous Patterns</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Error-handling"><span class="nav-number">4.3.</span> <span class="nav-text">Error handling</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Servers"><span class="nav-number">4.4.</span> <span class="nav-text">Servers</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Debugging-amp-Testing"><span class="nav-number">5.</span> <span class="nav-text">Debugging &amp; Testing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Debugging-Node"><span class="nav-number">5.1.</span> <span class="nav-text">Debugging Node</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Testing-Node-Libraries"><span class="nav-number">5.2.</span> <span class="nav-text">Testing Node Libraries</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Anatomy-of-Tests"><span class="nav-number">5.3.</span> <span class="nav-text">Anatomy of Tests</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Type-of-Tests"><span class="nav-number">5.4.</span> <span class="nav-text">Type of Tests</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Publishing-and-Deploying"><span class="nav-number">6.</span> <span class="nav-text">Publishing and Deploying</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Sharing-Modules"><span class="nav-number">6.1.</span> <span class="nav-text">Sharing Modules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Deploying-Your-Servers"><span class="nav-number">6.2.</span> <span class="nav-text">Deploying Your Servers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Futher-Tools-amp-Resources"><span class="nav-number">6.3.</span> <span class="nav-text">Futher Tools &amp; Resources</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">刘勇</span>

  

  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.1"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.1"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  

  

  

  


  


  




  

  

  

  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
